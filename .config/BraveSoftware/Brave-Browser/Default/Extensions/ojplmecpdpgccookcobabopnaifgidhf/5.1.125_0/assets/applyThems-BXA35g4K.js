var Vw=Object.defineProperty;var vg=t=>{throw TypeError(t)};var Ww=(t,e,r)=>e in t?Vw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Jt=(t,e,r)=>Ww(t,typeof e!="symbol"?e+"":e,r),bf=(t,e,r)=>e.has(t)||vg("Cannot "+r);var Ti=(t,e,r)=>(bf(t,e,"read from private field"),r?r.call(t):e.get(t)),fl=(t,e,r)=>e.has(t)?vg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),wf=(t,e,r,n)=>(bf(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),hg=(t,e,r)=>(bf(t,e,"access private method"),r);import{U as Hw,p as R,c as ke,i as W,a as b,s as ct,t as H,b as ie,d as Y,e as pe,f as Tt,g as ne,o as Zt,h as qe,j as tt,$ as tr,k as $e,l as Gn,n as Xt,q as Fi,r as Wt,u as Mr,w as Dy,v as Rt,x as Hn,y as St,z as br,A as zt,B as Ui,C as ri,D as qw,E as bc,F as Vi,G as Ly,H as It,I as Gw,J as _h,K as Ey,L as er,M as qa,N as In,O as Ot,P as Zl,Q as pg,R as es,S as jr,T as Iy,V as gg,W as mg,X as Gc,Y as vi,Z as $w,_ as Ty,m as Yw}from"./sentry-y_Iga7PX.js";import{N as Xw,O as Kw,P as Qw,Q as Y0,R as Oy,S as X0,T as Ry,U as Ny,V as Jw,W as Zw,X as e3,Y as zy,Z as ec,_ as t3,$ as r3,a0 as n3,a1 as a3,a2 as i3,a3 as mr,a4 as o3,a5 as xg,a6 as a,a7 as he,a8 as Ne,a9 as s3,aa as bt,ab as Xe,ac as de,ad as Ke,ae as v,af as x,ag as ae,ah as K0,ai as le,aj as Q0,ak as g,F as fn,al as J0,am as ts,an as Js,I as Yi,J as Ho,ao as tc,ap as By,aq as _o,ar as wc,as as Ns,at as jy,au as kc,av as Hi,aw as Nt,K as zu,ax as Fy,ay as Uy,az as un,aA as vt,aB as mt,aC as kn,aD as yg,aE as l3,h as bh,e as wh,a as kh,aF as Ni,c as Fr,aG as an,aH as Xr,aI as Vy,aJ as c3,aK as d3,aL as Ie,k as Da,aM as Wy,aN as Z0,aO as Hy,aP as Sc,aQ as qy,aR as kd,aS as Gy,aT as $y,aU as u3,aV as co,aW as f3,aX as v3,aY as Yy,aZ as _a,a_ as Do,a$ as h3,b0 as p3,b1 as g3,b2 as Zs,b3 as m3,b4 as x3,b5 as Xy,b6 as y3,b7 as _3,b8 as Nd,b9 as Bu,ba as Ve,bb as Jr,bc as De,bd as Qr,be as Mn,bf as rs,bg as b3,bh as el,bi as tl,bj as za,bk as Ky,bl as w3,bm as k3,bn as rc,bo as ju,bp as S3,bq as Qy,br as Fu,bs as qo,bt as C3,bu as A3,bv as M3,bw as P3,bx as D3,by as L3,bz as E3,bA as Jy,bB as so,bC as Ps,bD as Zy,bE as e_,bF as zd,bG as Bd,bH as t_,bI as Na,bJ as I3,bK as ui,bL as T3,bM as _g,f as bg,v as kf,q as O3,bN as R3,bO as N3,bP as z3,bQ as da,bR as r_,g as ns,t as Uu,bS as B3,bT as j3,bU as F3,bV as ep,D as tp,bW as U3,C as n_,G as rp,bX as V3,bY as Po,bZ as W3,b_ as H3,b$ as q3,c0 as ai,c1 as G3}from"./utility_all2-0mYDd1Oa.js";import{c as a_,g as i_,b as o_}from"./autoCouponUI-BSRHB3pC.js";function Vu(t,e,r){var n=t,i=Hw,o,s=Xw()?Kw:Qw;Y0(()=>{s(i,i=e())&&(o&&Oy(o),o=X0(()=>r(n)))})}function $t(t,e,r,n,i){var l;var o=(l=e.$$slots)==null?void 0:l[r],s=!1;o===!0&&(o=e[r==="default"?"children":r],s=!0),o===void 0?i!==null&&i(t):o(t,s?()=>n:n)}function Cc(t){const e={};t.children&&(e.default=!0);for(const r in t.$$slots)e[r]=!0;return e}function Sh(t,e,...r){var n=t,i=Ny,o;Y0(()=>{i!==(i=e())&&(o&&(Jw(o),o=null),o=X0(()=>i(n,...r)))},Ry)}function np(t,e,r){var n=t,i,o;Y0(()=>{i!==(i=e())&&(o&&(Oy(o),o=null),i&&(o=X0(()=>r(n,i))))},Ry)}function ar(t,e,r,n){var i=t.__styles??(t.__styles={});i[e]!==r&&(i[e]=r,r==null?t.style.removeProperty(e):t.style.setProperty(e,r,""))}function fi(t,e,r){var n=Zw(t,e);n&&n.set&&(t[e]=r,e3(()=>{t[e]=null}))}var oo,Rs,_c,Ru,s_;const Nu=class Nu{constructor(e){fl(this,Ru);fl(this,oo,new WeakMap);fl(this,Rs);fl(this,_c);wf(this,_c,e)}observe(e,r){var n=Ti(this,oo).get(e)||new Set;return n.add(r),Ti(this,oo).set(e,n),hg(this,Ru,s_).call(this).observe(e,Ti(this,_c)),()=>{var i=Ti(this,oo).get(e);i.delete(r),i.size===0&&(Ti(this,oo).delete(e),Ti(this,Rs).unobserve(e))}}};oo=new WeakMap,Rs=new WeakMap,_c=new WeakMap,Ru=new WeakSet,s_=function(){return Ti(this,Rs)??wf(this,Rs,new ResizeObserver(e=>{for(var r of e){Nu.entries.set(r.target,r);for(var n of Ti(this,oo).get(r.target)||[])n(r)}}))},Jt(Nu,"entries",new WeakMap);let Ch=Nu;var $3=new Ch({box:"border-box"});function jd(t,e,r){var n=$3.observe(t,()=>r(t[e]));zy(()=>(ec(()=>r(t[e])),n))}function wg(t,e){return t===e||(t==null?void 0:t[n3])===e}function Ar(t={},e,r,n){return zy(()=>{var i,o;return t3(()=>{i=o,o=[],ec(()=>{t!==r(...o)&&(e(t,...o),i&&wg(r(...i),t)&&e(null,...i))})}),()=>{r3(()=>{o&&wg(r(...o),t)&&e(null,...o)})}}),t}function pr(t=!1){const e=a3,r=e.l.u;if(!r)return;let n=()=>he(e.s);if(t){let i=0,o={};const s=Ne(()=>{let l=!1;const c=e.s;for(const d in c)c[d]!==o[d]&&(o[d]=c[d],l=!0);return l&&i++,i});n=()=>a(s)}r.b.length&&i3(()=>{kg(e,n),xg(r.b)}),mr(()=>{const i=ec(()=>r.m.map(o3));return()=>{for(const o of i)typeof o=="function"&&o()}}),r.a.length&&mr(()=>{kg(e,n),xg(r.a)})}function kg(t,e){if(t.l.s)for(const r of t.l.s)a(r);e()}function ja(t,e){var o;var r=(o=t.$$events)==null?void 0:o[e.type],n=s3(r)?r.slice():r==null?[]:[r];for(var i of n)i.call(this,e)}const Y3={watchListData:[]},X3=bt(Y3),l_=6048e5,K3=864e5,c_=6e4,d_=36e5,Sg=Symbol.for("constructDateFrom");function Si(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Sg in t?t[Sg](e):t instanceof Date?new t.constructor(e):new Date(e)}function qn(t,e){return Si(e||t,t)}function Ah(t,e,r){const n=qn(t,r==null?void 0:r.in);return isNaN(e)?Si(t,NaN):(e&&n.setDate(n.getDate()+e),n)}let Q3={};function Ac(){return Q3}function zs(t,e){var l,c,d,u;const r=Ac(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,i=qn(t,e==null?void 0:e.in),o=i.getDay(),s=(o<n?7:0)+o-n;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Fd(t,e){return zs(t,{...e,weekStartsOn:1})}function u_(t,e){const r=qn(t,e==null?void 0:e.in),n=r.getFullYear(),i=Si(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const o=Fd(i),s=Si(r,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const l=Fd(s);return r.getTime()>=o.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function Cg(t){const e=qn(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function f_(t,...e){const r=Si.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function Ag(t,e){const r=qn(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function v_(t,e,r){const[n,i]=f_(r==null?void 0:r.in,t,e),o=Ag(n),s=Ag(i),l=+o-Cg(o),c=+s-Cg(s);return Math.round((l-c)/K3)}function J3(t,e){const r=u_(t,e),n=Si(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Fd(n)}function Z3(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function e4(t){return!(!Z3(t)&&typeof t!="number"||isNaN(+qn(t)))}function t4(t,e,r){const[n,i]=f_(r==null?void 0:r.in,t,e),o=Mg(n,i),s=Math.abs(v_(n,i));n.setDate(n.getDate()-o*s);const l=+(Mg(n,i)===-o),c=o*(s-l);return c===0?0:c}function Mg(t,e){const r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function r4(t,e){const r=qn(t,e==null?void 0:e.in),n=r.getMonth(),i=n-n%3;return r.setMonth(i,1),r.setHours(0,0,0,0),r}function n4(t,e){const r=qn(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function a4(t,e){var l,c,d,u;const r=Ac(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,i=qn(t,e==null?void 0:e.in),o=i.getDay(),s=(o<n?-7:0)+6-(o-n);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function i4(t,e){const r=qn(t,e==null?void 0:e.in),n=r.getMonth(),i=n-n%3+3;return r.setMonth(i,0),r.setHours(23,59,59,999),r}const o4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},s4=(t,e,r)=>{let n;const i=o4[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Sf(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const l4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},c4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},d4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},u4={date:Sf({formats:l4,defaultWidth:"full"}),time:Sf({formats:c4,defaultWidth:"full"}),dateTime:Sf({formats:d4,defaultWidth:"full"})},f4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},v4=(t,e,r,n)=>f4[t];function vl(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):s;i=t.formattingValues[l]||t.formattingValues[s]}else{const s=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const h4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},p4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},g4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},m4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},x4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},y4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_4=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},b4={ordinalNumber:_4,era:vl({values:h4,defaultWidth:"wide"}),quarter:vl({values:p4,defaultWidth:"wide",argumentCallback:t=>t-1}),month:vl({values:g4,defaultWidth:"wide"}),day:vl({values:m4,defaultWidth:"wide"}),dayPeriod:vl({values:x4,defaultWidth:"wide",formattingValues:y4,defaultFormattingWidth:"wide"})};function hl(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?k4(l,f=>f.test(s)):w4(l,f=>f.test(s));let d;d=t.valueCallback?t.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=e.slice(s.length);return{value:d,rest:u}}}function w4(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function k4(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function S4(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=r.valueCallback?r.valueCallback(s):s;const l=e.slice(i.length);return{value:s,rest:l}}}const C4=/^(\d+)(th|st|nd|rd)?/i,A4=/\d+/i,M4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},P4={any:[/^b/i,/^(a|c)/i]},D4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},L4={any:[/1/i,/2/i,/3/i,/4/i]},E4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},I4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},T4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},O4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},R4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},N4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},z4={ordinalNumber:S4({matchPattern:C4,parsePattern:A4,valueCallback:t=>parseInt(t,10)}),era:hl({matchPatterns:M4,defaultMatchWidth:"wide",parsePatterns:P4,defaultParseWidth:"any"}),quarter:hl({matchPatterns:D4,defaultMatchWidth:"wide",parsePatterns:L4,defaultParseWidth:"any",valueCallback:t=>t+1}),month:hl({matchPatterns:E4,defaultMatchWidth:"wide",parsePatterns:I4,defaultParseWidth:"any"}),day:hl({matchPatterns:T4,defaultMatchWidth:"wide",parsePatterns:O4,defaultParseWidth:"any"}),dayPeriod:hl({matchPatterns:R4,defaultMatchWidth:"any",parsePatterns:N4,defaultParseWidth:"any"})},B4={code:"en-US",formatDistance:s4,formatLong:u4,formatRelative:v4,localize:b4,match:z4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function j4(t,e){const r=qn(t,e==null?void 0:e.in);return v_(r,n4(r))+1}function F4(t,e){const r=qn(t,e==null?void 0:e.in),n=+Fd(r)-+J3(r);return Math.round(n/l_)+1}function h_(t,e){var u,f,h,p;const r=qn(t,e==null?void 0:e.in),n=r.getFullYear(),i=Ac(),o=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=Si((e==null?void 0:e.in)||t,0);s.setFullYear(n+1,0,o),s.setHours(0,0,0,0);const l=zs(s,e),c=Si((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const d=zs(c,e);return+r>=+l?n+1:+r>=+d?n:n-1}function U4(t,e){var l,c,d,u;const r=Ac(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,i=h_(t,e),o=Si((e==null?void 0:e.in)||t,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),zs(o,e)}function V4(t,e){const r=qn(t,e==null?void 0:e.in),n=+zs(r,e)-+U4(r,e);return Math.round(n/l_)+1}function Nr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const to={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Nr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Nr(r+1,2)},d(t,e){return Nr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Nr(t.getHours()%12||12,e.length)},H(t,e){return Nr(t.getHours(),e.length)},m(t,e){return Nr(t.getMinutes(),e.length)},s(t,e){return Nr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Nr(i,e.length)}},ys={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Pg={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return to.y(t,e)},Y:function(t,e,r,n){const i=h_(t,n),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return Nr(s,2)}return e==="Yo"?r.ordinalNumber(o,{unit:"year"}):Nr(o,e.length)},R:function(t,e){const r=u_(t);return Nr(r,e.length)},u:function(t,e){const r=t.getFullYear();return Nr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Nr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Nr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return to.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Nr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=V4(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Nr(i,e.length)},I:function(t,e,r){const n=F4(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Nr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):to.d(t,e)},D:function(t,e,r){const n=j4(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Nr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Nr(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Nr(o,e.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Nr(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=ys.noon:n===0?i=ys.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=ys.evening:n>=12?i=ys.afternoon:n>=4?i=ys.morning:i=ys.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return to.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):to.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Nr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Nr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):to.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):to.s(t,e)},S:function(t,e){return to.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Lg(n);case"XXXX":case"XX":return Lo(n);case"XXXXX":case"XXX":default:return Lo(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return Lg(n);case"xxxx":case"xx":return Lo(n);case"xxxxx":case"xxx":default:return Lo(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Dg(n,":");case"OOOO":default:return"GMT"+Lo(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Dg(n,":");case"zzzz":default:return"GMT"+Lo(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return Nr(n,e.length)},T:function(t,e,r){return Nr(+t,e.length)}};function Dg(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),o=n%60;return o===0?r+String(i):r+String(i)+e+Nr(o,2)}function Lg(t,e){return t%60===0?(t>0?"-":"+")+Nr(Math.abs(t)/60,2):Lo(t,e)}function Lo(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Nr(Math.trunc(n/60),2),o=Nr(n%60,2);return r+i+e+o}const Eg=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},p_=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},W4=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return Eg(t,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Eg(n,e)).replace("{{time}}",p_(i,e))},H4={p:p_,P:W4},q4=/^D+$/,G4=/^Y+$/,$4=["D","DD","YY","YYYY"];function Y4(t){return q4.test(t)}function X4(t){return G4.test(t)}function K4(t,e,r){const n=Q4(t,e,r);if(console.warn(n),$4.includes(t))throw new RangeError(n)}function Q4(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const J4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Z4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,e5=/^'([^]*?)'?$/,t5=/''/g,r5=/[a-zA-Z]/;function ma(t,e,r){var u,f,h,p;const n=Ac(),i=n.locale??B4,o=n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,s=n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,l=qn(t,r==null?void 0:r.in);if(!e4(l))throw new RangeError("Invalid time value");let c=e.match(Z4).map(m=>{const y=m[0];if(y==="p"||y==="P"){const _=H4[y];return _(m,i.formatLong)}return m}).join("").match(J4).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const y=m[0];if(y==="'")return{isToken:!1,value:n5(m)};if(Pg[y])return{isToken:!0,value:m};if(y.match(r5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return c.map(m=>{if(!m.isToken)return m.value;const y=m.value;(X4(y)||Y4(y))&&K4(y,e,String(t));const _=Pg[y[0]];return _(l,y,i.localize,d)}).join("")}function n5(t){const e=t.match(e5);return e?e[1].replace(t5,"'"):t}function a5(t,e){const r=qn(t,e==null?void 0:e.in);if(isNaN(+r))throw new RangeError("Invalid time value");let n="",i="";const o="-",s=":";{const l=Nr(r.getDate(),2),c=Nr(r.getMonth()+1,2);n=`${Nr(r.getFullYear(),4)}${o}${c}${o}${l}`}{const l=r.getTimezoneOffset();if(l!==0){const p=Math.abs(l),m=Nr(Math.trunc(p/60),2),y=Nr(p%60,2);i=`${l<0?"+":"-"}${m}:${y}`}else i="Z";const c=Nr(r.getHours(),2),d=Nr(r.getMinutes(),2),u=Nr(r.getSeconds(),2),f=n===""?"":"T",h=[c,d,u].join(s);n=`${n}${f}${h}${i}`}return n}function i5(t,e){const r=()=>Si(e==null?void 0:e.in,NaN),i=c5(t);let o;if(i.date){const d=d5(i.date,2);o=u5(d.restDateString,d.year)}if(!o||isNaN(+o))return r();const s=+o;let l=0,c;if(i.time&&(l=f5(i.time),isNaN(l)))return r();if(i.timezone){if(c=v5(i.timezone),isNaN(c))return r()}else{const d=new Date(s+l),u=qn(0,e==null?void 0:e.in);return u.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),u.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),u}return qn(s+l+c,e==null?void 0:e.in)}const $c={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},o5=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,s5=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,l5=/^([+-])(\d{2})(?::?(\d{2}))?$/;function c5(t){const e={},r=t.split($c.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],$c.timeZoneDelimiter.test(e.date)&&(e.date=t.split($c.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const i=$c.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function d5(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((n[1]||n[2]).length)}}function u5(t,e){if(e===null)return new Date(NaN);const r=t.match(o5);if(!r)return new Date(NaN);const n=!!r[4],i=pl(r[1]),o=pl(r[2])-1,s=pl(r[3]),l=pl(r[4]),c=pl(r[5])-1;if(n)return x5(e,l,c)?h5(e,l,c):new Date(NaN);{const d=new Date(0);return!g5(e,o,s)||!m5(e,i)?new Date(NaN):(d.setUTCFullYear(e,o,Math.max(i,s)),d)}}function pl(t){return t?parseInt(t):1}function f5(t){const e=t.match(s5);if(!e)return NaN;const r=Cf(e[1]),n=Cf(e[2]),i=Cf(e[3]);return y5(r,n,i)?r*d_+n*c_+i*1e3:NaN}function Cf(t){return t&&parseFloat(t.replace(",","."))||0}function v5(t){if(t==="Z")return 0;const e=t.match(l5);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return _5(n,i)?r*(n*d_+i*c_):NaN}function h5(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const i=n.getUTCDay()||7,o=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+o),n}const p5=[31,null,31,30,31,30,31,31,30,31,30,31];function g_(t){return t%400===0||t%4===0&&t%100!==0}function g5(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(p5[e]||(g_(t)?29:28))}function m5(t,e){return e>=1&&e<=(g_(t)?366:365)}function x5(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function y5(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function _5(t,e){return e>=0&&e<=59}const Sd={renderOverlayContent:!1,position:"right",sliderContentPosition:{top:"50%"},featureData:{priceHistory:!0,ditto:!0,priceAlert:!0,spendLens:!0,autoCoupon:!0,coupon:!0,dealScanner:!0,recentViews:!1,chatAI:!0},priceHistoryTabSize:"wide"},fa=bt(Sd);function m_(t,e){for(const r in e)e[r]&&typeof e[r]=="object"&&!Array.isArray(e[r])?t[r]=m_(t[r]??{},e[r]):t[r]=e[r];return t}const b5=async()=>{try{const t=await chrome.storage.local.get("appState");if(t!=null&&t.appState){const e=m_(Sd,t.appState);fa.set(e)}else fa.set(Sd)}catch(t){console.error("Error loading appState from storage:",t),fa.set(Sd)}},ti=t=>{fa.update(e=>{const r={...e,...t};return chrome.storage.local.set({appState:r}),r})};var w5=H('<img class="h-5 w-5">'),k5=H("<div> </div>"),S5=H('<div class="absolute right-12 top-1/2 -translate-y-1/2 bg-surface-950 text-white text-sm font-medium rounded-lg px-3 py-2 shadow-lg z-20 flex items-center w-[200px]"><div class="flex gap-2 items-start"><div class="flex-shrink-0"><!></div> <div class="flex-grow flex flex-col gap-1 items-start"><!> <div class="flex items-start justify-start"> </div></div></div> <div class="absolute right-[-4px] top-1/2 -translate-y-1/2 w-2 h-2 bg-surface-950 rotate-45 z-10"></div></div>');function x_(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(K0,"$promptData",r);let o=R(e,"showPrompt",11,!1),s=R(e,"icon",3,"");var l=ke(),c=de(l);{var d=u=>{var f=S5(),h=v(f),p=v(h),m=v(p);{var y=k=>{var P=w5();ae(()=>{pe(P,"src",s()),pe(P,"alt",i().header)}),b(k,P)};W(m,k=>{s()&&k(y)})}var _=x(p,2),S=v(_);{var w=k=>{var P=k5(),z=v(P);ae(()=>{var T;return Y(z,(T=i())==null?void 0:T.header)}),b(k,P)};W(S,k=>{var P;(P=i())!=null&&P.header&&k(w)})}var C=x(S,2),L=v(C);ae(()=>{var k;return Y(L,(k=i())==null?void 0:k.description)}),b(u,f)};W(c,u=>{o()&&u(d)})}b(t,l),Ke(),n()}const Mh="/assets/checkCircleGreen-YNs1TmKQ.svg",Ph="/assets/clockCricleRed-cG-AULPo.svg",Dh="/assets/clockCricleGreen-B-dYsKsD.svg";var C5=(t,e)=>{t.stopPropagation(),e()},A5=H('<img class="w-3 h-3 absolute -top-1 -right-1">'),M5=H('<img class="w-3 h-3 absolute -top-1 -right-1">'),P5=H('<img class="w-3 h-3 absolute -top-1 -right-1">'),D5=H("<div> <div></div></div>"),L5=H('<div role="button" tabindex="0" class="relative group rounded-full w-8 h-8 p-2 flex items-center justify-center cursor-pointer bg-primary-950 hover:bg-primary-800 shadow-md"><div class="relative"><img class="h-4 w-4 object-contain max-h-4 max-w-4"> <!></div> <!> <!></div>'),E5=H('<img class="w-3 h-3 absolute -top-1 -right-1">'),I5=H('<img class="w-3 h-3 absolute -top-1 -right-1">'),T5=H('<img class="w-3 h-3 absolute -top-1 -right-1">'),O5=H('<div class="relative"><img class="h-4 w-4 object-contain max-h-4 max-w-4"> <!></div> <div class="text-[10px] text-primary-200 font-medium py-1 px-1"> </div>',1),R5=H('<div class="relative overlay-item-container w-full px-1"><button class="overlay-item-button flex items-center flex-col py-2 mx-auto w-full rounded-lg"><!> <!></button></div>');function N5(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(Js,"$priceHistoryStore",r),o=()=>ie(fn,"$nonPersistAppStore",r),s=()=>ie(Yi,"$autoCouponStore",r),l=()=>ie(J0,"$dittoProductStore",r),c=()=>ie(fa,"$appStore",r),d=()=>ie(ts,"$spendScreenStatus",r),u=()=>ie(tr,"$LL",r),f=()=>ie(K0,"$promptData",r);let h=le(""),p=le("right"),m=Ne(()=>i().graphData),y=le(ne([])),_=le(!1),S=le(!1),w=Ne(()=>o().productDetails),C=Ne(()=>o().showDittoIcon),L=Ne(()=>s().isAutoCouponClosed),k=Ne(()=>o().showSideBar);const P=Q0();mr(()=>{g(h,ne(o().selectedOption)),g(y,ne(l().dittoData)),g(p,ne(c().position)),g(_,ne(d().showSpendLens)),a(L)&&z()});const z=()=>{if(P)return e.item.key==="autoCoupons"?a(L):!1;if(e.item.key==="priceHistory")return a(m).length>0&&a(k);if(e.item.key==="coupon")return a(h)&&a(k);if(e.item.key==="ditto")return a(C)&&a(k);if(e.item.key==="spendLens")return a(_)&&a(k);if(e.item.key==="refferal"||e.item.key==="profile")return a(h)&&a(k);if(e.item.key==="autoCoupons")return a(L);if(e.item.key==="compare")return!1;if(e.item.key==="scanner")return a(h)==="scanner"&&a(k);if(e.item.key==="priceAlert")return a(k);if(e.item.key==="recentViews")return a(k);if(!(e.item.key==="settings"||e.item.key==="whatsNew"))return e.item.key==="chat",!0},T=()=>{g(S,!1),e.item.key==="autoCoupons"?(e.changeSelected(""),Ho(!0),tc(!1),By(!0)):(_o(e.item.analyticsKey),e.changeSelected(e.item.key)),wc(!1)},M=()=>{if(e.item.key==="priceHistory"){let{sideBarIcon:I}=Ns(i().priceHistoryAmount.min,i().priceHistoryAmount.max,i().priceHistoryAmount.avg,o().siteProductPrice,a(w).isAvailable);return chrome.runtime.getURL(I??jy)}else if(e.item.key==="priceAlert"){let I=e.item.whiteIcon;return chrome.runtime.getURL(I)}return chrome.runtime.getURL(e.item.whiteIcon)};Zt(async()=>{z()});var D=ke(),A=de(D);{var O=I=>{var B=R5(),j=v(B);j.__click=[C5,T];var V=v(j);{var F=G=>{var Q=L5(),Z=v(Q),E=v(Z),U=x(E,2);{var $=J=>{var te=ke(),X=de(te);{var re=ue=>{var xe=ke(),we=de(xe);{var me=ye=>{var be=A5();ae(ve=>{pe(be,"src",ve),pe(be,"alt",e.item.label)},[()=>chrome.runtime.getURL(Dh)]),b(ye,be)},ce=ye=>{var be=M5();ae(ve=>{pe(be,"src",ve),pe(be,"alt",e.item.label)},[()=>chrome.runtime.getURL(Ph)]),b(ye,be)};W(we,ye=>{a(w).isWatchAlertSet?ye(me):ye(ce,!1)})}b(ue,xe)},fe=ue=>{var xe=ke(),we=de(xe);{var me=ce=>{var ye=P5();ae(be=>{pe(ye,"src",be),pe(ye,"alt",e.item.label)},[()=>chrome.runtime.getURL(Mh)]),b(ce,ye)};W(we,ce=>{a(w).isPriceAlertSet&&ce(me)},!0)}b(ue,xe)};W(X,ue=>{a(w).isAvailable===0?ue(re):ue(fe,!1)})}b(J,te)};W(U,J=>{e.item.key==="priceAlert"&&J($)})}var ee=x(Z,2);{var se=J=>{var te=D5();const X=Ne(()=>c().position==="right"?"right-12":"left-12"),re=Ne(()=>c().position==="right"?" -right-1":" -left-1");var fe=v(te),ue=x(fe);ae(xe=>{$e(te,`absolute ${a(X)??""} top-1/2 -translate-y-1/2 bg-surface-950 text-white text-sm font-medium rounded-lg px-3 py-2 shadow-lg z-20 flex items-center whitespace-nowrap`),Y(fe,`${xe??""} `),$e(ue,`absolute ${a(re)??""} top-1/2 -translate-y-1/2 w-2 h-2 bg-surface-950 rotate-45 z-10`)},[()=>u()(`features.${e.item.key}`)]),b(J,te)};W(ee,J=>{a(S)&&J(se)})}var oe=x(ee,2);{var K=J=>{const te=Ne(M);x_(J,{showPrompt:!0,get icon(){return a(te)}})};W(oe,J=>{f().show&&f().feature===e.item.key&&J(K)})}ae(J=>{pe(E,"src",J),pe(E,"alt",e.item.label)},[M]),tt("mouseenter",Q,()=>g(S,!0)),tt("mouseleave",Q,()=>g(S,!1)),b(G,Q)};W(V,G=>{!a(h)&&o().minimize==="never"&&G(F)})}var N=x(V,2);{var q=G=>{var Q=O5(),Z=de(Q),E=v(Z),U=x(E,2);{var $=oe=>{var K=ke(),J=de(K);{var te=re=>{var fe=ke(),ue=de(fe);{var xe=me=>{var ce=E5();ae(ye=>{pe(ce,"src",ye),pe(ce,"alt",e.item.label)},[()=>chrome.runtime.getURL(Dh)]),b(me,ce)},we=me=>{var ce=I5();ae(ye=>{pe(ce,"src",ye),pe(ce,"alt",e.item.label)},[()=>chrome.runtime.getURL(Ph)]),b(me,ce)};W(ue,me=>{a(w).isWatchAlertSet?me(xe):me(we,!1)})}b(re,fe)},X=re=>{var fe=ke(),ue=de(fe);{var xe=we=>{var me=T5();ae(ce=>{pe(me,"src",ce),pe(me,"alt",e.item.label)},[()=>chrome.runtime.getURL(Mh)]),b(we,me)};W(ue,we=>{a(w).isPriceAlertSet&&we(xe)},!0)}b(re,fe)};W(J,re=>{a(w).isAvailable===0?re(te):re(X,!1)})}b(oe,K)};W(U,oe=>{e.item.key==="priceAlert"&&oe($)})}var ee=x(Z,2),se=v(ee);ae((oe,K)=>{pe(E,"src",oe),pe(E,"alt",e.item.label),qe(E,"item-end",e.item.key==="settings"||e.item.key==="whatsNew"),Y(se,K)},[M,()=>u()(`features.${e.item.key}`)]),b(G,Q)};W(N,G=>{a(h)&&G(q)})}ae(()=>{qe(B,"mt-auto",e.item.key==="refferal"),qe(j,"bg-primary-950",a(h)===e.item.key)}),b(I,B)};W(A,I=>{z()&&I(O)})}b(t,D),Ke(),n()}Tt(["click"]);var z5=(t,e)=>{t.stopPropagation(),e()},B5=H('<div class="text-[10px] font-bold py-[0.5px] px-0.5 bg-primary-950 rounded-lg text-[#FFC300]"></div>'),j5=H('<div class="text-[10px] font-bold py-1 px-4 text-primary-200"></div>'),F5=H('<img class="h-4 w-4"> <!>',1),U5=H('<img class="w-4 h-4 absolute top-1 right-1">'),V5=H('<img class="w-4 h-4 absolute top-1 right-1">'),W5=H('<img class="w-4 h-4 absolute top-1 right-1">'),H5=H("<div> <div></div></div>"),q5=H('<div role="button" tabindex="0" class="relative group rounded-full w-8 h-8 p-2 flex items-center justify-center cursor-pointer bg-primary-950 hover:bg-primary-800 shadow-md"><img class="h-4 w-4 object-contain max-h-4 max-w-4"> <!> <!> <!></div>'),G5=H('<img class="h-4 w-4 object-contain">'),$5=H('<img class="h-4 w-4 object-contain">'),Y5=H('<div class="text-sm text-primary-200 font-medium p-1"> </div>'),X5=H("<!> <!>",1),K5=H('<div class="relative overlay-item-container"><button class="overlay-item-button flex items-center rounded-lg m-1"><!> <!></button></div>');function Q5(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(Js,"$priceHistoryStore",r),o=()=>ie(fn,"$nonPersistAppStore",r),s=()=>ie(Yi,"$autoCouponStore",r),l=()=>ie(kc,"$comparePriceStore",r),c=()=>ie(J0,"$dittoProductStore",r),d=()=>ie(fa,"$appStore",r),u=()=>ie(ts,"$spendScreenStatus",r),f=()=>ie(tr,"$LL",r),h=()=>ie(K0,"$promptData",r);let p=le(""),m=le("right"),y=Ne(()=>i().graphData),_=le(ne([])),S=le(!1),w=le(!1),C=Ne(()=>o().productDetails),L=Ne(()=>o().showDittoIcon),k=Ne(()=>s().isAutoCouponClosed),P=Ne(()=>o().showComparisonBar),z=Ne(()=>l().comparePriceData),T=Ne(()=>s().showAutoCoupon),M=Ne(()=>o().showSideBar);mr(()=>{g(p,ne(o().selectedOption)),g(_,ne(c().dittoData)),g(m,ne(d().position)),g(S,ne(u().showSpendLens))});const D=()=>e.item.key==="priceHistory"?a(y).length>0&&a(M):e.item.key==="coupon"?a(p)||a(T)||a(k):e.item.key==="ditto"?a(L)&&a(M):e.item.key==="spendLens"?a(S)&&a(M):e.item.key==="refferal"||e.item.key==="profile"?a(p)&&a(M):e.item.key==="autoCoupons"?!1:e.item.key==="scanner"?a(p)==="scanner"&&a(M):e.item.key==="compare"?a(P)&&a(z).length>0:e.item.key==="recentViews"?a(M):e.item.key==="settings"?a(p):e.item.key==="priceAlert"?a(M):!0,A=()=>{g(w,!1),e.item.key==="autoCoupons"?(e.changeSelected(""),Ho(!0),tc(!1)):(_o(e.item.analyticsKey),e.changeSelected(e.item.key)),wc(!1)},O=()=>{if(e.item.key==="priceHistory"){let{sideBarIcon:V}=Ns(i().priceHistoryAmount.min,i().priceHistoryAmount.max,i().priceHistoryAmount.avg,o().siteProductPrice,a(C).isAvailable);return chrome.runtime.getURL(V??jy)}else if(e.item.key==="priceAlert"){let V=e.item.whiteIcon;return chrome.runtime.getURL(V)}return chrome.runtime.getURL(e.item.whiteIcon)};Zt(async()=>{D()});var I=ke(),B=de(I);{var j=V=>{var F=K5(),N=v(F);N.__click=[z5,A];var q=v(N);{var G=U=>{var $=F5(),ee=de($),se=x(ee,2);{var oe=J=>{var te=B5();te.textContent="Get â‚¹50",b(J,te)},K=J=>{var te=j5();te.textContent="username",b(J,te)};W(se,J=>{e.item.key==="refferal"?J(oe):J(K,!1)})}ae(J=>{pe(ee,"src",J),pe(ee,"alt",e.item.label)},[()=>chrome.runtime.getURL(e.item.icon)]),b(U,$)},Q=U=>{var $=ke(),ee=de($);{var se=oe=>{var K=q5(),J=v(K),te=x(J,2);{var X=we=>{var me=ke(),ce=de(me);{var ye=ve=>{var Se=ke(),Ee=de(Se);{var Be=Ce=>{var _e=U5();ae(ge=>{pe(_e,"src",ge),pe(_e,"alt",e.item.label)},[()=>chrome.runtime.getURL(Dh)]),b(Ce,_e)},Ae=Ce=>{var _e=V5();ae(ge=>{pe(_e,"src",ge),pe(_e,"alt",e.item.label)},[()=>chrome.runtime.getURL(Ph)]),b(Ce,_e)};W(Ee,Ce=>{a(C).isWatchAlertSet?Ce(Be):Ce(Ae,!1)})}b(ve,Se)},be=ve=>{var Se=ke(),Ee=de(Se);{var Be=Ae=>{var Ce=W5();ae(_e=>{pe(Ce,"src",_e),pe(Ce,"alt",e.item.label)},[()=>chrome.runtime.getURL(Mh)]),b(Ae,Ce)};W(Ee,Ae=>{a(C).isPriceAlertSet&&Ae(Be)},!0)}b(ve,Se)};W(ce,ve=>{a(C).isAvailable===0?ve(ye):ve(be,!1)})}b(we,me)};W(te,we=>{e.item.key==="priceAlert"&&we(X)})}var re=x(te,2);{var fe=we=>{var me=H5();const ce=Ne(()=>d().position==="right"?"right-12":"left-12"),ye=Ne(()=>d().position==="right"?" -right-1":" -left-1");var be=v(me),ve=x(be);ae(Se=>{$e(me,`absolute ${a(ce)??""} top-1/2 -translate-y-1/2 bg-surface-950 text-white text-sm font-medium rounded-lg px-3 py-2 shadow-lg z-20 flex items-center whitespace-nowrap`),Y(be,`${Se??""} `),$e(ve,`absolute ${a(ye)??""} top-1/2 -translate-y-1/2 w-2 h-2 bg-surface-950 rotate-45 z-10`)},[()=>f()(`features.${e.item.key}`)]),b(we,me)};W(re,we=>{a(w)&&we(fe)})}var ue=x(re,2);{var xe=we=>{const me=Ne(O);x_(we,{showPrompt:!0,get icon(){return a(me)}})};W(ue,we=>{h().show&&h().feature===e.item.key&&we(xe)})}ae(we=>{pe(J,"src",we),pe(J,"alt",e.item.label)},[O]),tt("mouseenter",K,()=>g(w,!0)),tt("mouseleave",K,()=>g(w,!1)),b(oe,K)};W(ee,oe=>{a(p)||oe(se)},!0)}b(U,$)};W(q,U=>{e.item.key==="refferal"||e.item.key==="profile"?U(G):U(Q,!1)})}var Z=x(q,2);{var E=U=>{var $=X5(),ee=de($);{var se=te=>{var X=G5();ae(re=>{pe(X,"src",re),pe(X,"alt",e.item.label)},[O]),b(te,X)},oe=te=>{var X=$5();ae(re=>{pe(X,"src",re),pe(X,"alt",e.item.label)},[O]),b(te,X)};W(ee,te=>{e.item.key==="priceAlert"&&a(C).isAvailable===0&&!a(C).isWatchAlertSet?te(se):te(oe,!1)})}var K=x(ee,2);{var J=te=>{var X=Y5(),re=v(X);ae(fe=>Y(re,fe),[()=>f()(`features.${e.item.key}`)]),b(te,X)};W(K,te=>{a(p)===e.item.key&&te(J)})}b(U,$)};W(Z,U=>{a(p)&&U(E)})}ae(()=>{qe(F,"mt-auto",e.item.key==="refferal"),qe(N,"p-2",a(p)),qe(N,"p-0.5",!a(p)),qe(N,"bg-primary-950",a(p)===e.item.key)}),b(V,F)};W(B,V=>{D()&&V(j)})}b(t,I),Ke(),n()}Tt(["click"]);const J5=`<svg width="111" height="24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none"
	viewBox="0 0 111 24">

	<path id="a" class="text-primary-600" fill="currentColor"
		d="M24 5.32v13.36A5.3 5.3 0 0 1 18.68 24H5.32A5.3 5.3 0 0 1 0 18.68V5.32A5.3 5.3 0 0 1 5.32 0h13.36A5.3 5.3 0 0 1 24 5.32" />

	<path fill="#fff" fill-rule="evenodd"
		d="M7.82 11.17h3.4l-1.13 6.41c1.97-1.72 4.6-2.22 6.67-1.03 2.7 1.57 3.4 5.45 1.53 8.68s-5.57 4.58-8.28 3.02a5 5 0 0 1-1.55-1.42l-.3 1.7h-3.4zm2.3 13.64c1.14 1.15 3.17.97 4.53-.4 1.37-1.36 1.54-3.39.4-4.53s-3.18-.97-4.54.4c-1.36 1.36-1.54 3.39-.4 4.53"
		clip-rule="evenodd" />

	<path class="text-primary-800" fill="currentColor" fill-rule="evenodd"
		d="M1.6 3.3A3.4 3.4 0 0 1 4.8 1h14.26c1.49 0 2.75.97 3.19 2.3z" clip-rule="evenodd" />
	<path fill="#facc15"
		d="M16.04 4.22c.35 0 .65.29.6.64a4.6 4.6 0 0 1-9.1 0c-.06-.35.24-.64.6-.64.35 0 .63.29.7.64a3.3 3.3 0 0 0 6.5 0c.06-.35.34-.64.7-.64" />
	<mask id="c" width="81" height="19" x="29" y="3.87" fill="#000" maskUnits="userSpaceOnUse">
		<path fill="#fff" d="M29 3.87h81v19H29z" />
		<path
			d="M34.44 18.04q-.91 0-1.79-.38a3.3 3.3 0 0 1-1.31-.96v1.17h-1.8V4.53h1.8V9.8q.41-.6 1.26-1 .87-.39 1.84-.39 1.93 0 3.23 1.37 1.3 1.36 1.3 3.43 0 2.2-1.3 3.52a4.3 4.3 0 0 1-3.23 1.3m-3.14-4.82q0 1.34.8 2.25t2.12.9q1.32 0 2.11-.9.81-.9.81-2.25a3.2 3.2 0 0 0-.8-2.22q-.8-.9-2.12-.9-1.31 0-2.13.9-.78.9-.79 2.22m13.34 4.82a3.5 3.5 0 0 1-2.6-1.01q-1-1.03-1-2.57V8.58h1.81v5.49q0 1.05.62 1.66.6.6 1.55.61a2 2 0 0 0 1.57-.63q.63-.63.63-1.64V8.58h1.8v7.44l.65 1.85h-1.93l-.36-.97q-.34.46-1.07.81-.7.33-1.67.33m8.3 3.96 1.81-4.2-3.93-9.22h2.02l2.92 7.13 2.8-7.13h2.07L54.97 22zm9.57-4.13V4.53h1.8v5.2q.87-1.3 2.7-1.3 1.54 0 2.5 1 .97 1.02.97 2.53v5.91h-1.8V12.4q0-1.05-.62-1.66-.6-.6-1.57-.61-.94 0-1.57.63-.6.63-.61 1.64v5.48zm14.58.17q-1.97 0-3.27-1.3a4.8 4.8 0 0 1-1.28-3.52q0-2.07 1.3-3.43a4.3 4.3 0 0 1 3.25-1.37q.96 0 1.8.4.87.4 1.28 1V8.57h1.8v9.3h-1.8V16.7q-.43.58-1.3.96-.86.38-1.78.38m-2.72-4.82q0 1.34.79 2.25.81.9 2.13.9t2.1-.9q.82-.9.82-2.25A3.2 3.2 0 0 0 79.4 11q-.8-.9-2.11-.9-1.32 0-2.13.9t-.8 2.22m11.1 4.65v-7.7H83.8V8.58h1.72v-2.4h1.74v2.4h2.4v1.6h-2.4v6h2.44v1.7zm6.6 0V4.53h1.81v7.21h1.48l2.42-3.16h2.15l-3.1 4.1 3.19 5.2H97.9l-2.75-4.4h-1.28v4.4zm13.15.17q-2.1 0-3.4-1.38a4.8 4.8 0 0 1-1.3-3.42q0-2.08 1.3-3.45t3.38-1.37q2 0 3.22 1.35a4.6 4.6 0 0 1 1.22 3.25v.85h-7.3q.16 1.26.93 1.91.8.63 1.95.63 1.03 0 1.75-.5.75-.52.98-1.21l1.38.74a4.3 4.3 0 0 1-4.1 2.6m-2.83-5.69h5.38a2.3 2.3 0 0 0-.74-1.62 2.5 2.5 0 0 0-1.84-.72q-1.06 0-1.83.61-.75.62-.97 1.73" />
	</mask>
	<path class="text-primary-600" fill="currentColor"
		d="M34.44 18.04q-.91 0-1.79-.38a3.3 3.3 0 0 1-1.31-.96v1.17h-1.8V4.53h1.8V9.8q.41-.6 1.26-1 .87-.39 1.84-.39 1.93 0 3.23 1.37 1.3 1.36 1.3 3.43 0 2.2-1.3 3.52a4.3 4.3 0 0 1-3.23 1.3m-3.14-4.82q0 1.34.8 2.25t2.12.9q1.32 0 2.11-.9.81-.9.81-2.25a3.2 3.2 0 0 0-.8-2.22q-.8-.9-2.12-.9-1.31 0-2.13.9-.78.9-.79 2.22m13.34 4.82a3.5 3.5 0 0 1-2.6-1.01q-1-1.03-1-2.57V8.58h1.81v5.49q0 1.05.62 1.66.6.6 1.55.61a2 2 0 0 0 1.57-.63q.63-.63.63-1.64V8.58h1.8v7.44l.65 1.85h-1.93l-.36-.97q-.34.46-1.07.81-.7.33-1.67.33m8.3 3.96 1.81-4.2-3.93-9.22h2.02l2.92 7.13 2.8-7.13h2.07L54.97 22zm9.57-4.13V4.53h1.8v5.2q.87-1.3 2.7-1.3 1.54 0 2.5 1 .97 1.02.97 2.53v5.91h-1.8V12.4q0-1.05-.62-1.66-.6-.6-1.57-.61-.94 0-1.57.63-.6.63-.61 1.64v5.48zm14.58.17q-1.97 0-3.27-1.3a4.8 4.8 0 0 1-1.28-3.52q0-2.07 1.3-3.43a4.3 4.3 0 0 1 3.25-1.37q.96 0 1.8.4.87.4 1.28 1V8.57h1.8v9.3h-1.8V16.7q-.43.58-1.3.96-.86.38-1.78.38m-2.72-4.82q0 1.34.79 2.25.81.9 2.13.9t2.1-.9q.82-.9.82-2.25A3.2 3.2 0 0 0 79.4 11q-.8-.9-2.11-.9-1.32 0-2.13.9t-.8 2.22m11.1 4.65v-7.7H83.8V8.58h1.72v-2.4h1.74v2.4h2.4v1.6h-2.4v6h2.44v1.7zm6.6 0V4.53h1.81v7.21h1.48l2.42-3.16h2.15l-3.1 4.1 3.19 5.2H97.9l-2.75-4.4h-1.28v4.4zm13.15.17q-2.1 0-3.4-1.38a4.8 4.8 0 0 1-1.3-3.42q0-2.08 1.3-3.45t3.38-1.37q2 0 3.22 1.35a4.6 4.6 0 0 1 1.22 3.25v.85h-7.3q.16 1.26.93 1.91.8.63 1.95.63 1.03 0 1.75-.5.75-.52.98-1.21l1.38.74a4.3 4.3 0 0 1-4.1 2.6m-2.83-5.69h5.38a2.3 2.3 0 0 0-.74-1.62 2.5 2.5 0 0 0-1.84-.72q-1.06 0-1.83.61-.75.62-.97 1.73" />
	<path class="text-primary-600" fill="currentColor"
		d="m32.65 17.66.12-.27zm-1.31-.96.23-.18-.52-.66v.84zm0 1.17v.3h.29v-.3zm-1.8 0h-.3v.3h.3zm0-13.34v-.3h-.3v.3zm1.8 0h.29v-.3h-.3zm0 5.28h-.3v.95l.54-.79zm1.26-1 .12.27zm5.07.98-.21.2zm0 6.95-.21-.2zm-5.58-1.27-.22.2zm4.24 0-.22-.19zm0-4.47-.22.2zm-4.24 0-.21-.2zm2.35 6.74q-.86 0-1.67-.35l-.23.53q.91.4 1.9.4zm-1.67-.35a3 3 0 0 1-1.2-.87l-.46.36q.51.65 1.43 1.04zm-1.72-.69v1.17h.58V16.7zm.29.88h-1.8v.58h1.8zm-1.52.3V4.52h-.58v13.34zm-.29-13.06h1.8v-.59h-1.8zm1.52-.3v5.3h.58v-5.3zm.53 5.45q.35-.53 1.14-.89l-.24-.53q-.9.4-1.38 1.1zm1.14-.89a4 4 0 0 1 1.72-.37v-.58q-1.05 0-1.96.42zm1.72-.37q1.8 0 3.02 1.28l.42-.4a4.6 4.6 0 0 0-3.44-1.46zM37.46 10q1.21 1.26 1.22 3.23h.58q0-2.18-1.38-3.63zm1.22 3.23q-.01 2.1-1.22 3.31l.41.41a5 5 0 0 0 1.39-3.72zm-1.22 3.31q-1.2 1.2-3.02 1.21v.59q2.06 0 3.43-1.39zm-6.45-3.31q0 1.43.86 2.44l.44-.38a3 3 0 0 1-.72-2.06zm.87 2.45q.9 1 2.34 1v-.59q-1.2 0-1.91-.8zm2.34 1q1.44 0 2.33-1l-.44-.39q-.68.8-1.89.8zm2.33-1q.9-1.02.89-2.45h-.59a3 3 0 0 1-.74 2.06zm.89-2.45q0-1.41-.9-2.41l-.42.39q.73.8.73 2.02zm-.89-2.41q-.9-1-2.33-1v.58q1.2 0 1.9.8zm-2.33-1q-1.43 0-2.34 1l.43.39q.7-.81 1.91-.81zm-2.34 1a3.5 3.5 0 0 0-.87 2.4h.58q0-1.2.72-2.02zm10.16 6.22-.2.2zm-1-8.45V8.3h-.28v.3zm1.81 0h.3V8.3h-.3zm.62 7.15-.21.2zm3.12-.02-.21-.2zm.63-7.13V8.3h-.3v.3zm1.8 0h.3V8.3h-.3zm0 7.44h-.3v.04l.03.05zm.65 1.85v.3h.41l-.14-.4zm-1.93 0-.27.1.07.2h.2zm-.36-.97.27-.1-.19-.51-.32.44zm-1.07.81.13.26zm-1.67.03q-1.48 0-2.4-.92l-.4.41a3.8 3.8 0 0 0 2.8 1.1zm-2.39-.92q-.9-.93-.91-2.36h-.58q0 1.65 1.07 2.77zm-.91-2.36V8.58h-.58v5.88zm-.3-5.59h1.81V8.3h-1.8zm1.52-.29v5.49h.58v-5.5zm0 5.49q0 1.14.7 1.86l.41-.4a2 2 0 0 1-.53-1.46zm.7 1.86q.7.7 1.76.7v-.58q-.83 0-1.35-.53zm1.76.7q1.06 0 1.77-.72l-.41-.4q-.52.54-1.36.54zm1.77-.72q.72-.72.72-1.84h-.58q-.01.9-.55 1.43zm.72-1.84v-5.5h-.58v5.49zm-.3-5.2h1.81V8.3h-1.8zm1.52-.29v7.44h.58V8.58zm.02 7.53.65 1.86.54-.2-.65-1.85zm.92 1.47h-1.93v.58h1.93zm-1.66.2-.36-.98-.54.2.36.97zm-.87-1.05q-.28.39-.95.72l.25.52q.76-.36 1.17-.9zm-.95.72q-.62.3-1.55.3v.58q1.02 0 1.8-.36zM52.95 22l-.27-.11-.18.4h.45zm1.8-4.2.27.12.05-.12-.05-.11zm-3.93-9.22V8.3h-.44l.17.4zm2.02 0 .27-.1-.08-.19h-.2zm2.92 7.13-.27.1.28.68.26-.68zm2.8-7.13V8.3h-.2l-.08.19zm2.07 0 .27.12.17-.4h-.44zM54.97 22v.3h.19l.07-.18zm-1.76.12 1.8-4.2-.53-.23-1.8 4.2zm1.8-4.43L51.1 8.47l-.54.23 3.93 9.21zm-4.2-8.82h2.03V8.3h-2.02zm1.76-.18 2.92 7.13.54-.22-2.92-7.13zm3.46 7.12 2.8-7.12-.55-.21-2.8 7.12zm2.53-6.94h2.07V8.3h-2.07zm1.8-.4L54.7 21.9l.53.23L60.9 8.7zm-5.4 13.24h-2.01v.58h2.02zm7.55-3.84h-.3v.3h.3zm0-13.34v-.3h-.3v.3zm1.8 0h.29v-.3h-.29zm0 5.2h-.3v.98l.54-.81zm5.2-.3-.22.2zm.97 8.44v.3h.29v-.3zm-1.8 0h-.3v.3h.3zm-3.76-7.12-.2-.2zm-.61 7.12v.3h.29v-.3zm-1.51 0V4.53h-.58v13.34zm-.3-13.05h1.81v-.59h-1.8zm1.52-.3v5.22h.58V4.53zm.53 5.38q.76-1.18 2.47-1.19v-.58q-1.98-.01-2.95 1.45zm2.47-1.19q1.42 0 2.27.92l.43-.4q-1.06-1.1-2.7-1.1zm2.27.92q.9.92.9 2.33h.58q0-1.63-1.06-2.73zm.9 2.33v5.91h.58v-5.91zm.29 5.62h-1.8v.58h1.8zm-1.51.3v-5.49h-.59v5.48zm0-5.49q0-1.15-.7-1.87l-.41.42q.51.5.52 1.45zm-.7-1.87a2.4 2.4 0 0 0-1.78-.7v.59q.85 0 1.37.53zm-1.78-.7q-1.06 0-1.77.72l.4.41q.55-.54 1.37-.54zm-1.78.73q-.7.73-.7 1.84h.59q0-.9.53-1.44zm-.7 1.84v5.48h.59V12.4zm.3 5.2h-1.8v.57h1.8zm9.51-.85-.2.2zm.02-6.95.21.2zm5.05-.97-.12.26zm1.28 1-.23.16.52.76V9.8zm0-1.24V8.3h-.29v.3zm1.8 0h.3V8.3h-.3zm0 9.3v.28h.3v-.29zm-1.8 0h-.29v.28h.3zm0-1.18h.3v-.87l-.53.7zm-1.3.96.12.26zm-3.71-2.19-.22.2zm4.24 0-.22-.19zm0-4.47-.22.2zm-4.24 0-.22-.2zm1.93 6.74q-1.85 0-3.06-1.2l-.41.4a4.7 4.7 0 0 0 3.47 1.39zm-3.06-1.2q-1.2-1.22-1.2-3.32h-.58q0 2.3 1.37 3.72zm-1.2-3.32q0-1.97 1.22-3.23l-.42-.4a5 5 0 0 0-1.38 3.63zm1.22-3.23a4 4 0 0 1 3.04-1.28v-.58q-2.08 0-3.46 1.46zm3.04-1.28q.9 0 1.68.37l.25-.52a4.5 4.5 0 0 0-1.93-.43zm1.68.37q.82.38 1.17.9l.47-.34a3.4 3.4 0 0 0-1.4-1.09zm1.7.73V8.58h-.59v1.23zm-.3-.94h1.8V8.3h-1.8zm1.52-.29v9.3h.58v-9.3zm.29 9h-1.8v.58h1.8zm-1.52.3V16.7h-.58v1.17zm-.52-1.35q-.37.5-1.18.86l.23.53q.92-.39 1.42-1.05zm-1.18.86q-.81.35-1.67.35v.59a5 5 0 0 0 1.9-.4zm-4.68-4.17q0 1.43.86 2.44l.44-.38a3 3 0 0 1-.72-2.06zm.86 2.45q.91 1 2.35 1v-.59q-1.2 0-1.91-.8zm2.35 1q1.43 0 2.33-1l-.44-.39q-.7.8-1.9.8zm2.33-1q.88-1.02.88-2.45h-.58a3 3 0 0 1-.74 2.06zm.88-2.45q0-1.41-.89-2.41l-.43.39q.75.8.74 2.02zm-.88-2.41q-.9-1-2.33-1v.58q1.2 0 1.89.8zm-2.33-1q-1.44 0-2.35 1l.44.39q.71-.81 1.9-.81zm-2.35 1a3.5 3.5 0 0 0-.86 2.4h.58q0-1.2.72-2.02zm10.53 7.06h-.29v.3h.3zm0-7.7h.3v-.29h-.3zm-1.66 0h-.29v.3h.3zm0-1.59V8.3h-.29v.3zm1.72 0v.3h.29v-.3zm0-2.4V5.9h-.3v.3zm1.74 0h.3V5.9h-.3zm0 2.4h-.29v.3h.3zm2.4 0h.3V8.3h-.3zm0 1.6v.28h.3v-.29zm-2.4 0v-.3h-.29v.3zm0 6h-.29v.29h.3zm2.44 0H90v-.3h-.29zm0 1.7v.28H90v-.29zm-3.95 0v-7.7h-.58v7.7zm-.29-8h-1.66v.58h1.66zm-1.37.3v-1.6h-.58v1.6zm-.29-1.3h1.72v-.59H83.8zm2-.3v-2.4h-.58v2.4zm-.28-2.1h1.74v-.59h-1.74zm1.45-.3v2.4h.59v-2.4zm.3 2.7h2.4v-.59h-2.4zm2.1-.3v1.6h.58v-1.6zm.3 1.3h-2.4v.58h2.4zm-2.7.3v6h.59v-6zm.3 6.29h2.43v-.58h-2.44zm2.14-.3v1.7H90v-1.7zm.29 1.41h-4.24v.58h4.24zm2.37.3h-.3v.28h.3zm0-13.35v-.3h-.3v.3zm1.8 0h.3v-.3h-.3zm0 7.21h-.29v.3h.3zm1.48 0v.3h.15l.08-.12zm2.42-3.16V8.3h-.14l-.1.12zm2.15 0 .23.18.35-.47h-.58zm-3.1 4.1-.24-.18-.12.16.1.17zm3.19 5.2v.28h.52l-.28-.44zm-2.11 0-.25.15.08.13h.17zm-2.75-4.4.25-.16-.08-.14h-.17zm-1.28 0v-.3h-.29v.3zm0 4.4v.28h.3v-.29zm-1.51 0V4.52h-.58v13.34zm-.3-13.06h1.81v-.59h-1.8zm1.52-.3v7.22h.58V4.53zm.3 7.51h1.47v-.58h-1.48zm1.7-.11 2.42-3.16-.46-.35-2.42 3.15zm2.19-3.05h2.15V8.3h-2.15zm1.91-.46-3.1 4.1.46.34 3.1-4.09zm-3.11 4.42 3.19 5.2.5-.3-3.2-5.2zm3.44 4.75H97.9v.58h2.1zm-1.87.14-2.74-4.4-.5.3 2.75 4.4zm-2.99-4.54h-1.28v.58h1.28zm-1.57.3v4.4h.58v-4.4zm.3 4.1h-1.81v.58h1.8zm7.92-.92-.2.2zm0-6.87.22.2zm6.6-.02-.21.2zm1.23 4.1v.29h.3v-.3zm-7.3 0v-.3H102l.04.34zm.93 1.91-.18.22zm3.7.13.17.24zm.98-1.21.13-.26-.3-.16-.1.32zm1.38.74.28.1.09-.24-.23-.12zm-1.42 1.78-.18-.23zm-5.52-4.87-.28-.05-.07.34h.35zm5.38 0v.3h.3l-.01-.3zm-.74-1.62-.21.2zm-3.67-.1.19.22zm1.86 7.11q-2 0-3.2-1.28l-.42.4a4.8 4.8 0 0 0 3.62 1.47zm-3.2-1.28a4.5 4.5 0 0 1-1.21-3.22h-.59q0 2.16 1.38 3.62zm-1.21-3.22q0-1.98 1.22-3.25l-.43-.4a5 5 0 0 0-1.38 3.65zm1.22-3.25a4.2 4.2 0 0 1 3.17-1.28v-.58q-2.2 0-3.6 1.46zm3.17-1.28q1.87 0 3 1.26l.43-.4a4.4 4.4 0 0 0-3.43-1.44zm3 1.26a4.3 4.3 0 0 1 1.15 3.05h.58q0-2.02-1.3-3.44zm1.15 3.05v.85h.58v-.85zm.3.56h-7.31v.58h7.3zm-7.6.33q.16 1.35 1.04 2.1l.37-.45a2.6 2.6 0 0 1-.83-1.73zm1.04 2.1q.9.7 2.13.7v-.59q-1.07 0-1.76-.57zm2.13.7q1.11 0 1.92-.56l-.33-.48q-.64.45-1.59.45zm1.92-.57q.8-.55 1.08-1.35l-.55-.19a2.2 2.2 0 0 1-.87 1.07zm.67-1.18 1.39.73.27-.5-1.39-.75zm1.25.37a4 4 0 0 1-1.33 1.66l.36.46a4.5 4.5 0 0 0 1.52-1.9zM107.73 17q-.94.75-2.5.75v.59q1.7 0 2.86-.88zm-5.34-4.35h5.38v-.58h-5.38zm5.67-.3q-.03-1.04-.83-1.82l-.4.42q.63.63.64 1.42zm-.83-1.81a2.7 2.7 0 0 0-2.04-.81v.58q1.03 0 1.63.63zm-2.04-.81a3 3 0 0 0-2 .68l.36.45q.67-.54 1.64-.55zm-2 .68q-.86.7-1.08 1.9l.57.1q.2-1.02.87-1.55z"
		mask="url(#c)" />
</svg>
`,Ds="/assets/closeButtonIcon-DxJ7uhao.svg",Z5="/assets/priceHistory-DBrAesdo.svg",ek="/assets/priceHistoryWhiteIcon-Bqyl8IpI.svg",y_="/assets/dittoIndigoIcon-DYGFq2XU.svg",tk="/assets/dittoWhiteIcon-C0EUG0A6.svg",__="/assets/priceAlertIcon-B3OjrYeO.svg",rk="/assets/priceAlertWhiteIcon-Bb7D66CP.svg",nk="/assets/couponIcon-Dj2GfWv7.svg",ak="/assets/couponWhiteIcon-CfPmp8ps.svg",ik="/assets/spendLensIcon-D8KxI6k7.svg",b_="/assets/spendLensWhiteIcon-BofC3e7t.svg",w_="/assets/autoCouponIcon-BY5_2Php.svg",ok="/assets/autoCouponWhiteIcon-CwwJ2R1g.svg",sk="/assets/compareIcon-DfpDDR90.svg",lk="/assets/compareWhiteIcon-Bj0lChzT.svg",ck="/assets/saleTag-WJuHu84o.svg",dk="/assets/saleTagWhite-Dt4KZ984.svg",uk="/assets/chatIcon-DFhyH0A0.svg",fk="/assets/chatIconWhite-CMqb-EA8.svg",k_="/assets/settings-BX2dtgFN.svg",Lh="/assets/settingsWhite-BhtlXARJ.svg",vk="/assets/recentView-CCgW51ft.svg",hk="/assets/recentViewWhite-BO8OilGU.svg",Eh="/assets/whatsNew-BO2qnQKD.svg",ap={priceHistory:{label:"Price History",icon:Z5,whiteIcon:ek,key:"priceHistory",analyticsKey:0},autoCoupon:{label:"Auto Coupon",icon:w_,whiteIcon:ok,key:"autoCoupons"},compare:{label:"Compare",icon:sk,whiteIcon:lk,key:"compare"},ditto:{label:"LookALike",icon:y_,whiteIcon:tk,key:"ditto",analyticsKey:3},priceAlert:{label:"Alerts",icon:__,whiteIcon:rk,key:"priceAlert",analyticsKey:1},coupon:{label:"Coupons",icon:nk,whiteIcon:ak,key:"coupon",analyticsKey:2},spendLens:{label:"Spend Lens",icon:ik,whiteIcon:b_,key:"spendLens",analyticsKey:7},chat:{label:"Chat",icon:uk,whiteIcon:fk,key:"chat"},recentViews:{label:"Recent Views",icon:vk,whiteIcon:hk,key:"recentViews",analyticsKey:9},scanner:{label:"Deals Scanner",icon:ck,whiteIcon:dk,key:"scanner"},settings:{label:"Settings",icon:k_,whiteIcon:Lh,key:"settings"},whatsNew:{label:"What's New",icon:Eh,whiteIcon:Eh,key:"whatsNew"}},pk="/assets/smallWidthIcon-BzNwC44U.svg",gk="/assets/standardWidthIcon-D98y8yUN.svg",mk="/assets/wideWidthIcon-CNWszYUy.svg";function xk(t,e,r){Nt()&&a(e)==="coupon"&&(zu(!1),Ho(a(r)),a_(),Fy(!1),Uy(!1)),un({selectedOption:""})}var yk=H('<span class="h-6"><!></span>'),_k=H('<div class="flex items-center gap-2"><div class="w-6 h-6 bg-primary-600 rounded flex items-center justify-center"><img alt="site_logo" class="w-4 h-4 text-white"></div> <span class="text-primary-600 text-base font-bold"><!></span></div>'),bk=(t,e)=>{t.stopPropagation(),g(e,!a(e))},wk=(t,e)=>e("small"),kk=H('<div class="w-2 h-2 bg-primary-600 rounded-full"></div>'),Sk=(t,e)=>e("standard"),Ck=H('<div class="w-2 h-2 bg-primary-600 rounded-full"></div>'),Ak=(t,e)=>e("wide"),Mk=H('<div class="w-2 h-2 bg-primary-600 rounded-full"></div>'),Pk=H('<div class="absolute right-0 mt-2 w-44 bg-white border border-surface-200 rounded-md shadow-lg z-10"><ul class="py-2 text-sm text-surface-900"><li><button class="w-full flex items-center justify-between px-3 py-2 hover:bg-surface-50"><div class="flex items-center gap-2"><div class="w-3 h-3 rounded-full border border-primary-500 flex items-center justify-center"><!></div> <span class="text-surface-950 text-xs font-medium">Small</span></div> <img alt="small"></button></li> <li><button class="w-full flex items-center justify-between px-3 py-2 hover:bg-surface-50"><div class="flex items-center gap-2"><div class="w-3 h-3 rounded-full border border-primary-500 flex items-center justify-center"><!></div> <span class="text-surface-950 text-xs font-medium">Standard</span></div> <img alt="standard"></button></li> <li><button class="w-full flex items-center justify-between px-3 py-2 hover:bg-surface-50"><div class="flex items-center gap-2"><div class="w-3 h-3 rounded-full border border-primary-500 flex items-center justify-center"><!></div> <span class="text-surface-950 text-xs font-medium">Wide</span></div> <img alt="wide"></button></li></ul></div>'),Dk=H('<div class="relative"><button class="flex items-center gap-1 text-primary-950 text-xs font-medium bg-white border border-surface-200 rounded-full px-3 py-1.5 shadow-sm"> <svg class="w-3 h-3 text-gray-400 transition-transform" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button> <!></div>'),Lk=H('<div class="bg-primary-50 w-full px-6 py-4 gap-7 flex flex-col"><div class="flex justify-between items-center"><!> <div class="flex items-center gap-3"><!> <button class="text-primary-950 text-lg cursor-pointer"><img alt="close_button"></button></div></div></div>');function Ek(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(Yi,"$autoCouponStore",r),o=()=>ie(fn,"$nonPersistAppStore",r),s=()=>ie(fa,"$appStore",r),l=()=>ie(Fi,"$locale",r),c=()=>ie(tr,"$LL",r);let d=le("priceHistory"),u=le("wide"),f=le(!1);const h={small:"Small",standard:"Standard",wide:"Wide"};let p=ap,m=le(ne(p.priceHistory)),y=Ne(()=>i().isAutoCouponAllowed),_=le("right"),S=le(null),w=chrome.runtime.getURL(Ds),C=chrome.runtime.getURL(Hi),L=chrome.runtime.getURL(pk),k=chrome.runtime.getURL(gk),P=chrome.runtime.getURL(mk);mr(()=>{g(d,ne(o().selectedOption)),g(u,ne(s().priceHistoryTabSize??"wide")),a(d)&&p[a(d)]&&g(m,ne(p[a(d)])),g(_,ne(s().position)),a(d)!=="priceHistory"&&g(f,!1)});function z(q){ti({priceHistoryTabSize:q}),vt(mt.PriceHistoryTabSizeSelected,{size:q}),g(f,!1)}let T=null;Zt(()=>{g(f,!1),T=q=>{if(!a(S))return;const G=q.target;a(f)&&G&&!a(S).contains(G)&&g(f,!1)},document.addEventListener("click",T)}),Gn(()=>{T&&document.removeEventListener("click",T)});var M=Lk(),D=v(M),A=v(D);{var O=q=>{var G=yk(),Q=v(G);Xt(Q,()=>J5),b(q,G)},I=q=>{var G=_k(),Q=v(G),Z=v(Q),E=x(Q,2),U=v(E);{var $=se=>{var oe=Wt();ae(K=>Y(oe,K),[()=>c()("features.dittoPreviously")]),b(se,oe)},ee=se=>{var oe=Wt();ae(K=>Y(oe,K),[()=>c()(`features.${String(a(m).key)}`)]),b(se,oe)};W(U,se=>{l()==="en"&&a(m).key==="ditto"?se($):se(ee,!1)})}ae(se=>pe(Z,"src",se),[()=>chrome.runtime.getURL(a(m).whiteIcon??a(m).icon)]),b(q,G)};W(A,q=>{a(d)==="priceHistory"?q(O):q(I,!1)})}var B=x(A,2),j=v(B);{var V=q=>{var G=Dk(),Q=v(G);Q.__click=[bk,f];var Z=v(Q),E=x(Z),U=x(Q,2);{var $=ee=>{var se=Pk(),oe=v(se),K=v(oe),J=v(K);J.__click=[wk,z];var te=v(J),X=v(te),re=v(X);{var fe=Oe=>{var Le=kk();b(Oe,Le)};W(re,Oe=>{a(u)==="small"&&Oe(fe)})}var ue=x(te,2);pe(ue,"src",L);var xe=x(K,2),we=v(xe);we.__click=[Sk,z];var me=v(we),ce=v(me),ye=v(ce);{var be=Oe=>{var Le=Ck();b(Oe,Le)};W(ye,Oe=>{a(u)==="standard"&&Oe(be)})}var ve=x(me,2);pe(ve,"src",k);var Se=x(xe,2),Ee=v(Se);Ee.__click=[Ak,z];var Be=v(Ee),Ae=v(Be),Ce=v(Ae);{var _e=Oe=>{var Le=Mk();b(Oe,Le)};W(Ce,Oe=>{a(u)==="wide"&&Oe(_e)})}var ge=x(Be,2);pe(ge,"src",P),b(ee,se)};W(U,ee=>{a(f)&&ee($)})}Ar(G,ee=>g(S,ee),()=>a(S)),ae(()=>{Y(Z,`${h[a(u)]??""} `),qe(E,"rotate-180",a(f))}),b(q,G)};W(j,q=>{a(d)==="priceHistory"&&!Nt()&&q(V)})}var F=x(j,2);F.__click=[xk,d,y];var N=v(F);ae((q,G,Q,Z)=>{qe(M,"rounded-tl-lg",q),qe(M,"rounded-tr-lg",G),pe(N,"src",Q),qe(N,"scale-x-[-1]",a(_)==="left"),qe(N,"w-6",Z),qe(N,"h-6",Z),qe(N,"text-white",Z)},[()=>Nt()||a(_)==="right"&&!Nt(),()=>Nt()||a(_)==="left"&&!Nt(),()=>Nt()?C:w,Nt]),b(t,M),Ke(),n()}Tt(["click"]);var Ik=H("<div> </div>");function bo(t,e){var r=Ik(),n=v(r);ae(()=>{$e(r,`line-clamp-${e.lines} text-surface-600`),Y(n,e.productName)}),b(t,r)}const ip="/assets/priceDownIcon-BtWO94dz.svg",op="/assets/priceUpIcon-VcWDXWFo.svg",Tk="/assets/strikeLineIcon-H445ePEr.svg";var Ok=H("<div> </div>");function Sn(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(fn,"$nonPersistAppStore",r);let o=Ne(()=>i().currencySymbol),s=R(e,"locale",3,"en-IN"),l=R(e,"className",3,"font-medium text-surface-600");var c=Ok(),d=v(c);ae(u=>{$e(c,Mr(l())),Y(d,`${e.currencySymbol??a(o)??""}${u??""}`)},[()=>kn(e.price,{locale:s(),max:2})]),b(t,c),Ke(),n()}var Rk=H('<span class="flex items-center gap-1 text-warning-500"><span><img alt="down"></span> <span> </span></span>'),Nk=H('<span class="flex items-center gap-1 text-success-500"><img alt="up"> <span> </span></span>'),zk=H('<div class="relative mx-2 inline-block content-center"><span><!></span> <img alt="strike" class="absolute left-0 top-1/2 h-1 w-full -translate-y-1/2"></div>'),Bk=H('<div><div class="flex flex-row items-center gap-2 font-bold"><!> <span><!></span></div> <!></div>');function rl(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(fn,"$nonPersistAppStore",r);let o=R(e,"priceBoxClass",3,"h-4 w-4"),s=R(e,"priceIconClass",3,"h-3 w-3"),l=R(e,"priceTextClass",3,"text-sm"),c=R(e,"lastPriceTextClass",3,"text-xs"),d=R(e,"productPriceComponentClass",3,""),u=R(e,"hidePercentage",3,!1);const f=chrome.runtime.getURL(ip),h=chrome.runtime.getURL(op),p=chrome.runtime.getURL(Tk);var m=Bk(),y=v(m),_=v(y);{var S=z=>{var T=Rk(),M=v(T),D=v(M);pe(D,"src",f);var A=x(M,2),O=v(A);ae(I=>{$e(M,`inline-flex items-center justify-center rounded-full bg-warning-500 text-white ${o()??""}`),$e(D,Mr(s())),$e(A,Mr(l())),Y(O,`${I??""}%`)},[()=>Math.round((e.currentPrice-e.price)/e.currentPrice*100).toLocaleString()]),b(z,T)},w=z=>{var T=ke(),M=de(T);{var D=A=>{var O=Nk(),I=v(O);pe(I,"src",h);var B=x(I,2),j=v(B);ae(V=>{$e(I,Mr(s())),$e(B,Mr(l())),Y(j,`${V??""}%`)},[()=>Math.round((e.price-e.currentPrice)/e.currentPrice*100).toLocaleString()]),b(A,O)};W(M,A=>{e.price>e.currentPrice&&!u()&&e.currentPrice>0&&A(D)},!0)}b(z,T)};W(_,z=>{e.price<e.currentPrice&&!u()&&e.currentPrice>0?z(S):z(w,!1)})}var C=x(_,2),L=v(C);Sn(L,{get currencySymbol(){return e.currencySymbol},get locale(){return e.locale},get price(){return e.price},get className(){return l()}});var k=x(y,2);{var P=z=>{var T=zk(),M=v(T),D=v(M);const A=Ne(()=>e.locale??i().currencyCode);Sn(D,{get price(){return e.lastPrice},get currencySymbol(){return e.currencySymbol},get locale(){return a(A)}});var O=x(M,2);pe(O,"src",p),ae(()=>$e(M,`font-medium text-surface-600 ${c()??""}`)),b(z,T)};W(k,z=>{e.lastPrice&&e.lastPrice>0&&z(P)})}ae(()=>{$e(m,Mr(d())),$e(C,`gap-2 ${l()??""}`)}),b(t,m),Ke(),n()}var jk=H("<img>");function as(t,e){var r=jk();ae(()=>{pe(r,"src",e.siteLogo),pe(r,"alt",e.siteName),$e(r,` h-6 w-6 rounded-full border border-surface-100 ${e.className??""}`)}),b(t,r)}var Fk=H("<img>"),Uk=H("<div></div>");function Wu(t,e){Xe(e,!0);let r=R(e,"src",3,""),n=R(e,"alt",3,""),i=R(e,"cls",3,""),o=le(null);async function s(f){const h=await fetch(f);if(!h.ok)throw new Error("Fetch failed");const p=await h.blob();return await new Promise((m,y)=>{const _=new FileReader;_.onloadend=()=>m(_.result),_.onerror=()=>y("Base64 conversion failed"),_.readAsDataURL(p)})}Zt(async()=>{try{g(o,ne(await s(r())))}catch(f){console.warn("Base64 conversion failed, using original image:",f),g(o,r())}});var l=ke(),c=de(l);{var d=f=>{var h=Fk();ae(()=>{pe(h,"src",a(o)),pe(h,"alt",n()),$e(h,`object-contain ${i()??""}`)}),tt("error",h,()=>g(o,r())),b(f,h)},u=f=>{var h=Uk();ae(()=>$e(h,`animate-pulse bg-surface-300 rounded ${i()??""}`)),b(f,h)};W(c,f=>{a(o)?f(d):f(u,!1)})}b(t,l),Ke()}var Vk=H('<span class="text-xs text-warning-500">Currently Out of Stock</span>'),Wk=()=>_o(4),Hk=H('<div class="group relative w-40 rounded border border-gray-100 bg-white h-full flex flex-col"><div class="h-32 w-40 rounded-t"><!></div> <div class="relative flex flex-col flex-1 justify-between w-full bg-white px-2 pb-2 pt-4 transition-transform"><!> <div class="flex flex-col gap-2 py-2 flex-grow"><div class="text-surface-600 text-xs font-medium flex"><!></div> <!> <!></div> <div class="flex bg-white mt-auto"><a target="_blank" class=" w-full h-8 content-center truncate rounded bg-primary-50 px-1 py-1 text-center text-sm font-bold decoration-none text-primary-600 hover:bg-primary-600 hover:text-white"> </a></div></div></div>');function qk(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(tr,"$LL",r);var o=Hk(),s=v(o),l=v(s);Wu(l,{get src(){return e.item.productImage},get alt(){return e.item.productName},cls:"w-full h-full"});var c=x(s,2),d=v(c);as(d,{get siteLogo(){return e.item.siteImage},get siteName(){return e.item.siteName},className:"absolute -top-3"});var u=x(d,2),f=v(u),h=v(f);bo(h,{get productName(){return e.item.productName},lines:2});var p=x(f,2);rl(p,{get price(){return e.item.currentPrice},get currentPrice(){return e.currentPrice},priceBoxClass:"h-4 w-4",priceIconClass:"h-4 w-4",priceTextClass:"text-sm text-surface-950",lastPriceTextClass:"text-xs",hidePercentage:!0});var m=x(p,2);{var y=C=>{var L=Vk();b(C,L)};W(m,C=>{e.item.oos&&C(y)})}var _=x(u,2),S=v(_);S.__click=[Wk];var w=v(S);ae(C=>{pe(S,"href",e.prodUrl?e.prodUrl:e.item.productLink),Y(w,C)},[()=>i()("common.buyNow")]),b(t,o),Ke(),n()}Tt(["click"]);var Gk=H('<div class="bg-secondary-100 border border-secondary-300 rounded p-2 flex gap-2 items-center"><span class="text-2xl leading-[24px]"><!></span> <p class="text-xs font-medium text-surface-950"> </p></div>');function po(t,e){var _;Xe(e,!0);const[r,n]=ct(),i=()=>ie(l3,"$socialProofData",r),o=()=>ie(tr,"$LL",r);let s=le(!1),l=((_=i())==null?void 0:_.currencySymbol)??"â‚¹";const c={Spend_Lens:{icon:"ðŸ’°",text:o()("socialProof.default.spendLens")},Auto_Coupon:{icon:"âš¡ï¸",text:o()("socialProof.default.autoCoupons")},Price_Alert:{icon:"ðŸ””",text:o()("socialProof.default.priceAlert")},Price_Graph:{icon:"ðŸ“ˆ",text:o()("socialProof.default.priceGraph")},Compare_Bar:{icon:"ðŸ“Š",text:o()("socialProof.default.compareBar")},Ditto:{icon:"ðŸ›’",text:o()("socialProof.default.ditto")}},d={"30_day":{count:18e3,savings:5e5},"1_day":{count:1200,savings:25e3},"30_mins":{count:100,savings:3e3},recent:{savings:200}};function u(S){var z,T,M,D,A,O,I,B,j,V,F,N,q,G,Q,Z,E,U,$,ee,se,oe,K,J,te,X,re,fe,ue,xe,we,me,ce,ye;const w=i()[S],C=()=>c[S]||{icon:"â„¹ï¸",text:o()("socialProof.default.default")};if(!w)return C();const L=be=>l==="â‚¹"?be>=1e7?`â‚¹${(be/1e7).toFixed(2)} Cr`:be>=1e5?`â‚¹${(be/1e5).toFixed(2)} Lakh`:`â‚¹${(be==null?void 0:be.toLocaleString())||0}`:be>=1e6?`${l}${(be/1e6).toFixed(2)} M`:be>=1e3?`${l}${(be/1e3).toFixed(2)} K`:`${l}${(be==null?void 0:be.toLocaleString())||0}`,k=be=>be>=1e6?`${(be/1e6).toFixed(1)}M`:be>=1e3?`${(be/1e3).toFixed(1)}K`:`${be}`,P=be=>{const ve=be;return ve.length===0?null:ve[Math.floor(Math.random()*ve.length)]};switch(S){case"Spend_Lens":{const be=[{icon:"ðŸ’°",text:o()("socialProof.spendLens.trackLikeUsers",{values:{count:k(((z=w["30_day"])==null?void 0:z.count)??d["30_day"].count)}})},{icon:"ðŸ“Š",text:o()("socialProof.spendLens.understandLikeUsers",{values:{count:k(((T=w["30_day"])==null?void 0:T.count)??d["30_day"].count)}})},{icon:"ðŸ’°",text:o()("socialProof.spendLens.calculatedLast30Days",{values:{count:k(((M=w["30_day"])==null?void 0:M.count)??d["30_day"].count)}})},{icon:"ðŸ’°",text:o()("socialProof.spendLens.calculatedToday",{values:{count:k(((D=w["1_day"])==null?void 0:D.count)??d["1_day"].count)}})},{icon:"ðŸ’°",text:o()("socialProof.spendLens.calculatedLast30Mins",{values:{count:k(((A=w["30_mins"])==null?void 0:A.count)??d["30_mins"].count)}})}],ve=P(be);return ve||C()}case"Auto_Coupon":{const be=[{icon:"âš¡ï¸",text:o()("socialProof.autoCoupons.tryAutoApply")},{icon:"ðŸ’°",text:((O=w["30_day"])==null?void 0:O.savings)===0?o()("socialProof.autoCoupons.lastMonthUsage",{values:{count:k(((I=w["30_day"])==null?void 0:I.count)??d["30_day"].count)}}):o()("socialProof.autoCoupons.lastMonthSavings",{values:{amount:L(((B=w["30_day"])==null?void 0:B.savings)??d["30_day"].savings)}})},{icon:"ðŸ·ï¸",text:o()("socialProof.autoCoupons.last30MinsUsage",{values:{count:k(((j=w["30_mins"])==null?void 0:j.count)??d["30_mins"].count)}})},{icon:"ðŸ’°",text:((V=w["30_mins"])==null?void 0:V.savings)===0?o()("socialProof.autoCoupons.last30MinsUsage",{values:{count:k(((F=w["30_mins"])==null?void 0:F.count)??d["30_mins"].count)}}):o()("socialProof.autoCoupons.last30MinsSavings",{values:{amount:L(((N=w["30_mins"])==null?void 0:N.savings)??d["30_day"].savings)}})},{icon:"ðŸ·ï¸",text:o()("socialProof.autoCoupons.todayUsage",{values:{count:k(((q=w["1_day"])==null?void 0:q.count)??d["1_day"].count)}})},{icon:"ðŸ’°",text:((G=w["1_day"])==null?void 0:G.savings)===0?o()("socialProof.autoCoupons.todayUsage",{values:{count:k(((Q=w["1_day"])==null?void 0:Q.count)??d["1_day"].count)}}):o()("socialProof.autoCoupons.todaySavings",{values:{amount:L(((Z=w["1_day"])==null?void 0:Z.savings)??d["1_day"].savings)}})},(E=w.recent)!=null&&E.savings?{icon:"ðŸ’°",text:o()("socialProof.autoCoupons.someoneSavedRecently",{values:{amount:L(((U=w.recent)==null?void 0:U.savings)??d.recent.savings)}})}:null],ve=P(be);return ve||C()}case"Price_Alert":case"Price_Graph":case"Compare_Bar":{const be={Price_Alert:"price alerts",Price_Graph:"price graphs",Compare_Bar:"price comparison"}[S],ve=[{icon:"ðŸ””",text:o()("socialProof.generic.usedLast30Days",{values:{count:k((($=w["30_day"])==null?void 0:$.count)??d["30_day"].count),label:be}})},{icon:"ðŸ“ˆ",text:o()("socialProof.generic.usedToday",{values:{count:k(((ee=w["1_day"])==null?void 0:ee.count)??d["1_day"].count),label:be}})},{icon:"â±ï¸",text:o()("socialProof.generic.usedLast30Mins",{values:{count:k(((se=w["30_mins"])==null?void 0:se.count)??d["30_mins"].count),label:be}})},((oe=w["30_day"])==null?void 0:oe.savings)>0&&{icon:"ðŸ’°",text:o()("socialProof.generic.savedLastMonth",{values:{amount:L((K=w["30_day"])==null?void 0:K.savings)??d["30_day"].savings,label:be}})},((J=w["1_day"])==null?void 0:J.savings)>0&&{icon:"ðŸ’°",text:o()("socialProof.generic.savedToday",{values:{amount:L(((te=w["1_day"])==null?void 0:te.savings)??d["1_day"].savings),label:be}})},((X=w["30_mins"])==null?void 0:X.savings)>0&&{icon:"ðŸ’°",text:o()("socialProof.generic.savedLast30Mins",{values:{amount:L(((re=w["30_mins"])==null?void 0:re.savings)??d["30_mins"].savings),label:be}})},((fe=w.recent)==null?void 0:fe.savings)&&{icon:"ðŸ”¥",text:o()("socialProof.generic.someoneSavedRecently",{values:{amount:L(((ue=w.recent)==null?void 0:ue.savings)??d.recent.savings),label:be}})}],Se=P(ve);return Se||C()}case"Ditto":{const be=[{icon:"ðŸ›ï¸",text:o()("socialProof.ditto.exploredLast30Days",{values:{count:k(((xe=w["30_day"])==null?void 0:xe.count)??d["30_day"].count)}})},{icon:"ðŸ›’",text:o()("socialProof.ditto.foundLowerPriceToday",{values:{count:k(((we=w["1_day"])==null?void 0:we.count)??d["1_day"].count)}})},{icon:"âœ¨",text:o()("socialProof.ditto.checkedJustNow",{values:{count:k(((me=w["30_mins"])==null?void 0:me.count)??d["30_mins"].count)}})},{icon:"ðŸ”",text:o()("socialProof.ditto.discoverLikeOthers",{values:{count:k(((ce=w["30_day"])==null?void 0:ce.count)??d["30_day"].count)}})},{icon:"ðŸ›ï¸",text:o()("socialProof.ditto.activelyComparing",{values:{count:k(((ye=w["1_day"])==null?void 0:ye.count)??d["1_day"].count)}})}],ve=P(be);return ve||C()}default:return{icon:"â„¹ï¸",text:o()("socialProof.default.default")}}}let f=le(""),h=le("");Zt(async()=>{var S;await Dy(),l=((S=i())==null?void 0:S.currencySymbol)||"â‚¹",g(s,!0),(w=>(g(f,ne(yg(w.icon,""))),g(h,ne(yg(w.text,"")))))(u(e.featureKey))});var p=ke(),m=de(p);{var y=S=>{var w=Gk(),C=v(w),L=v(C);Xt(L,()=>a(f));var k=x(C,2),P=v(k);ae(()=>Y(P,a(h))),b(S,w)};W(m,S=>{a(h)&&a(s)&&!a(h).startsWith("socialProof.")&&S(y)})}b(t,p),Ke(),n()}const Ih=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16">
	<path fill="currentColor" fill-rule="evenodd"
		d="M6.22 4.22c.3-.3.77-.3 1.06 0l3.25 3.25c.3.3.3.77 0 1.06l-3.25 3.25a.75.75 0 0 1-1.06-1.06L8.94 8 6.22 5.28a.75.75 0 0 1 0-1.06"
		clip-rule="evenodd" />
</svg>
`,Ig=(t,e)=>{g(e,!1)};var $k=(t,e,r,n,i,o)=>{g(e,!0);const s=a(r)[a(n)];i(s==null?void 0:s.clickPixel),o(s)},Yk=H('<button class="w-full h-full block"><img alt="ad creative" class="w-full h-full object-cover rounded-lg"></button>'),Xk=(t,e,r,n,i)=>{const o=a(e)[a(r)];n(o==null?void 0:o.clickPixel),i(o)},Kk=H('<a target="_blank" class="w-full h-full block"><img alt="ad creative" class="w-full h-full object-cover rounded-lg"></a>'),Qk=H('<div class="col-start-1 row-start-1 w-full h-full"><!></div>'),Jk=(t,e,r,n,i)=>{t.preventDefault(),g(e,-1),g(r,(a(r)-1+a(n).length)%a(n).length),i()},Zk=(t,e,r,n,i)=>{t.preventDefault(),g(e,1),g(r,(a(r)+1)%a(n).length),i()},e6=H('<button class="absolute left-1 top-1/2 -translate-y-1/2 z-10 p-1 bg-white rounded-full w-8 h-8 flex items-center justify-center" aria-label="Previous slide"><span class="rotate-180 w-6 h-6 inline-block"><!></span></button> <button class="absolute right-1 top-1/2 -translate-y-1/2 z-10 p-1 bg-white rounded-full w-8 h-8 flex items-center justify-center" aria-label="Next slide"><span class="w-6 h-6 inline-block"><!></span></button>',1),t6=H("<div><!> <!></div>"),r6=H('<div class="absolute inset-0 z-[999999]"><button class="bg-black opacity-50 w-full h-full absolute rounded-lg" style="background-color: rgba(0, 0, 0, 0.5);" aria-label="close modal"></button> <div class="rounded-xl absolute left-1/2 transform -translate-x-1/2 w-full bottom-0 max-w-[360px] p-2"><div class="w-full overflow-auto shadow-lg"><div class="rounded-2xl bg-white shadow-xl"><div class="flex items-center justify-between px-5 py-4"><h2 class="text-lg font-semibold text-surface-900"> </h2> <div class="flex items-center gap-3"><button class="text-surface-400 hover:text-surface-600">âœ•</button></div></div> <div class="px-6 pb-4"><div class="relative rounded-[28px] bg-surface-100 p-4"><div class="mx-auto mb-4 h-1.5 w-16 rounded-full bg-surface-300"></div> <div class="rounded-2xl bg-white p-4 shadow-sm"><img alt="QR Code" class="mx-auto h-52 w-52"></div></div> <p class="mt-4 text-center text-sm font-medium text-surface-700">Scan the QR code to download</p></div> <div class="flex items-center gap-2 border-t px-2 py-3 text-xs text-surface-600"><span class="flex h-4 w-4 items-center justify-center rounded-full bg-primary-100 text-primary-600 text-xs font-bold">i</span> <span>No QR? Just search Buyhatke mobile app on Google</span></div></div></div></div></div>'),n6=H("<!> <!>",1);function Ln(t,e){Xe(e,!0);let r=R(e,"className",3,""),n=le(null),i=le(!1),o=le(ne([])),s=le(0),l=new Set,c=le(-1),d=le(""),u=le(""),f=le(!1);const h=async M=>{try{if(!M)return;const D={campaignId:String(M.campaignId),slotId:String(M.slotId),adId:String(M.id),platform:"0"},{status:A,err:O}=await Fr({type:"trackImpressionPixel",params:D});A||console.log("error",O)}catch(D){console.log("error",D)}},p=async M=>{try{if(!M)return;const D={campaignId:String(M.campaignId),slotId:String(M.slotId),adId:String(M.id),platform:"0"},{status:A,err:O}=await Fr({type:"trackClickPixel",params:D});A||console.log("error",O)}catch(D){console.log("error",D)}},m=async M=>{try{if(!M)return;await Fr({type:"fireExternalAdPixel",url:M})}catch(D){console.log("error",D)}};function y(M){var I,B,j,V,F,N,q,G,Q,Z,E,U,$;const D=new Date;if(M.startDate){const ee=new Date(M.startDate);if(!isNaN(ee.getTime())&&D<ee)return!1}if(M.endDate){const ee=new Date(M.endDate);if(!isNaN(ee.getTime())&&D>ee)return!1}const A=Object.keys(M.location||{}).map(ee=>ee.toLowerCase());if(A.length>0){const ee=a(d)&&A.includes(a(d).toLowerCase()),se=a(u)&&A.includes(a(u).toLowerCase());if(!ee&&!se)return!1}const O=Object.keys(M.sites||{}).map(ee=>ee.toLowerCase());if(O.length>0&&!O.some(se=>Ni==se))return!1;if(a(n)&&a(n).pid&&a(n).price){const ee=(j=(B=(I=a(n))==null?void 0:I.categoryObject)==null?void 0:B.brand)==null?void 0:j.toLowerCase(),se=(N=(F=(V=a(n))==null?void 0:V.categoryObject)==null?void 0:F.category)==null?void 0:N.toLowerCase(),oe=String(((G=(q=a(n))==null?void 0:q.categoryObject)==null?void 0:G.catId)??"").toLowerCase(),K=(E=(Z=(Q=a(n))==null?void 0:Q.categoryObject)==null?void 0:Z.subCategory)==null?void 0:E.toLowerCase(),J=String((($=(U=a(n))==null?void 0:U.categoryObject)==null?void 0:$.subCatId)??"").toLowerCase(),te=a(n).price;if(te!==void 0&&(M.priceRangeMin!=null&&te<M.priceRangeMin||M.priceRangeMax!=null&&te>M.priceRangeMax))return!1;const X=Object.keys(M.brandTargets||{}).map(ce=>ce.toLowerCase());if(X.length>0&&ee&&!X.includes(ee))return!1;let re=[],fe=[];M.categories&&["l0","ln"].forEach(ce=>{var be;const ye=(be=M.categories)==null?void 0:be[ce];if(Array.isArray(ye))for(const ve of ye)ve!=null&&ve.catName&&re.push(ve.catName.toLowerCase()),(ve==null?void 0:ve.catId)!==void 0&&fe.push(String(ve.catId))});const ue=[se,K].filter(Boolean),xe=[oe,J].filter(Boolean),we=ue.some(ce=>re.includes(ce)),me=xe.some(ce=>fe.includes(ce));if((re.length>0||fe.length>0)&&!we&&!me)return!1}return!0}async function _(M){try{const{status:D,data:A,err:O}=await Fr({type:"getAdCreatives",id:M});if(D&&(A!=null&&A.adsList)&&Array.isArray(A==null?void 0:A.adsList)){const B=A.adsList.filter(y);g(o,ne(B)),g(i,a(o).length>0)}else console.log("error",O)}catch(D){console.log("error",D)}}let S=null;function w(){S=setInterval(()=>{a(o).length!==0&&(g(c,1),g(s,(a(s)+1)%a(o).length))},4e3)}function C(){S&&clearInterval(S),w()}Zt(async()=>{try{if(g(n,ne({pos:Ni,pid:kh(),price:wh(),name:bh()})),Ni&&a(n)&&a(n).pid){const M=await Fr({type:"getProductCategory",data:{pid:a(n).pid,pos:Ni}});(M==null?void 0:M.status)==1&&(a(n).categoryObject=(M==null?void 0:M.categoryObject)??{})}g(d,ne(await an("userCity")||"")),g(u,ne(await an("userCountry")||"")),e.slotId&&_(e.slotId)}catch(M){console.log("Error fetching location:",M)}}),Zt(()=>(w(),()=>{S&&clearInterval(S)}));var L=n6(),k=de(L);{var P=M=>{var D=t6(),A=v(D);Vu(A,()=>a(s),B=>{var j=Qk(),V=v(j);{var F=q=>{var G=Yk();G.__click=[$k,f,o,s,m,p];var Q=v(G);ae(()=>{var Z;return pe(Q,"src",(Z=a(o)[a(s)])==null?void 0:Z.creativeUrl)}),b(q,G)},N=q=>{var G=Kk();G.__click=[Xk,o,s,m,p];var Q=v(G);ae(()=>{var Z,E;pe(G,"href",(Z=a(o)[a(s)])==null?void 0:Z.targetUrl),pe(Q,"src",(E=a(o)[a(s)])==null?void 0:E.creativeUrl)}),b(q,G)};W(V,q=>{var G;(G=a(o)[a(s)])!=null&&G.isModalType?q(F):q(N,!1)})}tt("introend",j,()=>{const q=a(o)[a(s)];q&&!l.has(q.id)&&(l.add(q.id),h(q),m(q.impressionPixel))}),Rt(1,j,()=>Hn,()=>({x:300*a(c),duration:300,delay:100})),Rt(2,j,()=>Hn,()=>({x:-300*a(c),duration:300})),b(B,j)});var O=x(A,2);{var I=B=>{var j=e6(),V=de(j);V.__click=[Jk,c,s,o,C];var F=v(V),N=v(F);Xt(N,()=>Ih);var q=x(V,2);q.__click=[Zk,c,s,o,C];var G=v(q),Q=v(G);Xt(Q,()=>Ih),b(B,j)};W(O,B=>{a(o).length>1&&B(I)})}ae(()=>$e(D,`${r()??""} relative grid grid-cols-1 grid-rows-1 overflow-hidden group`)),b(M,D)};W(k,M=>{a(i)&&a(o).length>0&&M(P)})}var z=x(k,2);{var T=M=>{var D=r6(),A=v(D);A.__click=[Ig,f];var O=x(A,2),I=v(O),B=v(I),j=v(B),V=v(j),F=v(V),N=x(V,2),q=v(N);q.__click=[Ig,f];var G=x(j,2),Q=v(G),Z=x(v(Q),2),E=v(Z);ae(U=>{var $;Y(F,(($=a(o)[a(s)])==null?void 0:$.modalTitle)||"Download Our App"),pe(E,"src",U)},[()=>{var U;return`https://api.qrserver.com/v1/create-qr-code/?size=220x220&data=${encodeURIComponent((U=a(o)[a(s)])==null?void 0:U.targetUrl)}`}]),Rt(1,I,()=>Hn,()=>({y:"0",duration:300})),b(M,D)};W(z,M=>{a(f)&&M(T)})}b(t,L),Ke()}Tt(["click"]);const a6="/assets/arrow-DJPwJFNR.svg",i6=[.2,3/8,5/9,2/3],o6=(t,e)=>r=>{const n=4*t+r-4,i="*-04-39?2$%%$%%'$%''%'''%')(%'))%(++'(++'(+.'+-.',/3',33)-/5)-43).36)058*18<+37<+4:<,4:E,5<A-7>C/8@F/:EH/<EK0=FM1?IP2@KS3BNV4DPY5FS\\6HV_6IXb7K[e8N^i9Pam;Rdp<Tgt".charCodeAt(n)-35,o=n>8?i:1,s=e/o|0,l=e%o,c=o-l,d=n>8?s*i6[r]+(t>5)&-2:i,u=s-d;return{t:c*u+l*u+l,o:[[c,u],[l,u+1]],i:d}},is=t=>new Uint8Array(t),Tl=t=>{const e=new Error(`lean-qr error ${t}`);throw e.code=t,e},Yc=t=>"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".indexOf(t),Th=t=>t.charCodeAt(0),S_=(...t)=>(e,r)=>t.forEach(n=>n(e,r)),C_=t=>e=>{e.eci!==t&&(e.push(7,4),e.push(t,8),e.eci=t)},sp=t=>(e,r)=>{e.push(4,4),e.push(t.length,8+8*(r>9)),t.forEach(n=>e.push(n,8))},nl=(t,e,r,n,i=(s,l)=>r(s.length,l),o=n?s=>S_(C_(n),t(s)):t)=>(o.test=e,o.l=r,o.est=i,o.eci=n&&[n],o),A_=nl(t=>(e,r)=>{e.push(1,4),e.push(t.length,10+2*(r>26)+2*(r>9));let n=0;for(;n<t.length-2;n+=3)e.push(+t.slice(n,n+3),10);n<t.length-1?e.push(+t.slice(n),7):n<t.length&&e.push(+t[n],4)},t=>/[0-9]/.test(t),(t,e)=>14+2*(e>26)+2*(e>9)+10*t/3),M_=nl(t=>(e,r)=>{e.push(2,4),e.push(t.length,9+2*(r>26)+2*(r>9));let n=0;for(;n<t.length-1;n+=2)e.push(45*Yc(t[n])+Yc(t[n+1]),11);n<t.length&&e.push(Yc(t[n]),6)},t=>Yc(t)>=0,(t,e)=>13+2*(e>26)+2*(e>9)+5.5*t),Bs=nl(t=>sp([...t].map(Th)),t=>Th(t)<128,(t,e)=>12+8*(e>9)+8*t);Bs._=!0,Bs.u=!0;const lp=nl(Bs,t=>Th(t)<256,Bs.l,3);lp._=!0;const Tg=new TextEncoder,cp=nl(t=>sp(Tg.encode(t)),()=>1,0,26,(t,e)=>12+8*(e>9)+8*Tg.encode(t).length);cp._=!0;let Oh=()=>{const t=new Map,e=new TextDecoder("sjis"),r=is(2);for(let n=0;n<7973;++n)r[0]=n/192+129+64*(n>5951),r[1]=n%192+64,t.set(e.decode(r),n);return t.delete("ï¿½"),Oh=()=>t,t};const dp=nl(t=>(e,r)=>{e.push(8,4),e.push(t.length,8+2*(r>26)+2*(r>9));for(const n of t)e.push(Oh().get(n),13)},t=>Oh().has(t),(t,e)=>12+2*(e>26)+2*(e>9)+13*t);dp._=!0;const P_=[A_,M_,Bs,lp,dp,cp],s6={auto:(t,{modes:e=P_}={})=>(r,n)=>{const i=e.map((u,f)=>{const h=new Map,p=(m,y)=>(h.has(m)||h.set(m,y(m,n)),h.get(m));return{m:u,h:1<<f,C:u.est("",n),S:u.l?(m,y)=>p(y-m,u.l):(m,y)=>p(t.slice(m,y),u.est)}});let o=[{v:0}],s=0,l=0,c=-1;for(const u of[...t,""]){let f=0;if(u)for(const h of i)h.m.test(u)&&(f|=h.h);if(!u||f!==c){if(c!==-1){const h=new Set(o.map(m=>m.D)),p=[];for(const{m,C:y,S:_,h:S}of i)if(c&S){const w=_(s,l);for(const C of m.eci??h)if(!m.u||!C){let L;for(const k of o)if(k.D===C||m.eci){const P=k.m===m&&k.D===C,z=P?k.V:k,T=m._&&P?k.v+w-y:z.v+12*(z.D!==C)+(P?_(P?k.$:s,l):w);(!L||T<L.v)&&(L={$:P?k.$:s,V:z,m,D:C,A:l,v:T})}L&&p.push(L)}}o=p}c=f,s=l}l+=u.length}o.length||Tl(5);const d=[];for(let u=o.reduce((f,h)=>h.v<f.v?h:f);u.m;u=u.V)d.push(u.m(t.slice(u.$,u.A)));d.reverse().forEach(u=>u(r,n))},multi:S_,eci:C_,bytes:sp,numeric:A_,alphaNumeric:M_,ascii:Bs,iso8859_1:lp,shift_jis:dp,utf8:cp},l6=()=>({F:is(2956),I:0,push(t,e){for(let r=e,n=8-(7&this.I);r>0;r-=n,n=8)this.F[this.I>>3]|=t<<n>>r,this.I+=r<n?r:n}}),Af=(t,e=t*t,r=is(e))=>({size:t,K:r,get:(n,i)=>n>=0&&n<t&&!!(1&r[i*t+n]),toString({on:n="##",off:i="  ",lf:o=`
`,padX:s=4,padY:l=4}={}){let c="";for(let d=-l;d<t+l;++d){for(let u=-s;u<t+s;++u)c+=this.get(u,d)?n:i;c+=o}return c},toImageData(n,{on:i=[0,0,0],off:o=[0,0,0,0],padX:s=4,padY:l=4}={}){const c=t+2*s,d=t+2*l,u=n.createImageData(c,d),f=new Uint32Array(u.data.buffer);u.data.set([...i,255]);const h=f[0];u.data.set([...o,255]);const p=f[0];for(let m=0;m<d;++m)for(let y=0;y<c;++y)f[m*c+y]=this.get(y-s,m-l)?h:p;return u},toCanvas(n,i){const o=n.getContext("2d"),s=this.toImageData(o,i);n.width=s.width,n.height=s.height,o.putImageData(s,0,0)},toDataURL({type:n="image/png",scale:i=1,...o}={}){const s=document.createElement("canvas"),l=s.getContext("2d"),c=this.toImageData(l,o);return s.width=c.width*i,s.height=c.height*i,l.putImageData(c,0,0),l.imageSmoothingEnabled=!1,l.globalCompositeOperation="copy",l.drawImage(s,0,0,c.width,c.height,0,0,s.width,s.height),s.toDataURL(n,1)}}),Mf=[(t,e)=>!(1&(t^e)),(t,e)=>!(1&e),t=>!(t%3),(t,e)=>!((t+e)%3),(t,e)=>!(1&(t/3^e>>1)),(t,e)=>!((t&e&1)+t*e%3),(t,e)=>!((t&e&1)+t*e%3&1),(t,e)=>!((1&(t^e))+t*e%3&1)],Ud=is(511);for(let t=0,e=1;t<255;e=2*e^285*(e>127))Ud[Ud[e+255]=t++]=e;const D_=t=>Ud[t%255],L_=t=>Ud[t+255],c6=(t,e)=>{const r=is(t.length+e.length-1);for(let n=0;n<t.length;++n)for(let i=0;i<e.length;++i)r[n+i]^=D_(t[n]+e[i]);return r.map(L_)},d6=(t,e)=>{const r=is(t.length+e.length-1);r.set(t,0);for(let n=0;n<t.length;++n)if(r[n]){const i=L_(r[n]);for(let o=0;o<e.length;++o)r[n+o]^=D_(e[o]+i)}return r.slice(t.length)},Rh=[[0],[0,0]];for(let t=1;t<30;++t)Rh.push(c6(Rh[t],[0,t]));const u6=(t,e)=>{const r=[[],[]];let n=0,i=0;for(const[s,l]of e.o)for(let c=0;c<s;++c,n+=l){const d=t.slice(n,n+l);r[0].push(d),r[1].push(d6(d,Rh[e.i])),i+=l+e.i}const o=is(i);i=0;for(const s of r)for(let l,c=0;i!==l;++c){l=i;for(const d of s)c<d.length&&(o[i++]=d[c])}return o},E_=(t,e,r)=>{let n=t<<=r;for(let i=134217728;i>>=1;)n&i&&(n^=e*(i>>r));return n|t},f6=({size:t,K:e},r)=>{const n=(s,l,c,d)=>{for(;c-- >0;s+=t)e.fill(d,s,s+l)},i=(s,l,c)=>{for(let d=0;d++<3;c-=2)n(l*t+s-(c>>1)*(t+1),c,c,2|d)},o=2*((t-13)/(1+(r/7|0))/2+.75|0);if(r>1)for(let s=t-7;s>8;s-=o){for(let l=s;l>8;l-=o)i(s,l,5);s<t-7&&i(s,6,5)}if(r>6)for(let s=E_(r,7973,12),l=1;l<7;++l)for(let c=12;c-- >9;s>>=1)e[l*t-c]=2|1&s;n(7,2,9,2),n(t-8,8,9,2);for(let s=0;s<t;++s)e[6*t+s]=3^1&s;i(3,3,7),i(t-4,3,7);for(let s=0;s<t;++s)for(let l=s;l<t;++l)e[l*t+s]=e[s*t+l];e[(t-8)*t+8]=3},v6=({size:t,K:e})=>{const r=[];for(let n=t-2,i=t,o=-1;n>=0;n-=2){for(n===5&&(n=4);i+=o,i!==-1&&i!==t;){const s=i*t+n;e[s+1]||r.push(s+1),e[s]||r.push(s)}o*=-1}return r},h6=({K:t},e,r)=>e.forEach((n,i)=>t[n]=r[i>>3]>>(7&~i)&1),p6=({size:t,K:e},r,n,i)=>{for(let s=0;s<t;++s)for(let l=0;l<t;++l){const c=s*t+l;e[c]^=r(l,s)&(e[c]>>1^1)}let o=21522^E_((1^i)<<3|n,1335,10);for(let s=0;s++<8;o>>=1)e[(s-(s<7))*t+8]=1&o,e[9*t-s]=1&o;for(let s=8;--s,o;o>>=1)e[8*t+s-(s<7)]=1&o,e[(t-s)*t+8]=1&o},g6=({size:t,K:e},r=0,n=0)=>{for(let i=0;i<t;++i){for(let o=0;o<2;++o)for(let s,l=0,c=0,d=0;l<t;++l){const u=1&e[o?i*t+l:l*t+i];n+=u,c=(c>>1|2098176)&(3047517^u-1),2049&c&&(r+=40),u!==s&&(d=0),s=u,r+=++d===5?3:d>5}if(i)for(let o=t+i,s=5*e[i-1]^e[i];o<t*t;o+=t){const l=5*e[o-1]^e[o];r+=3*!(1&(s|l)|4&(s^l)),s=l}}return r+10*(10*Math.abs(n/(t*t)-1)|0)},Og=[],nc=(t=Tl(1),{minCorrectionLevel:e=0,maxCorrectionLevel:r=3,minVersion:n=1,maxVersion:i=40,mask:o,trailer:s=60433,...l}={})=>{r<e&&Tl(3),i<n&&Tl(2),typeof t=="string"&&(t=s6.auto(t,l));for(let c=n,d=0;c<=i;++c){let u=Og[c];u||(Og[c]=u=Af(4*c+17),f6(u,c),u.p=v6(u));const f=o6(c,u.p.length>>3);if(8*f(e).t<d)continue;const h=l6();t(h,c),d=h.I;for(let p=r;p>=e;--p){const m=f(p);if(8*m.t<d)continue;for(h.I=d+11&-8;h.I<8*m.t;)h.push(s,16);const y=Af(u.size,u.K);return h6(y,u.p,u6(h.F,m)),(Mf[o??-1]?[Mf[o]]:Mf).map((_,S)=>{const w=Af(y.size,y.K);return p6(w,_,o??S,p),w.s=g6(w),w}).reduce((_,S)=>S.s<_.s?S:_)}}Tl(4)};nc.with=(...t)=>(e,r)=>nc(e,{modes:[...P_,...t],...r});const m6=async(t,e,r,n,i)=>{const o="user_rating",s=window.location.href;if(a(e)&&a(r)){const l=JSON.stringify([{feedback_selected:a(e),source:o,feedback_other:a(r),email:a(n),url:s}]);Vy(l,i)}};var x6=H('<button aria-label="Close" class="absolute p-2"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-surface-700" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button>'),y6=H('<p class="text-xs text-surface-600">Your rating shapes the future of this extension</p>'),_6=(t,e,r)=>e(a(r)),b6=br('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-8 h-8 text-[#4F46E5]"><path fill="currentColor" d="M12 .587l3.668 7.431L24 9.748l-6 5.849 1.416 8.263L12 19.771 4.584 23.86 6 15.597 0 9.748l8.332-1.73z"></path></svg>'),w6=br('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-8 h-8 text-surface-300"><path fill="none" stroke="currentColor" stroke-width="1.5" d="M12 .587l3.668 7.431L24 9.748l-6 5.849 1.416 8.263L12 19.771 4.584 23.86 6 15.597 0 9.748l8.332-1.73z"></path></svg>'),k6=H('<button class="w-12 h-12 flex items-center justify-center rounded-lg"><!></button>'),S6=H('<div class="flex items-center justify-center gap-2"><p class="text-base font-semibold text-surface-900">Select a star</p> <img alt="arrow icon" class="w-6 h-6"> <p class="text-base font-semibold text-surface-900">to rate</p></div>'),C6=H('<div class="flex items-center justify-center gap-2"><p class="text-base font-semibold text-surface-900"><!></p></div>'),A6=H(`<div class="flex flex-col gap-2"><label for="email" class="text-xs font-semibold text-[#0F172A]">Email (Optional)</label> <div class="relative"><div class="absolute left-3 top-3"><svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg></div> <input type="email" id="email" placeholder="Enter your email" class="w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg text-sm"></div> <p class="text-xs text-[#475569]">Your email helps us follow up and schedule a short chat to
										better understand your experience ðŸ™</p></div>`),M6=H('<div class="flex-1 flex flex-col px-6 pb-6"><div class="flex-1 flex flex-col gap-4"><div class="flex flex-col gap-2"><label for="feedback" class="text-xs font-semibold text-[#0F172A]">Tell us how to improve</label> <div class="relative"><div class="absolute left-3 top-3"><svg class="w-5 h-5 text-gray-400" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path></svg></div> <textarea id="feedback" placeholder="Price alerts is one of the best in this extension and I totally loved it." class="w-full h-16 pl-10 pr-3 py-3 border border-gray-300 rounded-lg resize-none text-sm"></textarea></div></div> <!> <button class="w-full px-4 py-3 text-sm font-semibold text-white bg-primary-600 rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed">Submit</button></div></div>'),P6=H('<div class="w-full max-w-lg rounded-xl border border-gray-200 bg-white overflow-hidden flex flex-col"><div class="bg-orange-50 relative flex items-center"><!> <div class="flex items-center justify-center rounded-full bg-[#F97316]"><svg xmlns="http://www.w3.org/2000/svg" class=" text-white" viewBox="0 0 20 20" fill="currentColor"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.966a1 1 0 00.95.69h4.162c.969 0 1.371 1.24.588 1.81l-3.37 2.448a1 1 0 00-.364 1.118l1.287 3.966c.3.921-.755 1.688-1.54 1.118l-3.37-2.448a1 1 0 00-1.175 0l-3.37 2.448c-.784.57-1.838-.197-1.539-1.118l1.286-3.966a1 1 0 00-.364-1.118L2.063 9.393c-.783-.57-.38-1.81.588-1.81h4.162a1 1 0 00.95-.69L9.05 2.927z"></path></svg></div> <div class="flex flex-col items-center gap-2"><h3 class="text-base font-bold text-surface-950">Rate your experience</h3> <!></div></div> <div class="bg-white flex flex-col items-center"><div class="flex justify-center"><div class="flex items-center gap-2"></div></div> <!></div> <!></div>'),D6=H('<div class="relative"><img alt="WhatsApp QR Code" class="w-48 h-48 shadow-sm"></div>'),L6=H(`<div class="w-full max-w-lg rounded-xl shadow-xl border border-gray-200 bg-white overflow-hidden flex flex-col"><div class="bg-white flex flex-col items-center gap-3 px-6 py-8 relative"><button aria-label="Close" class="absolute top-4 right-4 p-2"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-surface-700" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button> <div class="flex items-center justify-center w-6 h-6 rounded-full bg-green-500"><svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div> <div class="flex flex-col items-center gap-2"><h3 class="text-base font-medium text-surface-900 flex items-center gap-2">Thanks for sharing your feedback ðŸ™</h3></div> <div class="flex flex-col items-center gap-1 text-center"><p class="text-xs text-surface-700">Let's chat directly on WhatsApp</p> <p class="text-xs text-surface-700">so we can fix this for you.</p></div> <div class="flex flex-col items-center gap-3"><!> <div class="text-center"><p class="text-xs text-gray-600 mb-1">Scan this QR code with your phone</p> <p class="text-xs text-gray-500">to connect with us on WhatsApp</p></div></div> <button class="w-full flex items-center justify-center gap-3 px-6 py-3 bg-primary-600 text-white font-bold text-base rounded-lg transition-colors duration-200"><svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"></path></svg> <span>Chat with us on WhatsApp</span></button></div></div>`),E6=H('<div class="w-full max-w-lg rounded-xl shadow-xl border border-gray-200 bg-white overflow-hidden flex flex-col"><div class="bg-white flex flex-col items-center gap-3 px-6 py-8"><div class="flex items-center justify-center w-6 h-6 rounded-full bg-green-500"><svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div> <div class="flex flex-col items-center gap-2"><h3 class="text-base font-medium text-surface-800 flex items-center gap-2">We appreciate your feedback!</h3></div> <div class="flex flex-col items-center gap-1 text-center"><p class="text-xs text-surface-500">Just a sec while we take you to the store to submit your rating â¤ï¸</p></div> <div class="w-full"><div class="w-full bg-gray-200 rounded-full h-3"><div class="bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-100 ease-out"></div></div></div></div></div>'),I6=H("<div><!></div>");function Hu(t,e){Xe(e,!0),R(e,"isOpen",11,!1);let r=R(e,"comingFromAlert",3,!1),n=R(e,"comingFromHistory",3,!1),i=R(e,"isRatingSelected",3,()=>{}),o=R(e,"comingFromDitto",3,!1),s=R(e,"comingFromAutoCoupon",3,!1),l=R(e,"wrapperClass",3,"p-0"),c=le(0),d=le(0),u=le(!1),f=le(1),h=le(0);const p={first:30*24*60*60*1e3,second:90*24*60*60*1e3,third:180*24*60*60*1e3,fourth:365*24*60*60*1e3},m="ratingModuleData";async function y(){try{return await an(m)||{lastClosedTime:0,closeCount:0,lastRating:0}}catch(E){return console.error("Error getting rating module data:",E),{lastClosedTime:0,closeCount:0,lastRating:0}}}async function _(E){try{await Xr(m,E)}catch(U){console.error("Error setting rating module data:",U)}}function S(E){switch(E){case 0:return p.first;case 1:return p.second;case 2:return p.third;default:return p.fourth}}async function w(){const E=await y(),$=Date.now()-E.lastClosedTime,ee=S(E.closeCount);return $>=ee}const C=[1,2,3,4,5];let L=le(""),k=le(""),P=le(!1),z=le("");function T(E){g(c,ne(E)),a(c)===5&&(g(f,3),j()),n()&&i()()}function M(E){g(d,ne(E))}async function D(){if(g(u,!1),a(c)===0){const E=await y(),$={lastClosedTime:Date.now(),closeCount:(E==null?void 0:E.closeCount)===void 0?0:E.closeCount+1,lastRating:a(c)};await _($)}}let A=-1;function O(E){E.key==="ArrowRight"?(A=Math.min(4,A+1),g(d,A+1)):E.key==="ArrowLeft"?(A=Math.max(0,A-1),g(d,A+1)):E.key==="Enter"&&A>=0?T(A+1):E.key==="Escape"&&D()}const I={chrome_web:"https://chromewebstore.google.com/detail/Buyhatke:%20Price%20History%20%26%20Tracker%2C%20Spend%20Lens/ojplmecpdpgccookcobabopnaifgidhf/reviews/my-review",edge_web:"https://microsoftedge.microsoft.com/addons/detail/buyhatke-price-history-/gdgnlfdenkmjcfgjpnookbglpndleahm",safari_mac_appstore:"https://apps.apple.com/in/app/buyhatke-price-tracker-coupon/id6476868488",safari_ios_appstore:"https://apps.apple.com/in/app/buyhatke-ai-shopping-assistant/id895452619"};async function B(){await Xr("feedbackStored",!0);const E=await y(),U={lastClosedTime:Date.now(),closeCount:(E==null?void 0:E.closeCount)===void 0?0:E.closeCount+1,lastRating:a(c)};await _(U),a(c)<5?(q(),g(f,2)):(g(f,3),j())}function j(){g(h,0);const E=setInterval(()=>{g(h,a(h)+4),a(h)>=100&&(clearInterval(E),F(),D())},50)}function V(){const E=navigator.userAgent||"",U=navigator.platform||"",$=/Android/i.test(E),ee=/iPhone|iPad|iPod/i.test(E),se=/Macintosh/i.test(E),oe=/Win/i.test(U)||/Windows/i.test(E),K=/Chrome\/\d+/i.test(E)&&!/Edg\//i.test(E)&&!/OPR\//i.test(E),J=/Firefox\/\d+/i.test(E),te=/Edg\//i.test(E),X=/Safari\/\d+/i.test(E)&&!/Chrome\/\d+/i.test(E);return{isAndroid:$,isIOS:ee,isMac:se,isWindows:oe,isChrome:K,isFirefox:J,isEdge:te,isSafari:X,ua:E}}function F(){const E=V();if(E.isChrome&&!E.isAndroid&&!E.isIOS){window.open(I.chrome_web,"_blank","noopener");return}if(E.isEdge&&!E.isAndroid&&!E.isIOS){window.open(I.edge_web,"_blank","noopener");return}if(E.isEdge&&E.isAndroid){window.open(I.edge_web,"_blank","noopener");return}if(E.isMac){window.open(I.safari_mac_appstore,"_blank","noopener");return}if(E.isSafari){window.open(I.safari_ios_appstore,"_blank","noopener");return}}async function N(){const E="+918792875834",U=await an("ext_id")||"N/A";let $="General";r()?$="Price Alert":n()?$="Price History":o()?$="Ditto":s()&&($="Auto Coupon");const ee=V();let se="Unknown";ee.isChrome?se="Chrome":ee.isEdge?ee.isAndroid?se="Edge Mobile":se="Edge":ee.isSafari&&(ee.isIOS?se="Safari Mobile":se="Safari Web");const oe=`Hi! I just submitted feedback about the Buyhatke extension. My rating was ${a(c)} stars for the ${$} feature on ${se}. Extension ID: ${U}. ${a(k)?`My feedback: ${a(k)}`:""}`,K=`https://wa.me/${E}?text=${encodeURIComponent(oe)}`;window.open(K,"_blank","noopener"),D()}async function q(){const E="+918792875834",U=await an("ext_id")||"N/A";let $="General";r()?$="Price Alert":n()?$="Price History":o()?$="Ditto":s()&&($="Auto Coupon");const ee=V();let se="Unknown";ee.isChrome?se="Chrome":ee.isEdge?ee.isAndroid?se="Edge Mobile":se="Edge":ee.isSafari&&(ee.isIOS?se="Safari Mobile":se="Safari Web");const oe=`Hi! I just submitted feedback about the Buyhatke extension. My rating was ${a(c)} stars for the ${$} feature on ${se}. Extension ID: ${U}. ${a(k)?`My feedback: ${a(k)}`:""}`,K=`https://wa.me/${E}?text=${encodeURIComponent(oe)}`,J=nc(K);g(z,ne(J.toDataURL({scale:4,padX:0,padY:0})))}Zt(async()=>{const E=await an("feedbackStored"),U=await an("ratingModuleData"),$=await an("ext_email"),ee=await an("isVerified");if(g(P,!!($&&ee)),E&&(U==null?void 0:U.lastRating)===5)D();else if(E&&U===void 0){D();const se={lastClosedTime:Date.now(),closeCount:0,lastRating:0};await _(se)}else{const se=await w();g(u,ne(se))}});var G=ke(),Q=de(G);{var Z=E=>{var U=I6(),$=v(U);{var ee=oe=>{var K=P6(),J=v(K),te=v(J);{var X=Ae=>{var Ce=x6();Ce.__click=D,ae(()=>{qe(Ce,"top-1",n()),qe(Ce,"right-2",n()),qe(Ce,"top-4",!n()),qe(Ce,"right-4",!n())}),b(Ae,Ce)};W(te,Ae=>{s()||Ae(X)})}var re=x(te,2),fe=v(re),ue=x(re,2),xe=x(v(ue),2);{var we=Ae=>{var Ce=y6();b(Ae,Ce)};W(xe,Ae=>{n()||Ae(we)})}var me=x(J,2),ce=v(me),ye=v(ce);St(ye,21,()=>C,zt,(Ae,Ce,_e)=>{var ge=k6();ge.__click=[_6,T,Ce],ge.__keydown=O;var Oe=v(ge);{var Le=Me=>{var Te=b6();b(Me,Te)},Re=Me=>{var Te=w6();b(Me,Te)};W(Oe,Me=>{(a(d)?a(Ce)<=a(d):a(Ce)<=a(c))?Me(Le):Me(Re,!1)})}ae(()=>pe(ge,"aria-label",`Rate ${a(Ce)} star`)),tt("mouseenter",ge,()=>M(a(Ce))),tt("mouseleave",ge,()=>M(0)),tt("focus",ge,()=>{A=_e,g(d,ne(a(Ce)))}),tt("blur",ge,()=>{A=-1,g(d,0)}),b(Ae,ge)});var be=x(ce,2);{var ve=Ae=>{var Ce=S6(),_e=x(v(Ce),2);ae(ge=>pe(_e,"src",ge),[()=>chrome.runtime.getURL(a6)]),b(Ae,Ce)},Se=Ae=>{var Ce=C6(),_e=v(Ce),ge=v(_e);{var Oe=Re=>{var Me=Wt("Needs major improvement");b(Re,Me)},Le=Re=>{var Me=ke(),Te=de(Me);{var ze=Ye=>{var Je=Wt("Could be much better");b(Ye,Je)},Fe=Ye=>{var Je=ke(),et=de(Je);{var Ze=Pe=>{var We=Wt("It was okay");b(Pe,We)},Ge=Pe=>{var We=ke(),He=de(We);{var nt=rt=>{var ot=Wt("Pretty good!");b(rt,ot)},Qe=rt=>{var ot=ke(),Lt=de(ot);{var Et=dt=>{var wt=Wt("Loved it!");b(dt,wt)};W(Lt,dt=>{a(c)===5&&dt(Et)},!0)}b(rt,ot)};W(He,rt=>{a(c)===4?rt(nt):rt(Qe,!1)},!0)}b(Pe,We)};W(et,Pe=>{a(c)===3?Pe(Ze):Pe(Ge,!1)},!0)}b(Ye,Je)};W(Te,Ye=>{a(c)===2?Ye(ze):Ye(Fe,!1)},!0)}b(Re,Me)};W(ge,Re=>{a(c)===1?Re(Oe):Re(Le,!1)})}b(Ae,Ce)};W(be,Ae=>{!a(c)&&!n()?Ae(ve):Ae(Se,!1)})}var Ee=x(me,2);{var Be=Ae=>{var Ce=M6(),_e=v(Ce),ge=v(_e),Oe=x(v(ge),2),Le=x(v(Oe),2),Re=x(ge,2);{var Me=ze=>{var Fe=A6(),Ye=x(v(Fe),2),Je=x(v(Ye),2);Ui(Je,()=>a(L),et=>g(L,et)),b(ze,Fe)};W(Re,ze=>{a(P)||ze(Me)})}var Te=x(Re,2);Te.__click=[m6,c,k,L,B],ae(ze=>{qe(Ce,"overflow-y-auto",ze),Te.disabled=!a(c)&&!a(k)},[Nt]),Ui(Le,()=>a(k),ze=>g(k,ze)),b(Ae,Ce)};W(Ee,Ae=>{a(c)&&Ae(Be)})}ae(()=>{qe(K,"max-h-[85vh]",a(c)),qe(J,"gap-4",!n()),qe(J,"gap-2",n()),qe(J,"p-2",n()),qe(J,"p-6",!n()),qe(J,"flex-col",!n()),qe(re,"w-4",n()),qe(re,"h-4",n()),qe(re,"w-8",!n()),qe(re,"h-8",!n()),qe(fe,"w-3",n()),qe(fe,"h-3",n()),qe(fe,"w-7",!n()),qe(fe,"h-7",!n()),qe(me,"gap-4",!n()),qe(me,"p-6",!n()),qe(me,"p-2",n())}),b(oe,K)},se=oe=>{var K=ke(),J=de(K);{var te=re=>{var fe=L6(),ue=v(fe),xe=v(ue);xe.__click=D;var we=x(xe,8),me=v(we);{var ce=be=>{var ve=D6(),Se=v(ve);ae(()=>pe(Se,"src",a(z))),b(be,ve)};W(me,be=>{a(z)&&be(ce)})}var ye=x(we,2);ye.__click=N,b(re,fe)},X=re=>{var fe=ke(),ue=de(fe);{var xe=we=>{var me=E6(),ce=v(me),ye=x(v(ce),6),be=v(ye),ve=v(be);ae(()=>pe(ve,"style",`width: ${a(h)??""}%`)),b(we,me)};W(ue,we=>{a(f)===3&&we(xe)},!0)}b(re,fe)};W(J,re=>{a(f)===2?re(te):re(X,!1)},!0)}b(oe,K)};W($,oe=>{a(f)===1?oe(ee):oe(se,!1)})}ae(oe=>{$e(U,` z-50 flex justify-center ${l()??""}`),qe(U,"bg-black",r()),qe(U,"bg-opacity-70",r()),qe(U,"h-full",r()),qe(U,"relative",n()||s()),qe(U,"inset-auto",n()),qe(U,"z-auto",n()),qe(U,"absolute",a(c)||!o()&&!s()),qe(U,"items-end",!s()),qe(U,"inset-0",!s()),qe(U,"top-[-108px]",oe),qe(U,"bottom-auto",oe)},[()=>Nt()&&a(c)]),b(E,U)};W(Q,E=>{a(u)&&E(Z)})}b(t,G),Ke()}Tt(["click","keydown"]);var T6=()=>_o(4),O6=H('<a target="_blank"><!></a> <!>',1),R6=H('<div class="mt-1"><!></div>'),N6=H('<div class="m-4 grid gap-4"><div><!></div> <div class="text-base font-medium leading-6 text-surface-600"> <span class="text-emerald-500"> </span></div> <div class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 gap-4"><!> <!></div> <!></div>');function z6(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(fn,"$nonPersistAppStore",r),o=()=>ie(tr,"$LL",r);let s=Ne(()=>i().currencySymbol),l=c3(e.data);var c=N6(),d=v(c),u=v(d);po(u,{featureKey:"Ditto"});var f=x(d,2),h=v(f),p=x(h),m=v(p),y=x(f,2),_=v(y);St(_,17,()=>e.data,zt,(k,P,z)=>{var T=O6(),M=de(T);M.__click=[T6];var D=v(M);qk(D,{get item(){return a(P)},get currentPrice(){return e.currentPrice},get prodUrl(){return e.prodUrl}});var A=x(M,2);{var O=I=>{var B=ke(),j=de(B);{var V=N=>{Ln(N,{slotId:"2",className:"col-span-full"})},F=N=>{Ln(N,{slotId:"12",className:"col-span-full"})};W(j,N=>{Nt()?N(V):N(F,!1)})}b(I,B)};W(A,I=>{z==3&&I(O)})}ae(()=>pe(M,"href",e.prodUrl?e.prodUrl:a(P).productLink)),b(k,T)});var S=x(_,2);{var w=k=>{var P=ke(),z=de(P);{var T=D=>{Ln(D,{slotId:"2",className:"col-span-full"})},M=D=>{Ln(D,{slotId:"12",className:"col-span-full"})};W(z,D=>{Nt()?D(T):D(M,!1)})}b(k,P)};W(S,k=>{e.data.length<4&&k(w)})}var C=x(y,2);{var L=k=>{var P=R6(),z=v(P);Hu(z,{comingFromDitto:!0}),b(k,P)};W(C,k=>{Nt()||k(L)})}ae((k,P)=>{Y(h,`${k??""} `),Y(m,`${a(s)??""}${P??""}`)},[()=>o()("ditto.foundSimilarProducts",{values:{length:e.data.length}}),()=>l.toLocaleString()]),b(t,c),Ke(),n()}Tt(["click"]);d3();const B6="/assets/dittoIcon-D080oaCE.svg";var j6=H('<div class="flex h-screen flex-col items-center justify-center p-8"><img alt="No item found"> <p class="mt-6 text-base font-medium text-surface-600"> </p> <p class="mt-2 text-xs text-surface-600"> </p></div>');function F6(t,e){Xe(e,!1);const[r,n]=ct(),i=()=>ie(tr,"$LL",r),o=chrome.runtime.getURL(B6);pr();var s=j6(),l=v(s);pe(l,"src",o);var c=x(l,2),d=v(c),u=x(c,2),f=v(u);ae((h,p)=>{Y(d,h),Y(f,p)},[()=>i()("ditto.noSuggestionAvailabel"),()=>i()("ditto.noSimilarProducts")],Ie),b(t,s),Ke(),n()}var U6=H("<div><!></div>");function V6(t,e){Xe(e,!0);var r=U6(),n=v(r);{var i=s=>{z6(s,{get data(){return e.data},get currentPrice(){return e.currentPrice},get prodUrl(){return e.prodUrl}})},o=s=>{F6(s,{})};W(n,s=>{e.data.length>0?s(i):s(o,!1)})}b(t,r),Ke()}var W6=H("<button> </button>"),H6=H("<div></div>");function qu(t,e){Xe(e,!0);let r=R(e,"selectedIndexValue",3,0),n=R(e,"backgroundColor",3,"bg-surface-100"),i=R(e,"selectedBackgroundColor",3,"bg-white"),o=R(e,"selectedTextColor",3,"text-primary-600"),s=R(e,"widthClass",3,""),l=R(e,"textSize",3,"text-xs"),c=R(e,"tabClass",3,"px-2 py-0.5"),d=le(ne(r()));const u=(h=0)=>{g(d,ne(h));const p=e.list[h];e.onSelectRange(p)};var f=H6();St(f,21,()=>e.list,zt,(h,p,m)=>{var y=W6();y.__click=S=>{S.preventDefault(),u(m)};var _=v(y);ae(()=>{$e(y,`flex-1 rounded-full ${c()} ${l()} ${a(d)===m?`rounded-full ${i()} ${o()}`:"text-surface-600"}`),Y(_,a(p))}),b(h,y)}),ae(()=>$e(f,`flex items-center rounded-full ${n()} p-0.5 ${s()}`)),b(t,f),Ke()}Tt(["click"]);var q6=H("<img>");function Mc(t,e){var r=q6();ae(()=>{pe(r,"src",e.imageUrl),pe(r,"alt",e.productName),$e(r,`object-contain ${e.className??""}`)}),b(t,r)}const G6="/assets/watchListIcon-T5wexJLM.svg",Gu="/assets/deleteIcon-Bw26rW1C.svg";var $6=H('<div class="flex items-center gap-2"><img alt="save product"> <img alt="delete"></div>'),Y6=H('<div class="flex gap-3 border-b-4 border-gray-100 p-4 last:border-b-0"><div class="shrink-0 rounded-lg"><!></div> <div class="flex flex-grow flex-col gap-3"><div class="flex items-center justify-between"><div><!></div> <!></div> <div class="text-xs font-medium text-slate-900"><!></div> <div class="flex gap-2 text-[10px] text-slate-600"><!></div></div></div>');function Nh(t,e){Xe(e,!0);let r=R(e,"removeDeleteButton",3,!1);const n=chrome.runtime.getURL(G6),i=chrome.runtime.getURL(Gu);var o=Y6(),s=v(o),l=v(s);Mc(l,{get imageUrl(){return e.item.productImage},get productName(){return e.item.productName},className:"rounded-lg border border-gray-200 h-[104px] w-[104px]"});var c=x(s,2),d=v(c),u=v(d),f=v(u);as(f,{get siteLogo(){return e.item.siteImage},get siteName(){return e.item.siteName}});var h=x(u,2);{var p=w=>{var C=$6(),L=v(C);pe(L,"src",n);var k=x(L,2);pe(k,"src",i),b(w,C)};W(h,w=>{r()||w(p)})}var m=x(d,2),y=v(m);bo(y,{get productName(){return e.item.productName},lines:2});var _=x(m,2),S=v(_);rl(S,{get price(){return e.item.currentPrice},get currentPrice(){return e.item.lastPrice},get currencySymbol(){return e.item.currency},get lastPrice(){return e.item.lastPrice},priceBoxClass:"h-4 w-4",priceIconClass:"h-4 w-4",priceTextClass:"text-sm",lastPriceTextClass:"text-xs",productPriceComponentClass:"flex "}),b(t,o),Ke()}const I_="/assets/priceAlertEditIcon-CMpTOuE5.svg";var X6=br('<svg viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.21444 1.2267C3.47824 0.907352 3.43321 0.434618 3.11386 0.170817C2.79452 -0.0929842 2.32178 -0.047956 2.05798 0.27139C1.1587 1.36002 0.509924 2.66481 0.201533 4.09691C0.114335 4.50184 0.371908 4.90079 0.776839 4.98799C1.18177 5.07519 1.58072 4.81762 1.66792 4.41268C1.92443 3.22148 2.46427 2.13482 3.21444 1.2267Z" fill="#94A3B8"></path><path d="M15.9417 0.27139C15.6779 -0.047956 15.2051 -0.0929842 14.8858 0.170817C14.5664 0.434618 14.5214 0.907352 14.7852 1.2267C15.5354 2.13482 16.0752 3.22148 16.3317 4.41268C16.4189 4.81762 16.8179 5.07519 17.2228 4.98799C17.6277 4.90079 17.8853 4.50184 17.7981 4.09691C17.4897 2.66481 16.8409 1.36002 15.9417 0.27139Z" fill="#94A3B8"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M8.99997 -0.000122075C5.68626 -0.000122075 2.99997 2.68617 2.99997 5.99988C2.99997 7.88651 2.54624 9.66498 1.7426 11.2342C1.63591 11.4425 1.6326 11.6887 1.73365 11.8998C1.83469 12.111 2.02851 12.2628 2.25769 12.3104C3.32537 12.5321 4.41181 12.7021 5.51426 12.8179C5.67494 14.6019 7.17421 15.9999 9 15.9999C10.8258 15.9999 12.3251 14.6019 12.4857 12.8179C13.5882 12.7021 14.6746 12.5321 15.7422 12.3104C15.9714 12.2628 16.1652 12.111 16.2663 11.8998C16.3673 11.6887 16.364 11.4425 16.2573 11.2342C15.4537 9.66498 15 7.88651 15 5.99988C15 2.68617 12.3137 -0.000122075 8.99997 -0.000122075ZM9 14.4999C8.04777 14.4999 7.25097 13.8344 7.0493 12.9432C7.69477 12.9808 8.34517 12.9999 8.99997 12.9999C9.65478 12.9999 10.3052 12.9808 10.9507 12.9432C10.749 13.8344 9.95223 14.4999 9 14.4999Z" fill="#94A3B8"></path></svg>');function up(t,e){R(e,"className",3,"text-slate-400");let r=R(e,"width",3,"14"),n=R(e,"height",3,"15");var i=X6();ae(()=>{pe(i,"width",r()),pe(i,"height",n())}),b(t,i)}var K6=(t,e)=>{var r;return(r=e.handleEditModal)==null?void 0:r.call(e,e.item)},Q6=(t,e,r)=>{e(r.item)},J6=H('<div class="flex items-center gap-2"><button><img alt="edit"></button> <button><img alt="delete"></button></div>'),Z6=H('<p class="text-sm font-bold text-danger-500 pt-3"> </p>'),e8=H('<div class="flex w-full gap-1"><div class="flex flex-col w-1/2 gap-1 text-xs text-surface-500 bg-surface-100 rounded p-2"><p> </p> <span class="flex items-center gap-1"><!> <!></span></div> <div class="flex flex-col w-1/2 gap-1 text-xs text-surface-500 rounded p-2 bg-surface-100"><p> </p> <div class="flex gap-2"><!></div></div></div>'),t8=H('<img alt="price up">'),r8=H('<img alt="price down">'),n8=H('<div class="flex items-center gap-1"><!> <!> <p class="text-[10px] text-surface-500"> </p></div>'),a8=H('<div class="flex"><!> <a class="border rounded-full border-surface-600 text-surface-600 text-sm font-medium px-4 py-1" target="_blank"> </a></div>'),i8=H('<div class="flex flex-col gap-3 border-b-4 border-surface-100 py-4 last:border-b-0"><div class="flex items-center gap-3"><div class="shrink-0 rounded-lg"><!></div> <div class="flex flex-col gap-2 w-full"><div class="flex items-center justify-between w-full"><div><!></div> <!></div> <div class="text-xs font-medium text-slate-900"><!></div></div></div> <div class=" flex gap-1 flex-grow w-full"><!></div> <!></div>');function ac(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(tr,"$LL",r);let o=R(e,"editMode",3,!1);const s=chrome.runtime.getURL(I_),l=chrome.runtime.getURL(Gu),c=chrome.runtime.getURL(op),d=chrome.runtime.getURL(ip);let u=le(0),f=le(0);mr(()=>{e.item.currentPrice&&e.item.target_price&&g(u,Math.round((Number(e.item.currentPrice)-Number(e.item.target_price))*100)/100),e.item.currentPrice&&e.item.price_added&&g(f,Math.round((Number(e.item.price_added)-Number(e.item.currentPrice))*100)/100)});const h=V=>{var F;(F=e.handleRemovePriceAlert)==null||F.call(e,V)},p=V=>{var F;try{return((F=Da[V])==null?void 0:F.countryCode)??"en-US"}catch{return"en-US"}};var m=i8(),y=v(m),_=v(y),S=v(_);Mc(S,{get imageUrl(){return e.item.productImage},get productName(){return e.item.productName},className:"h-16 w-16 rounded-lg border border-surface-200 text-slate-600"});var w=x(_,2),C=v(w),L=v(C),k=v(L);as(k,{get siteLogo(){return e.item.siteImage},get siteName(){return e.item.siteName}});var P=x(L,2);{var z=V=>{var F=J6(),N=v(F);N.__click=[K6,e];var q=v(N);pe(q,"src",s);var G=x(N,2);G.__click=[Q6,h,e];var Q=v(G);pe(Q,"src",l),b(V,F)};W(P,V=>{o()||V(z)})}var T=x(C,2),M=v(T);bo(M,{get productName(){return e.item.productName},lines:2});var D=x(y,2),A=v(D);{var O=V=>{var F=Z6(),N=v(F);ae(q=>Y(N,q),[()=>i()("priceHistory.priceAlertComponent.OOSAlert.OOSLabel")]),b(V,F)},I=V=>{var F=e8(),N=v(F),q=v(N),G=v(q),Q=x(q,2),Z=v(Q);up(Z,{});var E=x(Z,2);const U=Ne(()=>p(e.item.sitePosition)),$=Ne(()=>e.item.target_price||e.item.currentPrice);Sn(E,{get currencySymbol(){return e.item.currency},get locale(){return a(U)},get price(){return a($)},className:"text-surface-950 text-sm font-bold"});var ee=x(N,2),se=v(ee),oe=v(se),K=x(se,2),J=v(K);const te=Ne(()=>p(e.item.sitePosition));Sn(J,{get currencySymbol(){return e.item.currency},get locale(){return a(te)},get price(){return e.item.currentPrice},className:"text-surface-950 text-sm font-bold"}),ae((X,re)=>{Y(G,X),Y(oe,re)},[()=>i()("priceHistory.priceAlertComponent.priceSetOn"),()=>i()("priceHistory.priceAlertComponent.currentPrice")]),b(V,F)};W(A,V=>{e.OOS?V(O):V(I,!1)})}var B=x(D,2);{var j=V=>{var F=a8(),N=v(F);{var q=Z=>{var E=n8(),U=v(E);{var $=re=>{var fe=t8();pe(fe,"src",c),b(re,fe)},ee=re=>{var fe=ke(),ue=de(fe);{var xe=we=>{var me=r8();pe(me,"src",d),b(we,me)};W(ue,we=>{a(f)>0&&we(xe)},!0)}b(re,fe)};W(U,re=>{a(f)<0?re($):re(ee,!1)})}var se=x(U,2);const oe=Ne(()=>p(e.item.sitePosition)),K=Ne(()=>Math.ceil(Math.abs(a(f))*100)/100),J=Ne(()=>`text-[10px] ${a(f)>0?"text-success-500":"text-danger-500"}`);Sn(se,{get currencySymbol(){return e.item.currency},get locale(){return a(oe)},get price(){return a(K)},get className(){return a(J)}});var te=x(se,2),X=v(te);ae(re=>Y(X,re),[()=>i()("priceHistory.priceAlertComponent.changeSinceTrackingStarted")]),b(Z,E)};W(N,Z=>{a(f)!==0&&Z(q)})}var G=x(N,2),Q=v(G);ae(Z=>{qe(F,"justify-end",a(f)===0),qe(F,"justify-between",a(f)!==0),pe(G,"href",e.item.productLink),Y(Q,Z)},[()=>i()("common.buyNow")]),b(V,F)};W(B,V=>{o()||V(j)})}ae(()=>qe(m,"px-4",!o())),b(t,m),Ke(),n()}Tt(["click"]);const os="/assets/closeModalIcon-DPjf-4xD.svg";function o8(t,e,r,n,i,o,s){const l=t.target;g(e,ne(l.value));const c=r()?n.item.currentPrice:a(i),d=a(e);isNaN(d)||d<0?(g(o,!1),g(s,"Please enter a valid price")):d>c?(g(o,!1),g(s,"Please enter a price less than the current price")):(g(o,!0),g(s,""))}const s8=(t,e,r,n)=>{t.preventDefault(),t.stopPropagation(),g(e,!0),r.onUpdatePrice(a(n),r.item)};var l8=H('<p class="text-[10px] text-danger-500"> </p>'),c8=H('<button class="rounded-md h-12 px-6 py-2 text-white font-medium disabled:opacity-50"> </button>'),d8=(t,e,r)=>{e(t,a(r))},u8=H('<button class="rounded-md bg-white hover:bg-primary-50 px-6 py-1 h-8 text-surface-950 text-sm font-medium hover:text-primary-600 border border-primary-100"> </button>'),f8=H('<div class="flex flex-col gap-2"><span class="text-xs text-surface-950"> </span> <div class="flex gap-2"></div></div>'),v8=H('<div class="absolute inset-0 z-50 flex items-end justify-center bg-black bg-opacity-70 p-2 rounded-tl-lg rounded-bl-lg"><div class="w-full rounded-lg bg-white p-4 shadow-lg"><div class="flex items-center justify-between"><h2 class="text-base text-surface-950 font-semibold"> </h2> <button class="text-surface-500"><img alt="close modal"></button></div> <div><!></div> <div class="flex w-full flex-col justify-end gap-2 -mt-2"><input type="text" class="rounded-md border border-surface-300 px-4 py-3 font-medium max-h-12" placeholder="Enter price"> <!> <!></div></div></div>');function h8(t,e){var C,L;Xe(e,!0);const[r,n]=ct(),i=()=>ie(fn,"$nonPersistAppStore",r),o=()=>ie(tr,"$LL",r);let s=Ne(()=>i().productDetails.currentPrice),l=R(e,"isEdit",3,!1),c=Ne(()=>Wy(l()?e.item.currentPrice:a(s))),d=le(!1),u=le(ne(((C=e.defaultPrice)==null?void 0:C.toString())||((L=a(s))==null?void 0:L.toString())||"")),f=le(!0),h=le(!1),p=le("");const m=chrome.runtime.getURL(os);function y(k,P){k.preventDefault(),k.stopPropagation(),g(u,ne(Number(P))),g(h,!0),g(p,"")}Zt(()=>{g(d,!1)});var _=ke(),S=de(_);{var w=k=>{var P=v8(),z=v(P),T=v(z),M=v(T),D=v(M),A=x(M,2);A.__click=function(...Z){var E;(E=e.closeModal)==null||E.apply(this,Z)};var O=v(A);pe(O,"src",m);var I=x(T,2),B=v(I);ac(B,{get item(){return e.item},editMode:!0});var j=x(I,2),V=v(j);V.__input=[o8,u,l,e,s,f,p];var F=x(V,2);{var N=Z=>{var E=l8(),U=v(E);ae(()=>Y(U,a(p))),b(Z,E)};W(F,Z=>{a(f)||Z(N)})}var q=x(F,2);{var G=Z=>{var E=c8();E.__click=[s8,d,e,u];var U=v(E);ae($=>{E.disabled=a(d)||!a(f),qe(E,"bg-primary-600",a(h)||a(f)),qe(E,"text-white",a(h)||a(f)),Y(U,$)},[()=>a(d)?o()("common.updating"):o()("common.update")]),b(Z,E)},Q=Z=>{var E=ke(),U=de(E);{var $=ee=>{var se=f8(),oe=v(se),K=v(oe),J=x(oe,2);St(J,21,()=>a(c),zt,(te,X)=>{var re=u8();re.__mousedown=[d8,y,X];var fe=v(re);ae(ue=>Y(fe,`${i().currencySymbol??""}${ue??""}`),[()=>kn(a(X),{locale:i().currencyCode})]),b(te,re)}),ae(te=>Y(K,te),[()=>o()("priceHistory.priceAlertComponent.suggestLowerPrices")]),b(ee,se)};W(U,ee=>{a(h)&&a(c).length>0&&ee($)},!0)}b(Z,E)};W(q,Z=>{a(u)&&a(u)>0?Z(G):Z(Q,!1)})}ae((Z,E,U)=>{qe(z,"max-w-lg",Z),qe(z,"top-[-220px]",E),qe(z,"relative",E),Y(D,U),ri(V,a(u))},[()=>!Nt(),Nt,()=>l()?o()("priceHistory.priceAlertComponent.editPriceAlert"):o()("priceHistory.priceAlertComponent.setPriceDropAlert")]),tt("focus",V,()=>{g(h,!0)}),tt("blur",V,()=>{g(h,!1)}),b(k,P)};W(S,k=>{e.isVisible&&k(w)})}b(t,_),Ke(),n()}Tt(["click","input","mousedown"]);const p8=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 16">
	<path fill="currentColor"
		d="M3.21 1.23A.75.75 0 0 0 2.06.27 9 9 0 0 0 .2 4.1a.75.75 0 1 0 1.47.31c.25-1.19.8-2.28 1.54-3.18M15.94.27a.75.75 0 0 0-1.15.96c.75.9 1.29 2 1.54 3.18a.75.75 0 0 0 1.47-.31A9 9 0 0 0 15.94.27" />
	<path fill="currentColor" fill-rule="evenodd"
		d="M9 0a6 6 0 0 0-6 6c0 1.89-.45 3.66-1.26 5.23a.75.75 0 0 0 .52 1.08q1.6.34 3.25.5a3.5 3.5 0 0 0 6.98 0q1.65-.16 3.25-.5a.75.75 0 0 0 .52-1.08A11.5 11.5 0 0 1 15 6a6 6 0 0 0-6-6m0 14.5a2 2 0 0 1-1.95-1.56 34 34 0 0 0 3.9 0A2 2 0 0 1 9 14.5"
		clip-rule="evenodd" />
</svg>
`;var g8=H('<div class="flex-grow p-4 flex flex-col justify-center items-center"><span class="w-16 h-16 text-primary-600"><!></span> <p class="font-medium text-surface-600 mt-6"> </p> <p class="text-xs font-medium text-surface-600 mt-2 text-center"><!></p></div>');function m8(t,e){Xe(e,!1);const[r,n]=ct(),i=()=>ie(tr,"$LL",r);pr();var o=g8(),s=v(o),l=v(s);Xt(l,()=>p8);var c=x(s,2),d=v(c),u=x(c,2),f=v(u);Xt(f,()=>i()("priceHistory.priceAlertComponent.startTrakingPrices")),ae(h=>Y(d,h),[()=>i()("priceHistory.priceAlertComponent.noAlerts")],Ie),b(t,o),Ke(),n()}const x8=(t,e)=>{e.handleRemovePriceAlert(e.item.link_id)};var y8=H('<div class="absolute inset-0 z-50 flex items-end justify-center rounded-tl-lg rounded-bl-lg bg-black bg-opacity-70 p-2"><div class="w-full rounded-lg bg-white p-4 shadow-lg"><div class="flex items-start justify-between"><h2 class="text-base text-surface-950 font-bold"> </h2> <button class="text-gray-500"><img alt="close modal" class="w-6 h-6 max-w-6 max-h-6"></button></div> <div><!></div> <button class="bg-danger-500 text-white px-4 py-3 rounded-md w-full font-bold">Delete</button></div></div>');function _8(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(tr,"$LL",r),o=chrome.runtime.getURL(os);var s=ke(),l=de(s);{var c=d=>{var u=y8(),f=v(u),h=v(f),p=v(h),m=v(p),y=x(p,2);y.__click=function(...L){var k;(k=e.closeModal)==null||k.apply(this,L)};var _=v(y);pe(_,"src",o);var S=x(h,2),w=v(S);ac(w,{get item(){return e.item},editMode:!0});var C=x(S,2);C.__click=[x8,e],ae((L,k,P)=>{qe(f,"max-w-lg",L),qe(f,"top-[-220px]",k),qe(f,"relative",k),Y(m,P)},[()=>!Nt(),Nt,()=>i()("priceHistory.priceAlertComponent.deleteMessage")]),b(d,u)};W(l,d=>{e.isVisible&&d(c)})}b(t,s),Ke(),n()}Tt(["click"]);var b8=H('<div><img loading="lazy"></div>');function Ur(t,e){let r=R(e,"height",3,"auto"),n=R(e,"width",3,"auto"),i=R(e,"alt",3,"Document"),o=R(e,"cls",3,""),s=R(e,"wrapperCls",3,"");const l=u=>{var f;try{return typeof chrome<"u"&&((f=chrome.runtime)!=null&&f.getURL)?chrome.runtime.getURL(u):u}catch{return u}};var c=b8(),d=v(c);ae(u=>{$e(c,Mr(s())),pe(d,"src",u),pe(d,"alt",i()),pe(d,"height",r()),pe(d,"width",n()),$e(d,Mr(o()))},[()=>l(e.src)]),qw(d),b(t,c)}const fp=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16">
	<path fill="currentColor" fill-rule="evenodd"
		d="M1.33 1.83a.5.5 0 0 0-.5.5v11.34c0 .27.23.5.5.5h13.34a.5.5 0 0 0 .5-.5V2.33a.5.5 0 0 0-.5-.5H1.33Zm2.95 3.09-.55.83L8 8.6l4.28-2.85-.55-.83L8 7.4 4.28 4.92Z"
		clip-rule="evenodd" />
</svg>
`,vp=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16">
	<path fill="currentColor"
		d="M14.67 2 12 14 7.33 9.3l2.83-2.8-3.87 2.68 1.67 1.6-2.3 2.55L5 9.31 1.33 7.33 14.67 2Z" />
</svg>
`,T_="/assets/google-B_wrae5C.svg",w8=async()=>{try{const t=window.location.href,{status:e,url:r}=await Fr({type:"handleLogin"});if(e){const n=new URL(r);n.searchParams.append("state",t),window.open(n,"_blank")}}catch(t){console.log("error in handleGoogleLogin",t)}},k8=(t,e,r,n)=>{g(e,ne(t.target.value)),g(r,ne(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a(e)))),a(r)&&g(n,"")},S8=(t,e,r,n,i)=>{if(t.key==="Enter"){t.preventDefault();const o=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a(e));g(r,ne(o)),o?(g(n,""),i()):g(n,"Please enter a valid email")}},Rg=(t,e,r)=>{try{const n=t.currentTarget;let{id:i="1"}=(n==null?void 0:n.dataset)||"1";e(i),g(r,1)}catch(n){console.log(n)}},C8=(t,e)=>{window.open(a(e),"_blank")};var A8=H('<span class="text-surface-600 text-xs"> </span>'),M8=H('<span class="text-surface-600 text-xs"> </span>'),P8=H('<div class="flex flex-col gap-6"><div><p class="text-base font-bold text-surface-950"> </p></div> <div class="flex flex-col gap-4"><div class="flex justify-between py-1 items-center"><div class="font-medium text-surface-950 flex gap-2 items-center"><span class="w-8 h-8 p-1 border rounded-full text-primary-600"><!></span> <div class="flex flex-col gap-1"><span> </span> <!></div></div> <button class="text-sm font-medium text-surface-600 px-4 py-1 border hover:border-primary-800 hover:text-primary-800 focus:border-primary-800 focus:text-primary-800 rounded-full"><!></button></div> <div class="w-full h-[1px] bg-surface-100"></div> <div class="flex justify-between py-1 items-center"><div class="font-medium text-surface-950 flex gap-2 items-center"><span class="w-8 h-8 p-1 border rounded-full text-primary-600"><!></span> <div class="flex flex-col gap-1"><span> </span> <!></div></div> <button class="text-sm font-medium text-surface-600 px-4 py-1 border hover:border-primary-800 hover:text-primary-800 focus:border-primary-800 focus:text-primary-800 rounded-full"><!></button></div></div></div>'),D8=H('<div class="flex flex-col gap-2 items-center"><p class="text-center text-sm font-medium text-surface-950"> </p> <img alt="QR Code for App Download" class="w-44 my-2"></div>'),L8=H('<div class="font-medium text-surface-600 text-sm"> </div>'),E8=H('<div class="w-full"><button class="bg-primary-600 hover:bg-primary-800 focus:bg-primary-800 py-2 px-4 rounded-lg w-full text-white text-base font-medium"> </button></div>'),I8=H('<div class="flex flex-col gap-6"><p class="font-bold text-surface-950"> </p> <div class="flex flex-col gap-4 items-center"><!> <!> <!></div></div>'),T8=H('<p class="text-danger-500 text-xs -my-2"> </p>'),O8=H('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><p class="text-base text-surface-950 font-bold"> </p> <p class="text-xs text-surface-500"> </p></div> <input name="email" type="email" autocomplete="email" class="border border-surface-300 rounded p-3 px-4"> <!> <button class="bg-primary-600 text-white px-4 py-3 rounded-md w-full font-bold"> </button> <p class="text-xs text-surface-500 text-center"> </p> <button class="text-primary-600 px-4 py-3 rounded-md w-full font-bold flex gap-1 items-center justify-center border border-primary-600 hover:border-primary-800 hover:text-primary-800 max-h-12"><!> <span class="flex-grow"> </span></button></div>'),R8=H('<div class="w-full h-full flex flex-col gap-4 justify-center items-center"><p> </p> <p> </p></div>'),N8=H(`<div class="absolute inset-0 z-50 flex items-end justify-center
		 bg-black bg-opacity-70 p-2"><div class="w-full flex flex-col rounded-lg bg-white p-4 gap-6 shadow-lg"><div class="flex items-start justify-between"><div class="flex items-center gap-4"><h2 class="text-base text-surface-950 font-semibold"><img alt="site_logo"></h2></div> <button class="text-surface-500"><img alt="close modal" class="w-6 h-6 max-w-6 max-h-6"></button></div> <!></div></div>`);function Pc(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(fa,"$appStore",r),o=()=>ie(tr,"$LL",r),s=chrome.runtime.getURL(os),l=chrome.runtime.getURL(Z0);chrome.runtime.getURL(Ds);let c=le(""),d=le("");R(e,"handleRefresh",3,()=>{});let u=R(e,"connectMethod",7,"1"),f=R(e,"comingFromAlert",3,!1),h=R(e,"comingFromAccount",3,!1),p=le(ne(e.emailId?e.emailId:"")),m=le(ne(!!e.emailId)),y=le(""),_=le(0),S=le("right");const w=()=>{a(m)?(Hy(a(p)),e.closeModal()):g(y,"Please enter a valid email")},C=()=>{a(m)||g(y,"Please enter a valid email")};Zt(async()=>{g(c,ne(await Fr({type:"getTelegramBotUrl"}))),g(d,ne(nc(a(c)).toDataURL({scale:4,padX:0,padY:0}))),u()&&(f()||h())&&g(_,1)}),g(S,ne(i().position));var L=ke(),k=de(L);{var P=z=>{var T=N8(),M=v(T),D=v(M),A=v(D),O=v(A),I=v(O);pe(I,"src",l);var B=x(A,2);B.__click=function(...q){var G;(G=e.closeModal)==null||G.apply(this,q)};var j=v(B);pe(j,"src",s);var V=x(D,2);{var F=q=>{var G=P8(),Q=v(G),Z=v(Q),E=v(Z),U=x(Q,2),$=v(U),ee=v($),se=v(ee),oe=v(se);Xt(oe,()=>vp);var K=x(se,2),J=v(K),te=v(J),X=x(J,2);{var re=Le=>{var Re=A8(),Me=v(Re);ae(()=>Y(Me,e.telegramUserName)),b(Le,Re)};W(X,Le=>{e.telegramUserName&&Le(re)})}var fe=x(ee,2);pe(fe,"data-id",0),fe.__click=[Rg,u,_];var ue=v(fe);{var xe=Le=>{var Re=Wt();ae(Me=>Y(Re,Me),[()=>o()("common.manage")]),b(Le,Re)},we=Le=>{var Re=Wt();ae(Me=>Y(Re,Me),[()=>o()("common.connect")]),b(Le,Re)};W(ue,Le=>{e.telegramUserName?Le(xe):Le(we,!1)})}var me=x($,4),ce=v(me),ye=v(ce),be=v(ye);Xt(be,()=>fp);var ve=x(ye,2),Se=v(ve),Ee=v(Se),Be=x(Se,2);{var Ae=Le=>{var Re=M8(),Me=v(Re);ae(()=>Y(Me,e.emailId)),b(Le,Re)};W(Be,Le=>{e.emailId&&Le(Ae)})}var Ce=x(ce,2);pe(Ce,"data-id",1),Ce.__click=[Rg,u,_];var _e=v(Ce);{var ge=Le=>{var Re=Wt();ae(Me=>Y(Re,Me),[()=>o()("common.manage")]),b(Le,Re)},Oe=Le=>{var Re=Wt();ae(Me=>Y(Re,Me),[()=>o()("common.connect")]),b(Le,Re)};W(_e,Le=>{e.emailId?Le(ge):Le(Oe,!1)})}ae((Le,Re,Me)=>{Y(E,Le),Y(te,Re),Y(Ee,Me)},[()=>o()("priceHistory.priceAlertComponent.choseAlertMethod"),()=>o()("common.telegram"),()=>o()("common.email")]),b(q,G)},N=q=>{var G=ke(),Q=de(G);{var Z=E=>{var U=ke(),$=de(U);{var ee=oe=>{var K=I8(),J=v(K),te=v(J),X=x(J,2),re=v(X);{var fe=ce=>{var ye=D8(),be=v(ye),ve=v(be),Se=x(be,2);ae(Ee=>{Y(ve,Ee),pe(Se,"src",a(d))},[()=>o()("priceHistory.priceAlertComponent.loginModal.scanQR")]),b(ce,ye)};W(re,ce=>{a(d)&&ce(fe)})}var ue=x(re,2);{var xe=ce=>{var ye=L8(),be=v(ye);ae(ve=>Y(be,ve),[()=>o()("common.or")]),b(ce,ye)};W(ue,ce=>{a(d)&&a(c)&&ce(xe)})}var we=x(ue,2);{var me=ce=>{var ye=E8(),be=v(ye);be.__click=[C8,c];var ve=v(be);ae(Se=>Y(ve,Se),[()=>o()("priceHistory.priceAlertComponent.loginModal.clickConnect")]),b(ce,ye)};W(we,ce=>{a(c)&&ce(me)})}ae(ce=>Y(te,ce),[()=>o()("priceHistory.priceAlertComponent.loginModal.connectTelegram")]),b(oe,K)},se=oe=>{var K=ke(),J=de(K);{var te=re=>{var fe=O8(),ue=v(fe),xe=v(ue),we=v(xe),me=x(xe,2),ce=v(me),ye=x(ue,2);ye.__input=[k8,p,m,y],ye.__keydown=[S8,p,m,y,w];var be=x(ye,2);{var ve=Le=>{var Re=T8(),Me=v(Re);ae(()=>Y(Me,a(y))),b(Le,Re)};W(be,Le=>{a(y)&&Le(ve)})}var Se=x(be,2);Se.__click=w;var Ee=v(Se),Be=x(Se,2),Ae=v(Be),Ce=x(Be,2);Ce.__click=[w8];var _e=v(Ce);Ur(_e,{src:T_,alt:"google login",cls:"w-6 h-6"});var ge=x(_e,2),Oe=v(ge);ae((Le,Re,Me,Te,ze,Fe)=>{Y(we,Le),Y(ce,Re),ri(ye,a(p)),pe(ye,"placeholder",Me),Y(Ee,Te),Y(Ae,ze),Y(Oe,Fe)},[()=>o()("priceHistory.priceAlertComponent.loginModal.title"),()=>o()("priceHistory.priceAlertComponent.loginModal.description"),()=>o()("priceHistory.priceAlertComponent.loginModal.emailPlaceholder"),()=>o()("priceHistory.priceAlertComponent.loginModal.verify"),()=>o()("common.or"),()=>o()("common.loginWithGoogle")]),tt("blur",ye,C),b(re,fe)},X=re=>{var fe=R8(),ue=v(fe),xe=v(ue),we=x(ue,2),me=v(we);ae((ce,ye)=>{Y(xe,ce),Y(me,ye)},[()=>o()("common.uhoh"),()=>o()("common.cantFindPage")]),b(re,fe)};W(J,re=>{u()==="1"?re(te):re(X,!1)},!0)}b(oe,K)};W($,oe=>{u()==="0"?oe(ee):oe(se,!1)})}b(E,U)};W(Q,E=>{a(_)===1&&E(Z)},!0)}b(q,G)};W(V,q=>{a(_)===0?q(F):q(N,!1)})}ae((q,G)=>{qe(T,"rounded-tl-lg",a(S)==="right"),qe(T,"rounded-bl-lg",a(S)==="right"),qe(T,"rounded-tr-lg",a(S)==="left"),qe(T,"rounded-br-lg",a(S)==="left"),qe(M,"max-w-lg",q),qe(M,"top-[-220px]",G),qe(M,"relative",G)},[()=>!Nt(),Nt]),b(z,T)};W(k,z=>{e.isVisible&&z(P)})}b(t,L),Ke(),n()}Tt(["click","input","keydown"]);const z8="/assets/bellIcon-CYy51xrI.svg",B8="/assets/emailIcon-Z6FhJV5T.svg";var j8=H('<div class="flex flex-col"><div class="flex items-center justify-center gap-2 text-xs text-surface-600"><img alt="email icon" class="w-[18px] h-3"> <button class="text-primary-600 underline font-bold"> </button></div></div>'),F8=H('<div class="absolute inset-0 z-50 flex items-end justify-center bg-black bg-opacity-70 p-2 rounded-tl-lg rounded-bl-lg"><div class="w-full flex flex-col rounded-lg bg-white shadow-lg"><div class="flex flex-col items-center justify-center rounded-lg py-2 relative bg-orange-50 p-4"><div class=" rounded-full p-2 mb-2"><img alt="bell icon" class="w-8 h-8"></div> <button class="text-surface-800 absolute top-2 right-2"><img alt="close modal" class="w-6 h-6"></button> <div class="flex flex-col items-center justify-center gap-2"><h2 class="text-base font-bold text-center text-surface-950"> </h2> <p class="text-xs text-center text-surface-600"> </p></div></div> <div class="flex flex-col px-4"><!></div> <div class="flex flex-col p-4 pt-0 gap-4"><button class="w-full border py-2 rounded border-primary-600 text-primary-600 font-medium"> </button> <!></div></div></div>');function O_(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(tr,"$LL",r),o=chrome.runtime.getURL(os),s=chrome.runtime.getURL(z8),l=chrome.runtime.getURL(B8);let c=le(!1);Zt(async()=>{(await chrome.storage.local.get("isVerified")).isVerified&&g(c,!0)}),Gn(()=>{e.closeModal()});var d=ke(),u=de(d);{var f=h=>{var p=F8(),m=v(p),y=v(m),_=v(y),S=v(_);pe(S,"src",s);var w=x(_,2);w.__click=function(...V){var F;(F=e.closeModal)==null||F.apply(this,V)};var C=v(w);pe(C,"src",o);var L=x(w,2),k=v(L),P=v(k),z=x(k,2),T=v(z),M=x(y,2),D=v(M);ac(D,{get item(){return e.currentProduct},editMode:!0});var A=x(M,2),O=v(A);O.__click=function(...V){var F;(F=e.viewAllAlerts)==null||F.apply(this,V)};var I=v(O),B=x(O,2);{var j=V=>{var F=j8(),N=v(F),q=v(N);pe(q,"src",l);var G=x(q),Q=x(G);Q.__click=function(...E){var U;(U=e.addEmail)==null||U.apply(this,E)};var Z=v(Q);ae((E,U)=>{Y(G,` ${E??""} `),Y(Z,U)},[()=>i()("priceHistory.priceAlertComponent.successModal.emailAlert"),()=>i()("priceHistory.priceAlertComponent.successModal.addEmail")]),b(V,F)};W(B,V=>{a(c)||V(j)})}ae((V,F,N,q,G)=>{qe(m,"max-w-lg",V),qe(m,"top-[-220px]",F),qe(m,"relative",F),Y(P,N),Y(T,q),Y(I,G)},[()=>!Nt(),Nt,()=>i()("priceHistory.priceAlertComponent.successModal.title"),()=>i()("priceHistory.priceAlertComponent.successModal.description"),()=>i()("priceHistory.priceAlertComponent.successModal.viewAllAlerts")]),b(h,p)};W(u,h=>{e.isVisible&&h(f)})}b(t,d),Ke(),n()}Tt(["click"]);const U8=async()=>{kd(!0)},V8=()=>{qy()};var W8=(t,e)=>g(e,!1),H8=H('<div class="flex flex-col border border-surface-200 m-2 rounded-lg"><div class="flex justify-between px-4 pt-4"><span class="text-base text-surface-950 font-bold"> </span> <button><img alt="close modal" class="w-6 h-6 max-w-6 max-h-6"></button></div> <div class="px-4"><!></div> <div class="w-full px-4 mb-4"><button class="bg-primary-600 text-base font-bold text-white px-4 py-3 rounded-md w-full"> </button></div></div>'),q8=(t,e)=>g(e,!1),G8=H('<div class="flex flex-col border border-surface-200 m-2 rounded-lg"><div class="flex justify-between px-4 pt-4"><span class="text-base text-surface-950 font-bold"> </span> <button><img alt="close modal" class="w-6 h-6 max-w-6 max-h-6"></button></div> <div><!></div> <div class="w-full px-4 mb-4"><button class="bg-primary-600 text-base font-bold text-white px-4 py-3 rounded-md w-full"> </button></div></div>'),$8=H("<!> <!>",1),Y8=H("<!> <!>",1),X8=H('<div class="flex flex-col items-center mx-4 my-6 gap-3"><p class="text-xs text-surface-600 font-medium"> </p> <a class=" mx-4 text-base font-bold px-6 py-3 rounded-md text-primary-600 hover:text-primary-800 border border-primary-600 hover:border-primary-800" href="https://buyhatke.com/price-alert" target="_blank"> </a></div>'),K8=H('<div class="h-8"></div>'),Q8=H('<div class="absolute h-[100vh] inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70"><div class="w-10 h-10 border-t-4 border-b-4 border-primary-600 rounded-full animate-spin"></div></div>'),J8=H('<div class="flex h-full"><!></div>'),Z8=H('<div class="flex flex-col relative"><!> <!> <!> <!> <!></div> <!> <!> <!> <!> <!>',1);function e9(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(fn,"$nonPersistAppStore",r),o=()=>ie(Sc,"$priceAlertStore",r),s=()=>ie(tr,"$LL",r);let l=R(e,"data",7),c=Ne(()=>i().productDetails),d=le(ne({})),u=Ne(()=>o().editPriceAlertModal),f=le(!1),h=Ne(()=>o().showPriceAlertLoader),p=le(!1),m=le(!1),y=le(!1);const _=chrome.runtime.getURL(os);let S=le(ne({})),w=le(ne({})),C=le(!0),L=Ne(()=>o().showSuccessModal),k=le(!1),P=le(!1);const z=()=>{g(p,!1),kd(!1)};mr(()=>{});const T=()=>{g(m,!1)};function M(ve,Se){const Ee={...Se,isPriceAlertSet:!0,target_price:ve};a(p)?g(w,ne(Ee)):g(d,ne(Ee)),Se&&Se.link_id?Gy(ve,Se.link_id):$y(ve)}const D=()=>{l().length>14&&(l(l().slice(0,14)),g(f,!0))};Zt(async()=>{D(),(await chrome.storage.local.get("isVerified")).isVerified&&g(k,!0)});const A=ve=>{const Se={...ve,isPriceAlertSet:!0};g(w,ne(Se)),kd(!0),g(p,!0)},O=ve=>{u3(ve),g(m,!1)},I=ve=>{g(p,!1),g(m,!0),g(S,ne(ve))},B=async()=>{g(y,!1),(await chrome.storage.local.get("isVerified")).isVerified&&kd(!0)},j=()=>{co(!1),g(P,!0)},V=()=>{co(!1)},F=()=>{co(!1),g(y,!0)};var N=Z8(),q=de(N),G=v(q);{var Q=ve=>{var Se=H8(),Ee=v(Se),Be=v(Ee),Ae=v(Be),Ce=x(Be,2);Ce.__click=[W8,C];var _e=v(Ce);pe(_e,"src",_);var ge=x(Ee,2),Oe=v(ge);ac(Oe,{get item(){return a(c)},editMode:!0,OOS:!0});var Le=x(ge,2),Re=v(Le);Re.__click=[V8];var Me=v(Re);ae((Te,ze)=>{Y(Ae,Te),Y(Me,ze)},[()=>s()("priceHistory.priceAlertComponent.OOSAlert.OOS"),()=>s()("priceHistory.priceAlertComponent.OOSAlert.NotifyMe")]),b(ve,Se)},Z=ve=>{var Se=ke(),Ee=de(Se);{var Be=Ae=>{var Ce=G8(),_e=v(Ce),ge=v(_e),Oe=v(ge),Le=x(ge,2);Le.__click=[q8,C];var Re=v(Le);pe(Re,"src",_);var Me=x(_e,2),Te=v(Me);Nh(Te,{get item(){return a(c)},removeDeleteButton:!0});var ze=x(Me,2),Fe=v(ze);Fe.__click=[U8];var Ye=v(Fe);ae((Je,et)=>{Y(Oe,Je),Y(Ye,et)},[()=>s()("priceHistory.priceAlertComponent.doYouWantToSetPriceAlert"),()=>s()("priceHistory.priceAlertComponent.setPriceAlert")]),b(Ae,Ce)};W(Ee,Ae=>{a(C)&&a(c).productName&&!a(c).isPriceAlertSet&&a(c).isAvailable&&a(c).currentPrice>0&&Ae(Be)},!0)}b(ve,Se)};W(G,ve=>{a(C)&&a(c).productName&&!a(c).isAvailable&&!a(c).isWatchAlertSet?ve(Q):ve(Z,!1)})}var E=x(G,2);{var U=ve=>{m8(ve,{})},$=ve=>{var Se=Y8(),Ee=de(Se);St(Ee,17,l,zt,(Ce,_e,ge)=>{var Oe=$8(),Le=de(Oe);ac(Le,{get item(){return a(_e)},handleEditModal:A,handleRemovePriceAlert:I});var Re=x(Le,2);{var Me=Te=>{var ze=ke(),Fe=de(ze);{var Ye=et=>{Ln(et,{slotId:"3",className:"w-full p-4"})},Je=et=>{Ln(et,{slotId:"11",className:"w-full p-4 "})};W(Fe,et=>{Nt()?et(Ye):et(Je,!1)})}b(Te,ze)};W(Re,Te=>{ge==4&&Te(Me)})}b(Ce,Oe)});var Be=x(Ee,2);{var Ae=Ce=>{var _e=ke(),ge=de(_e);{var Oe=Re=>{Ln(Re,{slotId:"3",className:"w-full p-4"})},Le=Re=>{Ln(Re,{slotId:"11",className:"w-full p-4"})};W(ge,Re=>{Nt()?Re(Oe):Re(Le,!1)})}b(Ce,_e)};W(Be,Ce=>{l().length<5&&Ce(Ae)})}b(ve,Se)};W(E,ve=>{l().length===0?ve(U):ve($,!1)})}var ee=x(E,2);{var se=ve=>{var Se=X8(),Ee=v(Se),Be=v(Ee),Ae=x(Ee,2),Ce=v(Ae);ae((_e,ge)=>{Y(Be,_e),Y(Ce,ge)},[()=>s()("priceHistory.priceAlertComponent.reachedAlertLimit"),()=>s()("priceHistory.priceAlertComponent.manageOnWeb")]),b(ve,Se)};W(ee,ve=>{a(f)&&ve(se)})}var oe=x(ee,2);{var K=ve=>{var Se=K8();b(ve,Se)};W(oe,ve=>{a(f)&&!a(k)&&ve(K)})}var J=x(oe,2);{var te=ve=>{var Se=Q8();b(ve,Se)};W(J,ve=>{a(h)&&ve(te)})}var X=x(q,2);{var re=ve=>{const Se=Ne(()=>a(p)?a(w):a(c)),Ee=Ne(()=>a(p)?a(w).target_price:a(c).target_price);h8(ve,{get isVisible(){return a(u)},closeModal:z,get item(){return a(Se)},get defaultPrice(){return a(Ee)},onUpdatePrice:M,get isEdit(){return a(p)}})};W(X,ve=>{a(u)&&(a(p)?a(w).productName:a(c).productName)&&ve(re)})}var fe=x(X,2);{var ue=ve=>{_8(ve,{get isVisible(){return a(m)},closeModal:T,get item(){return a(S)},handleRemovePriceAlert:O})};W(fe,ve=>{a(m)&&ve(ue)})}var xe=x(fe,2);{var we=ve=>{const Se=Ne(()=>a(p)?a(w):a(d));O_(ve,{get currentProduct(){return a(Se)},get isVisible(){return a(L)},closeModal:j,viewAllAlerts:V,addEmail:F})};W(xe,ve=>{a(L)&&ve(we)})}var me=x(xe,2);{var ce=ve=>{Pc(ve,{get isVisible(){return a(y)},closeModal:B})};W(me,ve=>{a(y)&&ve(ce)})}var ye=x(me,2);{var be=ve=>{var Se=J8(),Ee=v(Se);Hu(Ee,{comingFromAlert:!0}),b(ve,Se)};W(ye,ve=>{a(P)&&ve(be)})}b(t,N),Ke(),n()}Tt(["click"]);var t9=H('<div class="w-full"><!></div>');function r9(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(Sc,"$priceAlertStore",r);let o=Ne(()=>i().priceAlertData);var s=t9(),l=v(s);e9(l,{get data(){return a(o)}}),b(t,s),Ke(),n()}var n9=(t,e,r)=>{t.preventDefault(),e(r.item)},a9=H('<div class="flex items-center gap-2"><button><img alt="delete"></button></div>'),i9=H('<div class="flex flex-col gap-3 border-b-4 border-surface-100 py-4 last:border-b-0"><div class="flex items-center gap-3"><div class="shrink-0 rounded-lg"><!></div> <div class="flex flex-col gap-2 w-full"><div class="flex items-center justify-between w-full"><div><!></div> <!></div> <div class="text-xs font-medium text-surface-900"><!></div></div></div> <div class="border-t border-surface-200 flex flex-grow w-full"><p class="text-sm font-bold text-warning-500 pt-3"> </p></div></div>');function R_(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(tr,"$LL",r);let o=R(e,"editMode",3,!1);chrome.runtime.getURL(I_);const s=chrome.runtime.getURL(Gu);let l=le(e.item.currentPrice-e.item.target_price);mr(()=>{g(l,e.item.currentPrice-e.item.target_price)});const c=T=>{var M;(M=e.handleRemoveStockAlert)==null||M.call(e,T)};var d=i9(),u=v(d),f=v(u),h=v(f);Mc(h,{get imageUrl(){return e.item.productImage},get productName(){return e.item.productName},className:"h-16 w-16 rounded-lg border border-surface-200 text-surface-600"});var p=x(f,2),m=v(p),y=v(m),_=v(y);as(_,{get siteLogo(){return e.item.siteImage},get siteName(){return e.item.siteName}});var S=x(y,2);{var w=T=>{var M=a9(),D=v(M);D.__click=[n9,c,e];var A=v(D);pe(A,"src",s),b(T,M)};W(S,T=>{o()||T(w)})}var C=x(m,2),L=v(C);bo(L,{get productName(){return e.item.productName},lines:2});var k=x(u,2),P=v(k),z=v(P);ae(T=>{qe(d,"px-4",!o()),Y(z,T)},[()=>i()("priceHistory.priceAlertComponent.OOSAlert.OOSLabel")]),b(t,d),Ke(),n()}Tt(["click"]);const o9=(t,e)=>{e.handleRemoveAlert(e.item)};var s9=H('<div class="absolute inset-0 z-50 flex items-end justify-center rounded-tl-lg rounded-bl-lg bg-black bg-opacity-70 p-2"><div class="w-full rounded-lg bg-white p-4 shadow-lg"><div class="flex items-start justify-between"><h2 class="text-base text-surface-950 font-bold"> </h2> <button class="text-surface-500"><img alt="close modal" class="w-6 h-6 max-w-6 max-h-6"></button></div> <div><!></div> <button class="bg-warning-500 text-white px-4 py-3 rounded-md w-full font-bold">Delete</button></div></div>');function l9(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(tr,"$LL",r),o=chrome.runtime.getURL(os);var s=ke(),l=de(s);{var c=d=>{var u=s9(),f=v(u),h=v(f),p=v(h),m=v(p),y=x(p,2);y.__click=function(...L){var k;(k=e.closeModal)==null||k.apply(this,L)};var _=v(y);pe(_,"src",o);var S=x(h,2),w=v(S);R_(w,{get item(){return e.item},editMode:!0});var C=x(S,2);C.__click=[o9,e],ae((L,k,P)=>{qe(f,"max-w-lg",L),qe(f,"top-[-220px]",k),qe(f,"relative",k),Y(m,P)},[()=>!Nt(),Nt,()=>i()("priceHistory.priceAlertComponent.deleteMessage")]),b(d,u)};W(l,d=>{e.isVisible&&d(c)})}b(t,s),Ke(),n()}Tt(["click"]);var c9=H('<a target="_blank"><!></a>'),d9=H('<div class="flex flex-col relative p-4"></div> <!>',1);function u9(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(fn,"$nonPersistAppStore",r);let o=le(ne({})),s=le(!1),l=le(!1),c=le(ne({}));mr(()=>{g(o,ne(i().productDetails))});const d=_=>{g(l,!0),g(c,ne(_))},u=()=>{g(l,!1)},f=_=>{f3(!0),v3(_),g(l,!1)};Zt(async()=>{(await chrome.storage.local.get("isVerified")).isVerified&&g(s,!0)});var h=d9(),p=de(h);St(p,21,()=>e.data,zt,(_,S)=>{var w=c9(),C=v(w);R_(C,{get item(){return a(S)},handleRemoveStockAlert:d}),ae(()=>pe(w,"href",a(S).productLink)),b(_,w)});var m=x(p,2);{var y=_=>{l9(_,{get isVisible(){return a(l)},closeModal:u,get item(){return a(c)},handleRemoveAlert:f})};W(m,_=>{a(l)&&_(y)})}b(t,h),Ke(),n()}var f9=H('<div class="w-full"><!></div>');function v9(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(Yy,"$OOSAlertStore",r);let o=Ne(()=>i().oosListData);var s=f9(),l=v(s);u9(l,{get data(){return a(o)}}),b(t,s),Ke(),n()}function h9(t){return t}function p9(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function N_(t){return t*t*t}function gl(t){const e=Math.cos(t*Math.PI*.5);return Math.abs(e)<1e-14?1:1-e}Tt(["click"]);const g9="/assets/checkmark-B2FpMxJu.svg",m9=(t,e,r)=>{co(!1),g(e,!0),g(r,"0")},x9=(t,e,r)=>{co(!1),g(e,!0),g(r,"1")};var y9=H('<div class="px-2"><!></div>'),_9=H('<div class="flex p-4 bg-slate-50 w-full rounded-b-lg"><div class="flex flex-col gap-3 w-full"><p class="text-sm font-bold text-slate-950"><!></p> <div class="flex gap-4 justify-between items-center"><div class="flex gap-4"><button class="text-sm font-medium text-slate-600 flex gap-1 items-center onhover:text-underline"><span class="w-4 h-4 flex-shrink-0"><!></span> <!> <img alt="check icon"></button> <button class="text-sm font-medium text-slate-600 flex gap-1 items-center onhover:text-underline"><span class="w-4 h-4 flex-shrink-0"><!></span> <!> <img alt="check icon"></button></div></div></div></div>'),b9=H('<div class="flex flex-col h-full"><div class="p-4"><!></div> <!> <div class="flex-grow"><!></div> <!></div> <!>',1);function w9(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(tr,"$LL",r),o=()=>ie(Yy,"$OOSAlertStore",r),s=()=>ie(Sc,"$priceAlertStore",r),l=()=>ie(fn,"$nonPersistAppStore",r);let c=[i()("features.priceAlert"),i()("features.stockAlert")],d=le(0),u=Ne(()=>o().oosListData),f=le(!1),h=le(!1),p=Ne(()=>s().showEmailBottomBar),m=le(!1),y=le(""),_=le(""),S=le("1");const w=Q=>{Q===c[0]?g(d,0):g(d,1)},C=()=>{g(m,!1)},L=async()=>{try{const{status:Q,data:Z}=await Fr({type:"checkLogin"});Q&&(g(y,ne(Z.email_id)),g(f,!0),await Xr("ext_email",Z.email_id),await Xr("isVerified",1))}catch{}},k=async()=>{try{const{status:Q,data:Z}=await Fr({type:"checkTelegramConnectStatus"});Q&&Z.connectStatus&&(g(h,!0),g(_,ne(Z.userName)))}catch{}},P=async()=>{await Promise.all([...a(f)?[]:[L()],...a(h)?[]:[k()]])};Zt(async()=>{var Z;(await chrome.storage.local.get("isVerified")).isVerified&&(g(f,!0),g(y,ne(((Z=await chrome.storage.local.get("ext_email"))==null?void 0:Z.ext_email)??""))),await Promise.all([...a(f)?[]:[L()],k()])});var z=b9(),T=de(z),M=v(T),D=v(M);po(D,{featureKey:"Price_Alert"});var A=x(M,2);{var O=Q=>{var Z=y9(),E=v(Z);qu(E,{list:c,onSelectRange:w,textSize:"text-sm font-bold",tabClass:"p-2"}),b(Q,Z)};W(A,Q=>{a(u).length>0&&Q(O)})}var I=x(A,2),B=v(I);{var j=Q=>{r9(Q,{})},V=Q=>{v9(Q,{})};W(B,Q=>{a(d)===0?Q(j):Q(V,!1)})}var F=x(I,2);{var N=Q=>{var Z=_9(),E=v(Z),U=v(E),$=v(U);{var ee=Ae=>{var Ce=Wt();ae(_e=>Y(Ce,_e),[()=>i()("priceHistory.priceAlertComponent.youAreSubscribed")]),b(Ae,Ce)},se=Ae=>{var Ce=Wt();ae(_e=>Y(Ce,_e),[()=>i()("priceHistory.priceAlertComponent.choseAlertMethod")]),b(Ae,Ce)};W($,Ae=>{a(f)||a(h)?Ae(ee):Ae(se,!1)})}var oe=x(U,2),K=v(oe),J=v(K);J.__click=[m9,m,S];var te=v(J),X=v(te);Xt(X,()=>vp);var re=x(te,2);{var fe=Ae=>{var Ce=Wt();ae(_e=>Y(Ce,_e),[()=>i()("common.manage")]),b(Ae,Ce)},ue=Ae=>{var Ce=Wt();ae(_e=>Y(Ce,_e),[()=>i()("common.connect")]),b(Ae,Ce)};W(re,Ae=>{a(h)?Ae(fe):Ae(ue,!1)})}var xe=x(re),we=x(xe),me=x(J,2);me.__click=[x9,m,S];var ce=v(me),ye=v(ce);Xt(ye,()=>fp);var be=x(ce,2);{var ve=Ae=>{var Ce=Wt();ae(_e=>Y(Ce,_e),[()=>i()("common.manage")]),b(Ae,Ce)},Se=Ae=>{var Ce=Wt();ae(_e=>Y(Ce,_e),[()=>i()("common.connect")]),b(Ae,Ce)};W(be,Ae=>{a(f)?Ae(ve):Ae(Se,!1)})}var Ee=x(be),Be=x(Ee);ae((Ae,Ce,_e,ge,Oe)=>{qe(Z,"sticky",Ae),qe(Z,"bottom-0",Ae),qe(Z,"pb-[90px]",Ce),Y(xe,` ${_e??""} `),pe(we,"src",ge),$e(we,`w-4 h-4 ${(a(h)?"":"hidden")??""}`),Y(Ee,` ${Oe??""} `),pe(Be,"src",ge),$e(Be,`w-4 h-4 ${(a(f)?"":"hidden")??""}`)},[()=>!Nt(),Nt,()=>i()("common.telegram"),()=>chrome.runtime.getURL(g9),()=>i()("common.email")]),b(Q,Z)};W(F,Q=>{a(p)&&Q(N)})}var q=x(T,2);{var G=Q=>{Pc(Q,{get isVisible(){return a(m)},closeModal:C,get emailId(){return a(y)},get telegramUserName(){return a(_)},handleRefresh:P,get connectMethod(){return a(S)},comingFromAlert:!0})};W(q,Q=>{a(m)&&!l().showSettingsModal&&Q(G)})}b(t,z),Ke(),n()}Tt(["click"]);var k9=H('<div class="flex flex-col border border-gray-200 m-2 rounded-lg"><div class="flex justify-between px-4 pt-4"><span class="text-base text-slate-950 font-bold"> </span> <span><button>X</button></span></div> <div><!></div> <button class="bg-indigo-600 mx-4 mb-4 text-base font-bold text-white px-4 py-2 rounded-md"> </button></div>'),S9=H('<div class=" flex flex-col"><!> <!></div>');function C9(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(fn,"$nonPersistAppStore",r),o=()=>ie(tr,"$LL",r);let s=le(ne({}));mr(()=>{g(s,ne(i().productDetails))});var l=S9(),c=v(l);{var d=f=>{var h=k9(),p=v(h),m=v(p),y=v(m),_=x(p,2),S=v(_);Nh(S,{get item(){return a(s)},removeDeleteButton:!0});var w=x(_,2),C=v(w);ae((L,k)=>{Y(y,L),Y(C,k)},[()=>o()("list.doYouWantToAdd"),()=>o()("list.saveToList")]),b(f,h)};W(c,f=>{a(s).productName&&!a(s).isWatchAlertSet&&f(d)})}var u=x(c,2);St(u,17,()=>e.data,zt,(f,h)=>{Nh(f,{get item(){return a(h)}})}),b(t,l),Ke(),n()}var A9=H('<div class="w-full"><!></div>');function M9(t,e){var r=A9(),n=v(r);C9(n,{get data(){return e.data}}),b(t,r)}const P9="/assets/downvoteCouponIcon-BAsrcWSW.svg",D9="/assets/upvoteCouponIcon-B0IzhceE.svg",L9="/assets/upvoteCouponIconActive-FZLwE-Yd.svg",E9="/assets/downvoteCouponIconActive-BSHsXpyW.svg";var I9=H('<p class="text-[10px] font-medium text-surface-500 flex-shrink-0"> </p>'),T9=(t,e,r)=>e(r.coupon.code),O9=H('<p class="text-[10px] font-medium text-surface-500 bg-surface-100 px-1 py-0.5 rounded-sm"> </p>'),R9=(t,e,r)=>e(r.coupon),N9=(t,e,r)=>e(r.coupon),z9=H('<div class="flex flex-col gap-2 relative border border-surface-200 rounded-lg p-3 h-full w-full"><div class="w-full h-full flex justify-between items-center border-b border-surface-200 border-dotted pb-3"><div class="flex flex-col gap-2"><p class="text-sm text-surface-950 font-bold"> </p> <div class="flex gap-1"></div></div> <button class="flex items-center bg-primary-50 text-xs font-bold text-primary-600 px-4 py-2 rounded-lg"> </button></div> <div class="flex flex-col gap-4 w-full"><div class="text-xs text-surface-500 font-medium"> </div> <div class="flex justify-between gap-1"><div class="flex w-full justify-between"><div class="flex gap-1"></div> <div class="flex items-center gap-2"><button class="flex items-center gap-1"><img alt="upVote" class="w-4 h-4"> <p class="text-[10px] font-medium text-surface-600"> </p></button> <button class="flex items-center gap-1"><img alt="downVote" class="w-4 h-4"> <p class="text-[10px] font-medium text-surface-600"> </p></button></div></div></div></div></div>');function B9(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(tr,"$LL",r),o=chrome.runtime.getURL(P9),s=chrome.runtime.getURL(D9),l=chrome.runtime.getURL(E9),c=chrome.runtime.getURL(L9);let d=le(ne(e.coupon.upvotes)),u=le(!1),f=le(ne(e.coupon.downvotes)),h=le(!1);function p(E){navigator.clipboard.writeText(E),_a({duration:2e3,description:"Coupon Copied"})}function m(E){a(u)?(Do(d,-1),g(u,!1)):(Do(d),g(u,!0),a(h)&&(Do(f,-1),g(h,!1))),h3(E)}function y(E){a(h)?(Do(f,-1),g(h,!1)):(Do(f),g(h,!0),a(u)&&(Do(d,-1),g(u,!1))),p3(E)}var _=z9(),S=v(_),w=v(S),C=v(w),L=v(C),k=x(C,2);St(k,21,()=>e.coupon.cat_arr,zt,(E,U,$)=>{var ee=ke(),se=de(ee);{var oe=K=>{var J=I9(),te=v(J);ae(()=>Y(te,a(U))),b(K,J)};W(se,K=>{$<2&&K(oe)})}b(E,ee)});var P=x(w,2);P.__click=[T9,p,e];var z=v(P),T=x(S,2),M=v(T),D=v(M),A=x(M,2),O=v(A),I=v(O);St(I,21,()=>e.coupon.tags,zt,(E,U)=>{var $=O9(),ee=v($);ae(()=>Y(ee,a(U))),b(E,$)});var B=x(I,2),j=v(B);j.__click=[R9,m,e];var V=v(j),F=x(V,2),N=v(F),q=x(j,2);q.__click=[N9,y,e];var G=v(q),Q=x(G,2),Z=v(Q);ae(E=>{Y(L,e.coupon.code),Y(z,E),Y(D,e.coupon.desc_new||e.coupon.desc),pe(V,"src",a(u)?c:s),Y(N,a(d)),pe(G,"src",a(h)?l:o),Y(Z,a(f))},[()=>i()("coupon.copyCode")]),b(t,_),Ke(),n()}Tt(["click"]);var j9=H("<!> <!>",1),F9=H('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><p class=" text-surface-950 text-base font-medium"> </p> <div class="flex rounded-md text-surface-600 text-xs font-medium items-center"> </div></div> <div class="grid grid-cols-1 gap-4 justify-center"><!> <!></div></div>');function U9(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(tr,"$LL",r);var o=F9(),s=v(o),l=v(s),c=v(l),d=x(l,2),u=v(d),f=x(s,2),h=v(f);St(h,17,()=>e.couponData,zt,(y,_,S)=>{var w=j9(),C=de(w);B9(C,{get coupon(){return a(_)}});var L=x(C,2);{var k=P=>{var z=ke(),T=de(z);{var M=A=>{Ln(A,{slotId:"4",className:"col-span-full"})},D=A=>{Ln(A,{slotId:"13",className:"col-span-full"})};W(T,A=>{Nt()?A(M):A(D,!1)})}b(P,z)};W(L,P=>{S==4&&P(k)})}b(y,w)});var p=x(h,2);{var m=y=>{var _=ke(),S=de(_);{var w=L=>{Ln(L,{slotId:"4",className:"col-span-full"})},C=L=>{Ln(L,{slotId:"13",className:"col-span-full"})};W(S,L=>{Nt()?L(w):L(C,!1)})}b(y,_)};W(p,y=>{e.couponData.length<5&&y(m)})}ae((y,_)=>{Y(c,y),Y(u,_)},[()=>i()("coupon.findBestCoupons"),()=>i()("coupon.tryAutoCoupons")]),b(t,o),Ke(),n()}const hp="/assets/autoCoupon-DFd_bX6I.png",pp="/assets/singleCouponBorder-IaNBkL3W.svg",z_="/assets/applyCouponIllustration-BE8SZ0xV.png",B_="/assets/couponFailed-Zw-pTZF4.svg",j_="/assets/appliedCouponIcon-vE9zk8QE.svg";var V9=H('<div><div class="w-16 h-16 mx-auto flex items-center justify-center"><img alt="coupon illustration" class="w-[72px] h-[72px]"></div> <h2 class="text-xl font-bold mb-2 text-slate-950"><!></h2></div>'),W9=H('<h2 class="text-xl font-bold mb-2 text-slate-950"> </h2>'),H9=H('<div class="flex flex-col gap-2"><h2 class="text-xl font-semibold mb-2">Finding the Best deals</h2> <p class="text-sm text-slate-600"> </p> <div class="w-full h-3 bg-white rounded-full overflow-hidden"><div class="h-full bg-indigo-600 transition-all duration-300"></div></div></div>'),q9=H('<div class="px-5 py-4 animate-pulse border border-slate-200 rounded-lg"><div class="flex gap-2 items-center"><div class="w-6 h-6 rounded-full bg-gray-300 flex-shrink-0"></div> <div class="flex flex-col gap-2 text-left w-full"><div class="h-4 bg-gray-300 rounded w-1/2"></div> <div class="h-3 bg-gray-200 rounded w-3/4"></div></div></div></div>'),G9=H('<div class="flex flex-col gap-2 relative h-full mt-3"><div class="h-full absolute bottom-0 w-full" style="background: linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, #FFFFFF 75.93%);"></div> <!></div>'),$9=(t,e,r)=>{e(a(r))},Y9=H('<img alt="retry" class="w-6 h-6">'),X9=H('<img alt="success" class="w-6 h-6">'),K9=H('â€¢ <span class="text-green-600"> </span> off!',1),Q9=H('<button class="px-5 py-4 cursor-pointer border border-slate-200 rounded-lg"><div class="flex gap-2 items-center"><div class="w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0"><!> <!></div> <div class="flex flex-col text-sm text-left"><p class="font-bold text-slate-950"> <!></p> <p class="text-xs text-slate-600 text-ellipsis overflow-hidden line-clamp-1"> </p></div></div></button>'),J9=H('<div class="w-full z-[999999] flex flex-col bg-slate-100 rounded-2xl p-4 shadow-md text-center"><div class="flex flex-col gap-2"><!></div> <div class="flex flex-col gap-4 overflow-x-auto mt-3 max-h-[250px]"><!></div></div>');function Z9(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(Yi,"$autoCouponStore",r),o=()=>ie(tr,"$LL",r);let s=chrome.runtime.getURL(hp);chrome.runtime.getURL(bc),chrome.runtime.getURL(pp),chrome.runtime.getURL(z_);let l=chrome.runtime.getURL(B_),c=chrome.runtime.getURL(j_),d=le(0),u=le(0),f=Ne(()=>i().couponList),h=le(!1),p=Ne(()=>i().successAutoCoupon),m=Ne(()=>i().failedAutoCoupon),y=le(0),_=le(0),S=le(ne([])),w=Ne(()=>i().currencySymbol);mr(()=>{i().couponList.length>0&&(g(h,!1),g(S,ne([...a(f)])))}),mr(()=>{const I=i();if(I&&I.appliedCoupon){const B=a(f).findIndex(V=>V.code===I.appliedCoupon.code);B!==-1&&(a(f)[B]={...a(f)[B],...I.appliedCoupon});const j=[...a(f)].sort((V,F)=>F.savings-V.savings);g(S,ne(j)),g(y,ne(j[0].savings)),g(u,ne(a(f).length)),g(_,ne(a(f).filter(V=>V.hasOwnProperty("msg")).length)),g(u,ne(a(f).length)),g(d,ne(Math.floor(a(_)/a(u)*100)))}}),Zt(()=>{g(h,!0)});function C(I){g(y,ne(I.savings)),i_(I)}var L=J9(),k=v(L),P=v(k);{var z=I=>{var B=V9(),j=v(B),V=v(j);pe(V,"src",s);var F=x(j,2),N=v(F);Xt(N,()=>o()("autoCoupons.youSaved",{values:{highestSavings:a(y),currencySymbol:a(y)>0?a(w):""}})),b(I,B)},T=I=>{var B=ke(),j=de(B);{var V=N=>{var q=W9(),G=v(q);ae(Q=>Y(G,Q),[()=>o()("autoCoupons.noCouponsFound")]),b(N,q)},F=N=>{var q=H9(),G=x(v(q),2),Q=v(G),Z=x(G,2),E=v(Z);ae(()=>{Y(Q,`Checked ${a(_)}/${a(u)} Coupons`),pe(E,"style",`width: ${a(d)??""}%`)}),b(N,q)};W(j,N=>{a(m)?N(V):N(F,!1)},!0)}b(I,B)};W(P,I=>{a(p)?I(z):I(T,!1)})}var M=x(k,2),D=v(M);{var A=I=>{var B=G9(),j=x(v(B),2);St(j,16,()=>Array(4),zt,(V,F)=>{var N=q9();b(V,N)}),b(I,B)},O=I=>{var B=ke(),j=de(B);St(j,17,()=>a(S),zt,(V,F)=>{var N=Q9();N.__click=[$9,C,F];var q=v(N),G=v(q),Q=v(G);{var Z=X=>{var re=Y9();pe(re,"src",l),b(X,re)};W(Q,X=>{a(F).savings<=0&&X(Z)})}var E=x(Q,2);{var U=X=>{var re=X9();pe(re,"src",c),b(X,re)};W(E,X=>{a(F).savings>0&&X(U)})}var $=x(G,2),ee=v($),se=v(ee),oe=x(se);{var K=X=>{var re=K9(),fe=x(de(re)),ue=v(fe);ae(()=>Y(ue,`${(a(y)>0?a(w):"")??""}${a(F).savings??""}`)),b(X,re)};W(oe,X=>{a(F).savings>0&&X(K)})}var J=x(ee,2),te=v(J);ae(()=>{qe(G,"border-2",!a(F).msg),Y(se,`${a(F).code??""} `),Y(te,a(F).desc)}),b(V,N)}),b(I,B)};W(D,I=>{a(h)?I(A):I(O,!1)})}b(t,L),Ke(),n()}Tt(["click"]);const eS=()=>{zu(!0),o_()};var tS=H('<h2 class="text-xl font-bold text-slate-950"> </h2> <p class="text-slate-600 text-xs"> </p> <button class="w-full bg-indigo-600 text-white text-sm font-medium py-3 rounded-xl"> </button>',1),rS=H('<p class="text-slate-950 font-bold text-xl"> </p> <p class="text-slate-600 text-xs"> </p>',1),nS=H('<div class="w-full flex flex-col bg-slate-100 rounded-2xl p-4 shadow-md text-center"><div class="flex flex-col gap-4 py-4"><div class="w-16 h-16 mx-auto flex items-center justify-center"><img alt="coupon illustration" class="w-[72px] h-[72px]"></div> <!></div></div>'),aS=H('<div class="flex"><!></div>');function iS(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(Yi,"$autoCouponStore",r),o=()=>ie(tr,"$LL",r),s=()=>ie(fn,"$nonPersistAppStore",r);let l=Ne(()=>i().showAutoCouponPopup),c=Ne(()=>i().showAutoCoupon),d=chrome.runtime.getURL(hp);var u=aS(),f=v(u);{var h=m=>{Z9(m,{})},p=m=>{var y=ke(),_=de(y);{var S=w=>{var C=nS(),L=v(C),k=v(L),P=v(k);pe(P,"src",d);var z=x(k,2);{var T=D=>{var A=tS(),O=de(A),I=v(O),B=x(O,2),j=v(B),V=x(B,2);V.__click=[eS];var F=v(V);ae((N,q,G)=>{Y(I,N),Y(j,q),Y(F,G)},[()=>o()("autoCoupons.findBestDeals"),()=>o()("autoCoupons.applyTopCoupons"),()=>o()("autoCoupons.startNow")]),b(D,A)},M=D=>{var A=rS(),O=de(A),I=v(O),B=x(O,2),j=v(B);ae((V,F)=>{Y(I,V),Y(j,F)},[()=>o()("autoCoupons.notLogged",{values:{siteName:s().siteDetails.siteName??"Site"}}),()=>o()("autoCoupons.reloadPage")]),b(D,A)};W(z,D=>{i().loginAutoCoupon?D(T):D(M,!1)})}b(w,C)};W(_,w=>{a(c)&&w(S)},!0)}b(m,y)};W(f,m=>{a(l)?m(h):m(p,!1)})}b(t,u),Ke(),n()}Tt(["click"]);var oS=H('<div class="flex flex-col gap-2 m-4"><!> <!> <!></div>');function sS(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(g3,"$couponListStore",r);let o=le(ne([]));mr(()=>{g(o,ne(i().couponListData))});var s=oS(),l=v(s);po(l,{featureKey:"Auto_Coupon"});var c=x(l,2);{var d=f=>{iS(f,{})};W(c,f=>{Nt()&&f(d)})}var u=x(c,2);U9(u,{get couponData(){return a(o)}}),b(t,s),Ke(),n()}var lS=(t,e)=>{e.handleAnalyzeSpend()},cS=H('<h1 class="text-xl font-bold text-surface-950 text-center"> </h1> <p class="text-sm font-medium text-surface-600 text-pretty text-center mt-2"> </p> <div class="mt-2 w-full"><button class="bg-primary-600 enabled:hover:bg-primary-800 rounded px-4 py-3 min-w-32 w-full cursor-pointer text-center flex justify-center disabled:opacity-40 disabled:cursor-not-allowed"><span class="font-bold text-white"> </span></button></div>',1);function dS(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(tr,"$LL",r);var o=cS(),s=de(o),l=v(s),c=x(s,2),d=v(c),u=x(c,2),f=v(u);f.__click=[lS,e];var h=v(f),p=v(h);ae((m,y,_)=>{Y(l,m),Y(d,y),Y(p,_)},[()=>i()("spendLens.oops"),()=>i()("spendLens.youMightBeSuprised"),()=>i()("spendLens.calculateAgain")]),b(t,o),Ke(),n()}Tt(["click"]);var uS=H('<h1 class="text-xl font-bold text-surface-950 text-center"><!></h1> <p class="text-sm font-medium text-surface-600 text-pretty text-center mt-2"> </p>',1),fS=H('<h1 class="text-xl font-bold text-surface-950 text-center"><!></h1> <p class="text-sm font-medium text-surface-600 text-pretty text-center mt-2"> </p>',1),vS=(t,e)=>{e.handleAnalyzeSpend()},hS=H('<!> <div class="mt-2 w-full"><button class="bg-primary-600 enabled:hover:bg-primary-800 rounded px-4 py-3 min-w-32 w-full cursor-pointer text-center flex justify-center disabled:opacity-40 disabled:cursor-not-allowed"><span class="font-bold text-white"> </span></button></div>',1);function pS(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(Zs,"$userSpendData",r),o=()=>ie(tr,"$LL",r);var s=hS(),l=de(s);{var c=m=>{var y=uS(),_=de(y),S=v(_);Xt(S,()=>o()("timeLens.curious"));var w=x(_,2),C=v(w);ae(L=>Y(C,L),[()=>o()("timeLens.youMightBeSuprised")]),b(m,y)},d=m=>{var y=fS(),_=de(y),S=v(_);Xt(S,()=>o()("spendLens.curious"));var w=x(_,2),C=v(w);ae(L=>Y(C,L),[()=>o()("spendLens.youMightBeSuprised")]),b(m,y)};W(l,m=>{i().isTimeCalulator?m(c):m(d,!1)})}var u=x(l,2),f=v(u);f.__click=[vS,e];var h=v(f),p=v(h);ae(m=>Y(p,m),[()=>o()("spendLens.analyseNow")]),b(t,s),Ke(),n()}Tt(["click"]);var gS=H('<h1 class="text-xl font-bold text-surface-950 text-center"> </h1>'),mS=H('<h1 class="text-xl font-bold text-surface-950 text-center"> </h1>'),xS=H('<!> <p class="text-sm font-medium text-surface-600 text-pretty text-center mt-2"><!></p> <div class="hk-c-progress-sc w-full pt-1 mx-auto"><div class="hk-c-progress__wrap-sc relative w-full h-3 rounded-full overflow-hidden border border-surface-300" style="box-shadow: inset 0 0 6px hsla(0, 0%, 100%, 0.5);"><div class="hk-c-progress__inner-sc" id="hk-sc-progress-bar"></div></div></div>',1);function yS(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(ts,"$spendScreenStatus",r),o=()=>ie(Zs,"$userSpendData",r),s=()=>ie(tr,"$LL",r);let l=le(void 0),c=()=>{};function d(k=100,P=5e3){if(!a(l))return()=>{};a(l).style.width="0px";let z=0;const T=setInterval(()=>{var M;z<100?(z+=k/P*100,a(l).style.width=`${z}%`):((M=a(l))==null||M.classList.add("indeterminate"),clearInterval(T))},k);return()=>{var M;clearInterval(T),z=0,(M=a(l))==null||M.classList.remove("indeterminate"),a(l).style.width="100%"}}mr(()=>{i().isAnalyzing?c=d():c()});var u=xS(),f=de(u);{var h=k=>{var P=gS(),z=v(P);ae(T=>Y(z,T),[()=>{var T;return s()("timeLens.weAreAnalysing",{values:{name:((T=o())==null?void 0:T.siteName)??""}})}]),b(k,P)},p=k=>{var P=mS(),z=v(P);ae(T=>Y(z,T),[()=>{var T;return s()("spendLens.weAreAnalysing",{values:{name:((T=o())==null?void 0:T.siteName)??""}})}]),b(k,P)};W(f,k=>{o().isTimeCalulator&&o().isAnalyzingTime?k(h):k(p,!1)})}var m=x(f,2),y=v(m);{var _=k=>{var P=ke(),z=de(P);{var T=D=>{var A=Wt();ae(O=>Y(A,`${o().orderCount??""} ${O??""}`),[()=>s()("timeLens.episodesFoundUntilNow")]),b(D,A)},M=D=>{var A=Wt();ae(O=>Y(A,`${o().orderCount??""} ${O??""}`),[()=>s()("spendLens.orderFoundUntilNow")]),b(D,A)};W(z,D=>{o().isTimeCalulator&&o().isAnalyzingTime?D(T):D(M,!1)})}b(k,P)},S=k=>{var P=Wt();ae(z=>Y(P,z),[()=>s()("spendLens.youMightBeSuprised")]),b(k,P)};W(y,k=>{o().orderCount&&o().orderCount>0?k(_):k(S,!1)})}var w=x(m,2),C=v(w),L=v(C);Ar(L,k=>g(l,k),()=>a(l)),b(t,u),Ke(),n()}var _S=(t,e)=>{e()},bS=H('<h1 class="text-xl font-bold text-surface-950 text-center"><!></h1> <p class="text-sm font-medium text-surface-600 text-pretty text-center mt-2"> </p> <div class="mt-2 w-full"><button class="bg-primary-600 enabled:hover:bg-primary-800 rounded px-4 py-3 min-w-32 w-full cursor-pointer text-center flex justify-center disabled:opacity-40 disabled:cursor-not-allowed"><span class="font-bold text-white"> </span></button></div>',1);function wS(t,e){Xe(e,!1);const[r,n]=ct(),i=()=>ie(ts,"$spendScreenStatus",r),o=()=>ie(tr,"$LL",r);function s(S,w,C){let L=S;if(S.includes("#")){let[k,P]=S.split("#"),[z,T]=P.split("?"),M=new URLSearchParams(T||"");return M.has(w)||M.set(w,C),`${k}#${z}?${M.toString()}`}if(S&&w&&C){const k=new URL(S);k.searchParams.has(w)||k.searchParams.set(w,C),L=k.toString()}return L}const l=()=>{const S=i().orderPageUrl;window.location.href=s(S,"triggerSpend","true")};pr();var c=bS(),d=de(c),u=v(d);Xt(u,()=>o()("spendLens.curious"));var f=x(d,2),h=v(f),p=x(f,2),m=v(p);m.__click=[_S,l];var y=v(m),_=v(y);ae((S,w)=>{Y(h,S),Y(_,w)},[()=>o()("spendLens.youMightBeSuprised"),()=>o()("spendLens.goToOrders")],Ie),b(t,c),Ke(),n()}Tt(["click"]);var kS=H('<div class="flex justify-between gap-4"><div class="px-4 py-3 border rounded-lg border-surface-200 w-full flex flex-col gap-2 items-center justify-center bg-primary-50"><p class="font-bold text-surface-950 text-xl"> </p> <p class="text-sm font-medium text-surface-600 text-center"> </p></div> <div class="px-4 py-3 border rounded-lg border-surface-200 w-full flex flex-col gap-2 items-center justify-center bg-primary-50"><p class="font-bold text-surface-950 text-xl"> </p> <p class="text-sm font-medium text-surface-600 text-center"> </p></div></div>'),SS=H('<p class="text-sm font-medium text-surface-600"> </p>'),CS=H('<p class="text-sm font-medium text-surface-600"> </p>'),AS=(t,e)=>{m3({isAnalyzing:!0,isSpendCalculated:!1}),e.handleAnalyzeSpend()},MS=H('<div class="flex flex-col gap-2"><h1 class="text-xl font-bold text-surface-950 text-center"><!></h1> <div class="w-full flex flex-col gap-2 justify-center"><!> <div class="flex justify-between gap-4"><div class="px-4 py-3 border rounded-lg border-surface-200 w-full flex flex-col gap-2 items-center justify-center bg-primary-50"><p class="font-bold text-surface-950 text-xl"> </p> <p class="text-sm font-medium text-surface-600"> </p></div> <div class="px-4 py-3 border rounded-lg border-surface-200 w-full flex flex-col gap-2 items-center justify-center bg-primary-50"><p class="font-bold text-surface-950 text-xl"> </p> <!></div></div></div> <div class="mt-2 w-full"><button class="bg-primary-600 enabled:hover:bg-primary-800 rounded px-4 py-3 min-w-32 w-full cursor-pointer text-center flex justify-center disabled:opacity-40 disabled:cursor-not-allowed"><span class="font-bold text-white"> </span></button></div></div>');function PS(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(Zs,"$userSpendData",r),o=()=>ie(tr,"$LL",r),s=()=>ie(fn,"$nonPersistAppStore",r),l=V=>`${Math.floor(V/3600)}h`;var c=MS(),d=v(c),u=v(d);{var f=V=>{var F=Wt();ae(N=>Y(F,N),[()=>o()("timeLens.weHaveComputedTime")]),b(V,F)},h=V=>{var F=Wt();ae(N=>Y(F,N),[()=>o()("spendLens.weHaveAnalyseOrders")]),b(V,F)};W(u,V=>{i().isTimeCalulator?V(f):V(h,!1)})}var p=x(d,2),m=v(p);{var y=V=>{var F=kS(),N=v(F),q=v(N),G=v(q),Q=x(q,2),Z=v(Q),E=x(N,2),U=v(E),$=v(U),ee=x(U,2),se=v(ee);ae((oe,K,J)=>{var te,X;Y(G,oe),Y(Z,K),Y($,((X=(te=i())==null?void 0:te.timeOrderDetails)==null?void 0:X.totalEpisodes)??0),Y(se,J)},[()=>l(i().timeOrderDetails.totalTimeSeconds??0),()=>o()("timeLens.watched"),()=>o()("timeLens.episodes")]),b(V,F)};W(m,V=>{i().timeOrderDetails.isPresent&&V(y)})}var _=x(m,2),S=v(_),w=v(S),C=v(w),L=x(w,2),k=v(L),P=x(S,2),z=v(P),T=v(z),M=x(z,2);{var D=V=>{var F=SS(),N=v(F);ae(q=>Y(N,q),[()=>o()("timeLens.subscriptions")]),b(V,F)},A=V=>{var F=CS(),N=v(F);ae(q=>Y(N,q),[()=>o()("spendLens.totalOrders")]),b(V,F)};W(M,V=>{var F;(F=i())!=null&&F.isTimeCalulator?V(D):V(A,!1)})}var O=x(p,2),I=v(O);I.__click=[AS,e];var B=v(I),j=v(B);ae((V,F,N,q)=>{var G,Q,Z,E;qe(_,"hidden",V),Y(C,`${((Q=(G=i())==null?void 0:G.spendOrderDetails)==null?void 0:Q.currency)??"â‚¹"}${F??""}`),Y(k,N),Y(T,((E=(Z=i())==null?void 0:Z.spendOrderDetails)==null?void 0:E.totalOrder)??0),Y(j,q)},[()=>{var V,F;return["25636","25635"].includes(String((F=(V=i())==null?void 0:V.timeOrderDetails)==null?void 0:F.pos))},()=>{var V,F,N;return kn(((F=(V=i())==null?void 0:V.spendOrderDetails)==null?void 0:F.totalSpent)??1e3,{locale:((N=s())==null?void 0:N.currencyCode)??"en-US",max:0})},()=>o()("spendLens.totalSpend"),()=>o()("spendLens.analyseAgain")]),b(t,c),Ke(),n()}Tt(["click"]);var DS=H('<button class="bg-primary-600 hover:bg-primary-800 rounded px-4 py-3 min-w-32 w-full cursor-pointer text-center flex justify-center disabled:opacity-40 disabled:cursor-not-allowed"><span class="font-bold text-white"> </span></button>'),LS=H('<button class="bg-primary-600 enabled:hover:bg-primary-800 rounded px-4 py-3 min-w-32 w-full cursor-pointer text-center flex justify-center disabled:opacity-40 disabled:cursor-not-allowed" disabled><span class="font-bold text-white"> </span></button>'),ES=H('<div class="flex-grow flex flex-col justify-start items-center mt-2 w-full"><h1 class="text-xl font-bold text-surface-950"> </h1> <p class="text-sm font-medium text-surface-600 text-pretty text-center mt-2"> </p> <div class="mt-2 w-full"><!></div></div>');function IS(t,e){Xe(e,!1);const[r,n]=ct(),i=()=>ie(tr,"$LL",r),o=()=>ie(x3,"$spendSiteData",r);pr();var s=ES(),l=v(s),c=v(l),d=x(l,2),u=v(d),f=x(d,2),h=v(f);{var p=y=>{var _=DS(),S=v(_),w=v(S);ae(()=>Y(w,`Login into ${o().siteName??""}`)),tt("click",_,()=>{window.open(o().signInPageURL,"_self")}),b(y,_)},m=y=>{var _=LS(),S=v(_),w=v(S);ae(C=>Y(w,C),[()=>i()("spendLens.analyseNow")],Ie),b(y,_)};W(h,y=>{o().signInPageURL?y(p):y(m,!1)})}ae((y,_)=>{Y(c,`${y??""}
		${o().siteName??""}...?`),Y(u,_)},[()=>i()("spendLens.notLogged"),()=>i()("spendLens.reloadPage")],Ie),b(t,s),Ke(),n()}var TS=H('<div class="rounded-lg transform w-full z-50 flex items-start font-metropolis"><div class="text-xs font-medium break-words text-surface-600 text-start"><!> </div></div>');function OS(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(Xy,"$redirectData",r);let o=R(e,"showRedirect",11,!1),s=le(0);mr(()=>{if(!o())return;g(s,ne(i().time));const u=setInterval(()=>{g(s,ne(Math.max(0,a(s)-1))),a(s)<0&&clearInterval(u)},1e3);return()=>clearInterval(u)});var l=ke(),c=de(l);{var d=u=>{var f=TS(),h=v(f),p=v(h);Xt(p,()=>i().description);var m=x(p);ae(()=>Y(m,` in ${a(s)??0} seconds`)),b(u,f)};W(c,u=>{o()&&u(d)})}b(t,l),Ke(),n()}var RS=H('<div class="flex-grow flex flex-col gap-2 justify-start items-center mt-2"><!> <!></div>');function NS(t,e){Xe(e,!1);const[r,n]=ct(),i=()=>ie(ts,"$spendScreenStatus",r),o=()=>ie(Xy,"$redirectData",r),s=()=>{y3()};pr();var l=RS(),c=v(l);{var d=h=>{PS(h,{handleAnalyzeSpend:s})},u=h=>{var p=ke(),m=de(p);{var y=S=>{IS(S,{})},_=S=>{var w=ke(),C=de(w);{var L=P=>{wS(P,{})},k=P=>{var z=ke(),T=de(z);{var M=A=>{yS(A,{})},D=A=>{var O=ke(),I=de(O);{var B=V=>{dS(V,{handleAnalyzeSpend:s})},j=V=>{pS(V,{handleAnalyzeSpend:s})};W(I,V=>{i().calculateAgain?V(B):V(j,!1)},!0)}b(A,O)};W(T,A=>{i().isAnalyzing?A(M):A(D,!1)},!0)}b(P,z)};W(C,P=>{i().notOrdersPage?P(L):P(k,!1)},!0)}b(S,w)};W(m,S=>{i().isUserNotLoggedOnSite?S(y):S(_,!1)},!0)}b(h,p)};W(c,h=>{i().isSpendCalculated?h(d):h(u,!1)})}var f=x(c,2);OS(f,{get showRedirect(){return o().show}}),b(t,l),Ke(),n()}var zS=H('<div class="flex gap-2 bg-white rounded-lg w-full"><div class="text-2xl flex-shrink-0">ðŸ””</div> <div class="flex flex-col gap-1"><h3 class="text-xs font-bold text-surface-950"> </h3> <p class="text-xs font-medium text-surface-950"> </p></div></div>'),BS=H('<div class="flex gap-2 bg-white rounded-lg w-full"><div class="text-2xl flex-shrink-0">ðŸ“‰</div> <div class="flex flex-col gap-1"><h3 class="text-xs font-bold text-surface-950"> </h3> <p class="text-xs font-medium text-surface-950"> </p></div></div>'),jS=H('<div class="flex gap-2 bg-white rounded-lg w-full"><div class="text-2xl flex-shrink-0">ðŸ›’</div> <div class="flex flex-col gap-1"><h3 class="text-xs font-bold text-surface-950"> </h3> <p class="text-xs font-medium text-surface-950"> </p></div></div>'),FS=H('<div class="flex gap-2 bg-white rounded-lg w-full"><div class="text-2xl flex-shrink-0">ðŸ·ï¸</div> <div class="flex flex-col gap-1"><h3 class="text-xs font-bold text-surface-950"> </h3> <p class="text-xs font-medium text-surface-950"> </p></div></div>'),US=H('<div class="flex gap-2 bg-white rounded-lg w-full"><div class="text-2xl flex-shrink-0">ðŸ’¡</div> <div class="flex flex-col gap-1"><h3 class="text-xs font-bold text-surface-950"> </h3> <p class="text-xs font-medium text-surface-950"> </p></div></div>'),VS=H("<div></div>"),WS=H('<div class="w-full bg-secondary-100 border border-secondary-300 rounded flex flex-col gap-3 items-start px-3 py-2"><p class="text-xs font-medium text-surface-950"> </p> <div class="overflow-hidden w-full bg-white rounded-lg flex flex-col gap-3 justify-between p-3"><!> <div class="flex gap-1 items-center justify-center"></div></div></div>'),HS=H('<div class="mt-4"><!></div>');function qS(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(ts,"$spendScreenStatus",r),o=()=>ie(tr,"$LL",r);let s=le(null),l=le(0);Zt(()=>(g(s,ne(setInterval(()=>{g(l,(a(l)+1)%5)},7e3))),()=>{a(s)&&clearInterval(a(s))}));var c=HS(),d=v(c);{var u=h=>{var p=WS(),m=v(p),y=v(m),_=x(m,2),S=v(_);{var w=k=>{var P=zS(),z=x(v(P),2),T=v(z),M=v(T),D=x(T,2),A=v(D);ae((O,I)=>{Y(M,O),Y(A,I)},[()=>o()("spendLens.footer.priceAlert.header"),()=>o()("spendLens.footer.priceAlert.description")]),Rt(1,P,()=>Hn,()=>({duration:500,x:100,easing:gl})),b(k,P)},C=k=>{var P=ke(),z=de(P);{var T=D=>{var A=BS(),O=x(v(A),2),I=v(O),B=v(I),j=x(I,2),V=v(j);ae((F,N)=>{Y(B,F),Y(V,N)},[()=>o()("spendLens.footer.priceGraph.header"),()=>o()("spendLens.footer.priceGraph.description")]),Rt(1,A,()=>Hn,()=>({duration:500,x:100,easing:gl})),b(D,A)},M=D=>{var A=ke(),O=de(A);{var I=j=>{var V=jS(),F=x(v(V),2),N=v(F),q=v(N),G=x(N,2),Q=v(G);ae((Z,E)=>{Y(q,Z),Y(Q,E)},[()=>o()("spendLens.footer.priceComparison.header"),()=>o()("spendLens.footer.priceComparison.description")]),Rt(1,V,()=>Hn,()=>({duration:500,x:100,easing:gl})),b(j,V)},B=j=>{var V=ke(),F=de(V);{var N=G=>{var Q=FS(),Z=x(v(Q),2),E=v(Z),U=v(E),$=x(E,2),ee=v($);ae((se,oe)=>{Y(U,se),Y(ee,oe)},[()=>o()("spendLens.footer.autoCoupons.header"),()=>o()("spendLens.footer.autoCoupons.description")]),Rt(1,Q,()=>Hn,()=>({duration:500,x:100,easing:gl})),b(G,Q)},q=G=>{var Q=ke(),Z=de(Q);{var E=U=>{var $=US(),ee=x(v($),2),se=v(ee),oe=v(se),K=x(se,2),J=v(K);ae((te,X)=>{Y(oe,te),Y(J,X)},[()=>o()("spendLens.footer.ditto.header"),()=>o()("spendLens.footer.ditto.description")]),Rt(1,$,()=>Hn,()=>({duration:500,x:100,easing:gl})),b(U,$)};W(Z,U=>{a(l)===4&&U(E)},!0)}b(G,Q)};W(F,G=>{a(l)===3?G(N):G(q,!1)},!0)}b(j,V)};W(O,j=>{a(l)===2?j(I):j(B,!1)},!0)}b(D,A)};W(z,D=>{a(l)===1?D(T):D(M,!1)},!0)}b(k,P)};W(S,k=>{a(l)===0?k(w):k(C,!1)})}var L=x(S,2);St(L,20,()=>Array(5),zt,(k,P,z)=>{var T=VS();pe(T,"data-id",z),ae(()=>$e(T,`border-2 rounded-full ${(z===a(l)?"border-secondary-300":"border-surface-300")??""}`)),b(k,T)}),ae(k=>Y(y,k),[()=>o()("spendLens.footer.smartNextStep")]),b(h,p)},f=h=>{po(h,{featureKey:"Spend_Lens"})};W(d,h=>{i().isAnalyzing?h(u):h(f,!1)})}b(t,c),Ke(),n()}const GS="/assets/spendCalc__background-oeLijDiS.png",$S=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 114 114" fill="none">
	<path fill="currentColor" d="M1 9a8 8 0 0 1 8-8h96a8 8 0 0 1 8 8v96a8 8 0 0 1-8 8H9a8 8 0 0 1-8-8V9Z" />
	<path stroke="#fff" stroke-width=".7"
		d="M9 .65A8.35 8.35 0 0 0 .65 9v96A8.35 8.35 0 0 0 9 113.35h96a8.35 8.35 0 0 0 8.35-8.35V9A8.35 8.35 0 0 0 105 .65H9Z"
		data-figma-bg-blur-radius="168" opacity=".3" />
	<path stroke="#fff" stroke-linecap="round" stroke-width="2.5"
		d="M24.5 37.63 55.73 19a2.5 2.5 0 0 1 2.54-.01l9.35 5.46M24.5 37.62v36.71c0 .88.46 1.7 1.22 2.15L57 95.12m-32.5-57.5 10.3 5.94m55.33-5.94v36.7a2.5 2.5 0 0 1-1.24 2.15L57 95.13m33.13-57.5L57 56.36m33.13-18.74-11.88-6.95M57 95.12V56.38m0 0L45.08 49.5m33.17-18.82L45.08 49.5m33.17-18.82-10.63-6.22M45.09 49.5 34.8 43.56m10.3 5.94v10.9c0 .98-1.07 1.58-1.9 1.07l-7.8-4.73c-.37-.23-.6-.63-.6-1.07v-12.1m0 0 32.84-19.1M72 70.74l11.25-6.25m-10 12.5 11.88-6.88" />
	<defs>
		<clipPath id="a" transform="translate(167.7 167.7)">
			<path
				d="M9 .65A8.35 8.35 0 0 0 .65 9v96A8.35 8.35 0 0 0 9 113.35h96a8.35 8.35 0 0 0 8.35-8.35V9A8.35 8.35 0 0 0 105 .65H9Z" />
		</clipPath>
	</defs>
</svg>
`,YS=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" viewBox="0 0 92 92">

	<g filter="url(#a)">
		<path fill="currentColor" stroke="#fff" stroke-width=".55"
			d="M82 1.72A8.28 8.28 0 0 1 90.28 10v72A8.28 8.28 0 0 1 82 90.28H10A8.28 8.28 0 0 1 1.72 82V10A8.28 8.28 0 0 1 10 1.72h72Z"
			data-figma-bg-blur-radius="132" />
		<path stroke="#fff" stroke-miterlimit="10" stroke-width="3"
			d="M46.05 70.55a24.55 24.55 0 1 0 0-49.1 24.55 24.55 0 0 0 0 49.1Z" />
		<path stroke="#fff" stroke-miterlimit="10" stroke-width="3"
			d="M46.05 37.06a4.46 4.46 0 1 0 0-8.91 4.46 4.46 0 0 0 0 8.91Zm0 26.79a4.46 4.46 0 1 0 0-8.91 4.46 4.46 0 0 0 0 8.9Z" />
		<path stroke="#fff" stroke-miterlimit="10" stroke-width="3"
			d="M46.05 63.85a4.46 4.46 0 1 0 0-8.91 4.46 4.46 0 0 0 0 8.9Zm-13.4-13.39a4.46 4.46 0 1 0 0-8.92 4.46 4.46 0 0 0 0 8.92Zm26.79 0a4.46 4.46 0 1 0 0-8.92 4.46 4.46 0 0 0 0 8.92Z" />
		<path stroke="#fff" stroke-miterlimit="10" stroke-width="3"
			d="M59.44 50.46a4.46 4.46 0 1 0 0-8.92 4.46 4.46 0 0 0 0 8.92Zm13.39 20.08H46.05M43.83 46h4.46" />
	</g>
</svg>
`,XS="/assets/spendCalc__scanning-DijJ0eDA.gif";var KS=H('<div id="image-section" class="w-full h-44 relative bg-cover bg-no-repeat bg-center flex justify-center items-center"><div class="absolute h-32 w-32"><!></div> <div class="w-full h-full flex justify-center"><div id="image-scroll-container" class="h-full w-auto max-w-[360px] sm:max-w-auto flex flex-row-reverse items-center gap-10 overflow-hidden snap-x my-auto mx-auto pr-2"><div class="image-card-skeleton w-auto h-auto flex flex-col snap-center rounded bg-white opacity-60 flex-shrink-0 text-primary-600"><!></div> <div class="image-card-skeleton w-auto h-auto flex flex-col snap-center rounded bg-white opacity-60 flex-shrink-0 image-card-skeleton--active text-primary-600"><!></div> <div class="image-card-skeleton w-auto h-auto flex flex-col snap-center rounded bg-white opacity-60 flex-shrink-0 text-primary-600"><!></div> <div class="image-card-skeleton w-auto h-auto flex flex-col snap-center rounded bg-white opacity-60 flex-shrink-0 text-primary-600"><!></div> <div class="image-card-skeleton w-auto h-auto flex flex-col snap-center rounded bg-white opacity-60 flex-shrink-0 text-primary-600"><!></div></div></div></div>');function QS(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(Zs,"$userSpendData",r);let o=le(null),s=Ne(()=>i().orderImages??[]),l=le(0),c=le(null),d=Ne(()=>{let I=$S;return i().isTimeCalulator&&(I=YS),I}),u=chrome.runtime.getURL(GS);const f=(I,B=160,j=160,V=100)=>{try{return!I||typeof I!="string"?I:I.replace("{@width}",String(B)).replace("{@height}",String(j)).replace("{@quality}",String(V))}catch{return I}},h=()=>{try{if(!a(o))throw new Error("Image scroll container is not there");const I=40;g(c,ne(setInterval(()=>{var F,N,q,G,Q,Z;const B=(F=a(o))==null?void 0:F.querySelectorAll(".image-card-skeleton");(N=B==null?void 0:B[1])==null||N.classList.remove("image-card-skeleton--active");let j;if(a(l)<a(s).length){const E=f(a(s)[a(l)].image??"",160,160,100);j=document.createElement("div"),j.className="image-card-skeleton w-auto h-auto flex flex-col snap-center rounded bg-white opacity-60 flex-shrink-0 border border-slate-200";const U=document.createElement("img");U.src=E,U.alt=`image-${a(l)}`,U.onerror=()=>{U.onerror=null,U.src=a(d)},U.className="w-22 h-22 object-cover aspect-square rounded",j.appendChild(U),g(l,(a(l)+1)%a(s).length)}else j=(q=B==null?void 0:B[0])==null?void 0:q.cloneNode(!0);const V=((G=B==null?void 0:B[0])==null?void 0:G.offsetWidth)||100;j&&((Q=a(o))==null||Q.appendChild(j)),(Z=a(o))==null||Z.scrollBy({left:-(V+I),behavior:"smooth"}),setTimeout(()=>{var U,$,ee;const E=(U=a(o))==null?void 0:U.querySelectorAll(".image-card-skeleton");($=E==null?void 0:E[2])==null||$.classList.add("image-card-skeleton--active"),E&&((ee=a(o))==null||ee.removeChild(E==null?void 0:E[0]))},300)},2e3)))}catch{}},p=()=>{var I;try{if(!a(o))throw new Error("Image scroll container is not there");(I=a(o).querySelectorAll(".image-card-skeleton")[1])==null||I.classList.add("image-card-skeleton--active"),a(c)&&clearInterval(a(c)),g(c,null)}catch{}};mr(()=>{try{h()}catch{}return()=>{p()}});var m=KS();pe(m,"style",`background: url(${u??""});`);var y=v(m),_=v(y);Ur(_,{src:XS,alt:"scanning gif",cls:"w-full h-full"});var S=x(y,2),w=v(S),C=v(w),L=v(C);Xt(L,()=>a(d));var k=x(C,2),P=v(k);Xt(P,()=>a(d));var z=x(k,2),T=v(z);Xt(T,()=>a(d));var M=x(z,2),D=v(M);Xt(D,()=>a(d));var A=x(M,2),O=v(A);Xt(O,()=>a(d)),Ar(w,I=>g(o,I),()=>a(o)),b(t,m),Ke(),n()}const JS="/assets/copy-C97tBZ2W.svg",ZS=(t,e)=>{g(e,"")},e7=async(t,e,r,n)=>{try{g(e,!0);const{status:i,err:o}=await Fr({type:"verifyReferral",referralCode:a(r)});i?_3(!0):g(n,ne(o??"Something went wrong!")),g(e,!1)}catch{g(e,!1),g(n,"Something went wrong!")}};var t7=H('<h1 class="text-xl font-bold text-surface-950"> </h1> <p class="text-sm font-medium text-surface-600 text-pretty text-center mt-2"> </p> <div class="flex justify-center items-center w-full mt-4"><a target="_blank" class="bg-primary-600 enabled:hover:bg-primary-800 rounded py-3 min-w-32 flex justify-center cursor-pointer disabled:opacity-40 disabled:cursor-not-allowed w-full"><span class="font-bold text-white"> </span></a></div> <div class="mt-4 flex justify-center items-center"><a class="text-sm font-medium text-primary-600 hover:text-primary-800" target="_blank"> </a></div>',1),r7=H('<span class="font-bold whitespace-nowrap text-white"> </span>'),n7=H('<span class="font-bold whitespace-nowrap text-white"> </span>'),a7=H('<div class="text-xs font-medium text-danger-500 w-full"> </div>'),i7=H('<h1 class="text-xl font-bold text-surface-950"> </h1> <p class="text-sm font-medium text-surface-600 text-pretty text-center mt-2"> </p> <div class="flex flex-col justify-center items-center mt-4 gap-2"><button class="bg-primary-600 hover:bg-primary-800 rounded min-w-32 w-full cursor-pointer text-center flex justify-center items-center gap-1 text-white py-3"><img alt="copy icon" class="w-5 h-5 text-white"> <span class="font-bold text-center whitespace-nowrap"> </span></button> <div class="text-xs font-medium text-center text-surface-500"> </div> <div class="flex justify-center items-center gap-2"><input type="text" class="border rounded border-surface-300 hover:border-primary-600 hover:outline-none focus:border-primary-600 focus:outline-none font-medium px-4 py-3 w-full bg-white cursor-text" placeholder="Referral Code"> <button class="bg-primary-600 enabled:hover:bg-primary-800 rounded px-4 py-3 min-w-32 w-full cursor-pointer text-center flex justify-center disabled:opacity-40 disabled:cursor-not-allowed border"><!></button></div> <!> <a class="hk-sa-spend-web-link" href="https://buyhatke.com/spending-calculator" target="_blank"> </a></div>',1),o7=H('<div class="flex-grow flex flex-col justify-start items-center mt-2"><!></div>');function s7(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(Zs,"$userSpendData",r),o=()=>ie(tr,"$LL",r);let s="",l="https://buyhatke.com/spending-calculator",c=le(""),d=le(!1),u=le(0),f=le(""),h=le(""),p=chrome.runtime.getURL(JS);const m=()=>{try{navigator.clipboard.writeText(s).then(()=>{window.alert("Link copied Successfully")})}catch{}};mr(()=>{g(c,ne(i().referralCode??"")),a(c)&&(g(u,1),s=`https://compare.buyhatke.com/extension_referral/redirect?refID=${a(c)}`)});var y=o7(),_=v(y);{var S=C=>{var L=t7(),k=de(L),P=v(k),z=x(k,2),T=v(z),M=x(z,2),D=v(M);pe(D,"href",l);var A=v(D),O=v(A),I=x(M,2),B=v(I);pe(B,"href",l);var j=v(B);ae((V,F,N,q)=>{Y(P,V),Y(T,F),Y(O,N),Y(j,q)},[()=>o()("spendLens.spendLensLocked"),()=>o()("spendLens.invite2friends"),()=>o()("spendLens.unlockSpendLens"),()=>o()("spendLens.knowMore")]),b(C,L)},w=C=>{var L=i7(),k=de(L),P=v(k),z=x(k,2),T=v(z),M=x(z,2),D=v(M);D.__click=m;var A=v(D);pe(A,"src",p);var O=x(A,2),I=v(O),B=x(D,2),j=v(B),V=x(B,2),F=v(V);F.__input=[ZS,f];var N=x(F,2);N.__click=[e7,d,h,f];var q=v(N);{var G=ee=>{var se=r7(),oe=v(se);ae(K=>Y(oe,`${K??""}...`),[()=>o()("spendLens.verifying")]),b(ee,se)},Q=ee=>{var se=n7(),oe=v(se);ae(K=>Y(oe,K),[()=>o()("spendLens.unlockNow")]),b(ee,se)};W(q,ee=>{a(d)?ee(G):ee(Q,!1)})}var Z=x(V,2);{var E=ee=>{var se=a7(),oe=v(se);ae(()=>Y(oe,a(f))),b(ee,se)};W(Z,ee=>{a(f)&&!a(d)&&ee(E)})}var U=x(Z,2),$=v(U);ae((ee,se,oe,K,J)=>{Y(P,ee),Y(T,se),Y(I,oe),Y(j,K),N.disabled=a(h)===""||a(d),Y($,J)},[()=>o()("spendLens.unlockSpendLens"),()=>o()("spendLens.invite2friends"),()=>o()("spendLens.copyInviteCode"),()=>o()("common.or"),()=>o()("spendLens.knowMore")]),Ui(F,()=>a(h),ee=>g(h,ee)),b(C,L)};W(_,C=>{a(u)===0?C(S):C(w,!1)})}b(t,y),Ke(),n()}Tt(["click","input"]);var l7=H('<div class=" flex flex-col overflow-auto"><!> <div class="p-4 flex flex-col flex-grow justify-between"><div class="mb-4"><!></div> <!> <!></div></div>');function F_(t,e){Xe(e,!1);const[r,n]=ct(),i=()=>ie(Zs,"$userSpendData",r);pr();var o=l7(),s=v(o);QS(s,{});var l=x(s,2),c=v(l),d=v(c);{var u=_=>{NS(_,{})},f=_=>{s7(_,{})};W(d,_=>{i().isSpendAllowed?_(u):_(f,!1)})}var h=x(c,2);qS(h,{});var p=x(h,2);{var m=_=>{Ln(_,{slotId:"9",className:"mt-4"})},y=_=>{Ln(_,{slotId:"15",className:"mt-4"})};W(p,_=>{Nt()?_(m):_(y,!1)})}b(t,o),Ke(),n()}const c7="/assets/eyeslash-BOfhJiRY.svg",d7="/assets/userCircle-pP3C7-yo.svg",U_="/assets/language-BDO81FFV.svg",u7="/assets/noSymbol-B6aKjRAl.svg",f7=async(t,e,r)=>{try{const{status:n,url:i}=await Fr({type:"handleLogin"});if(n){const o=new URL(i);o.searchParams.append("state","https://buyhatke.com/"),window.open(o,"_blank")}}catch{}g(e,!0),g(r,"1")},v7=(t,e)=>{wc(!1),g(e,!1)};var h7=H('<span class="text-sm text-slate-950 font-medium"> </span>'),p7=H('<span class="text-sm text-slate-950 font-medium block"> </span> <button class="text-indigo-600 hover:text-indigo-800 underline font-bold"> </button>',1),g7=H('<div class="flex items-center gap-2 px-2 py-3 w-full rounded"><span class="text-indigo-600 w-5 h-5"><!></span> <span class="text-sm text-slate-950 font-medium block"> </span> <span class="text-sm text-slate-950 font-bold"> </span></div>'),m7=()=>{un({selectedOption:""}),Bu(1)},x7=()=>{un({selectedOption:""}),Bu(0)},y7=()=>{un({selectedOption:""}),Bu(2)},_7=H('<div><button class="flex items-center gap-2 px-2 py-3 w-full text-slate-950 hover:text-indigo-600 hover:cursor-pointer rounded"><img alt="hide extension" class="w-5 h-5 aspect-square"> <span class="text-sm font-medium"> </span></button></div>'),b7=(t,e)=>{g(e,!a(e))},w7=(t,e,r,n,i,o)=>{g(e,ne(r())),n(i()),g(o,!a(o))},k7=H("<button> </button>"),S7=H('<div class="absolute top-10 right-0 p-2 gap-2 shadow-md shadow-[#1A4CFB3D] rounded-2xl bg-white z-[999999] w-[200px] overflow-y-auto h-[160px]"></div>'),C7=()=>wc(!1),A7=H(`<div class="absolute inset-0 z-50 flex items-end justify-center
bg-black bg-opacity-70 p-2 w-full"><div class="group w-full z-40 h-fit p-4 m-2 rounded-lg bg-white shadow-lg"><div class="flex items-start justify-between"><div class="flex items-center gap-4"><h2 class="text-base text-slate-950 font-semibold"><img alt="site_logo"></h2></div> <button class="text-gray-500"><img alt="close modal" class="w-6 h-6 max-w-6 max-h-6"></button></div> <div class="flex items-center gap-2 px-2 py-3 w-full rounded"><img alt="user Icon" class="w-5 h-5 aspect-square"> <!></div> <!> <div><button class="flex items-center gap-2 px-2 py-3 w-full text-slate-950 hover:text-indigo-600 hover:cursor-pointer rounded"><img alt="hide extension" class="w-5 h-5 aspect-square"> <span class="text-sm font-medium"> </span></button></div> <div><button class="flex items-center gap-2 px-2 py-3 w-full text-slate-950 hover:text-indigo-600 hover:cursor-pointer rounded"><img alt="hide extension" class="w-5 h-5 aspect-square"> <span class="text-sm font-medium"> </span></button></div> <!> <div class="relative px-2 py-3 text-base flex gap-2 items-center"><img alt="user Icon" class="w-5 h-5 aspect-square"> <span class="font-medium text-slate-950 text-sm"> </span> <button class="font-bold text-slate-950"> <img alt="arrowIcon" width="24" height="24"></button> <!></div></div> <button class="absolute inset-0 -z-10 bg-black opacity-60 rounded-lg" aria-label="close button"></button></div> <!>`,1);function M7(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(Fi,"$locale",r),o=()=>ie(fn,"$nonPersistAppStore",r),s=()=>ie(fa,"$appStore",r),l=()=>ie(tr,"$LL",r),c=()=>ie(Nd,"$blockedPages",r);let d=le("always"),u=le("always"),f=le(""),h=le(""),p=le(!1),m=le("right"),y=le(ne(Vi[i()??"en"]));const _=chrome.runtime.getURL(os),S=chrome.runtime.getURL(Z0);let w=le(!1),C="",L=le("1"),k=le(ne({}));const P=async()=>{try{const{status:ge,data:Oe}=await Fr({type:"checkLogin"});ge&&(g(f,ne(Oe.email_id)),await Xr("ext_email",Oe.email_id),await Xr("isVerified",1))}catch{}},z=async()=>{try{const{status:ge,data:Oe}=await Fr({type:"checkTelegramConnectStatus"});ge&&Oe.connectStatus&&g(h,ne(Oe.userName))}catch{}},T=async ge=>{try{Fi.set(ge),await Fr({type:"fireEvent",eventName:"languageChange",params:{language:ge}})}catch{}};Fi.subscribe(ge=>{ge&&g(y,ne(Vi[i()??"en"]))}),mr(()=>{g(d,ne(o().minimize)),g(u,ne(o().minimize)),g(m,ne(s().position))}),Zt(async()=>{await Promise.all([P(),z()]);const ge=await an("minimiseSideBar");g(k,ne(ge))});var M=A7(),D=de(M),A=v(D),O=v(A),I=v(O),B=v(I),j=v(B);pe(j,"src",S);var V=x(I,2);V.__click=[v7,w];var F=v(V);pe(F,"src",_);var N=x(O,2),q=v(N),G=x(q,2);{var Q=ge=>{var Oe=h7(),Le=v(Oe);ae(()=>Y(Le,a(f))),b(ge,Oe)},Z=ge=>{var Oe=p7(),Le=de(Oe),Re=v(Le),Me=x(Le,2);Me.__click=[f7,w,L];var Te=v(Me);ae((ze,Fe)=>{Y(Re,ze),Y(Te,Fe)},[()=>l()("priceHistory.priceAlertComponent.successModal.emailAlert"),()=>l()("priceHistory.priceAlertComponent.successModal.addEmail")]),b(ge,Oe)};W(G,ge=>{a(f)?ge(Q):ge(Z,!1)})}var E=x(N,2);{var U=ge=>{var Oe=g7(),Le=v(Oe),Re=v(Le);Xt(Re,()=>vp);var Me=x(Le,2),Te=v(Me),ze=x(Me,2),Fe=v(ze);ae(Ye=>{Y(Te,`${Ye??""}:`),Y(Fe,a(h))},[()=>l()("common.telegram")]),b(ge,Oe)};W(E,ge=>{a(h)&&ge(U)})}var $=x(E,2),ee=v($);ee.__click=[m7];var se=v(ee),oe=x(se,2),K=v(oe),J=x($,2),te=v(J);te.__click=[x7];var X=v(te),re=x(X,2),fe=v(re),ue=x(J,2);{var xe=ge=>{var Oe=_7(),Le=v(Oe);Le.__click=[y7];var Re=v(Le),Me=x(Re,2),Te=v(Me);ae((ze,Fe)=>{pe(Re,"src",ze),Y(Te,Fe)},[()=>chrome.runtime.getURL(u7),()=>{var ze;return l()("settings.showBlockedPages",{values:{count:((ze=c().pageList)==null?void 0:ze.length)+Object.keys(a(k)).length}})}]),b(ge,Oe)};W(ue,ge=>{var Oe;(((Oe=c().pageList)==null?void 0:Oe.length)>0||Object.keys(a(k)).length>0)&&ge(xe)})}var we=x(ue,2),me=v(we),ce=x(me,2),ye=v(ce),be=x(ce,2);be.__click=[b7,p];var ve=v(be),Se=x(ve),Ee=x(be,2);{var Be=ge=>{var Oe=S7();St(Oe,21,()=>Object.entries(Vi),zt,(Le,Re)=>{let Me=()=>a(Re)[0],Te=()=>a(Re)[1];var ze=k7();ze.__click=[w7,y,Te,T,Me,p];var Fe=v(ze);ae(()=>{$e(ze,`mb-1 ${(a(y)===Te()?"bg-indigo-50 text-indigo-600 rounded-lg font-extrabold":"font-normal text-[#151515B2]")??""} px-5 py-3 text-sm w-full hover:bg-indigo-100 hover:text-indigo-800 hover:rounded-lg`),Y(Fe,Te())}),b(Le,ze)}),b(ge,Oe)};W(Ee,ge=>{a(p)&&ge(Be)})}var Ae=x(A,2);Ae.__click=[C7];var Ce=x(D,2);{var _e=ge=>{Pc(ge,{get isVisible(){return a(w)},closeModal:()=>{g(w,!1)},get emailId(){return C},get telegramUserName(){return a(h)},get connectMethod(){return a(L)},comingFromAccount:!0})};W(Ce,ge=>{a(w)&&ge(_e)})}ae((ge,Oe,Le,Re,Me,Te,ze)=>{qe(D,"rounded-tl-lg",a(m)==="right"),qe(D,"rounded-bl-lg",a(m)==="right"),qe(D,"rounded-tr-lg",a(m)==="left"),qe(D,"rounded-br-lg",a(m)==="left"),pe(q,"src",ge),pe(se,"src",Oe),Y(K,Le),pe(X,"src",Oe),Y(fe,Re),pe(me,"src",Me),Y(ye,`${Te??""}:`),Y(ve,`${a(y)??""} `),$e(Se,`inline ${(a(p)?"-rotate-90":"rotate-90")??""}`),pe(Se,"src",ze)},[()=>chrome.runtime.getURL(d7),()=>chrome.runtime.getURL(c7),()=>l()("settings.hideOnThisPage"),()=>l()("settings.hideOnThisDomain"),()=>chrome.runtime.getURL(U_),()=>l()("popup.selectLang"),()=>chrome.runtime.getURL(Ly)]),b(t,M),Ke(),n()}Tt(["click"]);const P7="/assets/meter-VqDfW5aa.svg",D7="/assets/hand-C5GJzJNy.svg";var L7=H('<div><div class="relative inline-block"><img alt="speedometer" class="w-full"> <img alt="hands" class="absolute left-0 top-0"> <div class="absolute -bottom-4 left-0 text-[10px] font-medium text-red-500">0</div> <div class="absolute -bottom-4 right-0 text-[10px] font-medium text-green-500">100</div></div></div>');function $u(t,e){let r=R(e,"width",3,150),n=R(e,"dropPercentage",3,0),i=R(e,"wrapperClass",3,"p-4");const o=chrome.runtime.getURL(P7),s=chrome.runtime.getURL(D7);var l=L7(),c=v(l),d=v(c);pe(d,"src",o);var u=x(d,2);pe(u,"src",s),ae(()=>{$e(l,`flex flex-col items-center ${i()??""}`),pe(c,"style",`width: ${r()??""}px`),pe(u,"style",`transform: rotate(${n()*1.8}deg); width: ${r()}px;`)}),b(t,l)}const ss="/assets/info-DvBFrVCX.svg";var E7=H('<span class="text-red-500"> </span><br> <span class="text-xs text-surface-600 font-medium"> </span>',1),I7=H('<span class="text-orange-500"> </span><br> <span class="text-xs text-surface-600"> </span>',1),T7=H('<span class="text-lime-500"> </span> <br> <span class="text-xs font-medium text-surface-600"> </span>',1),O7=H('<span class="text-lime-500"> </span><br> <span class="text-xs text-surface-600 font-medium"> </span>',1),R7=H('<span class="text-green-500"> </span><br> <span class="text-xs text-surface-600 font-medium"> </span>',1),N7=H('<span class="text-green-600"> </span><br> <span class="text-xs text-surface-600 font-medium"> </span>',1),z7=H('<div class="flex flex-col items-center gap-2 flex-1"><div class="flex flex-col gap-2 w-full"><h4 class="text-base font-bold text-surface-950"> </h4></div> <div class="bg-surface-50 p-2 w-full rounded-lg"><div class="flex flex-col gap-1"><div class="flex gap-1 items-center"><!> <div class="relative group inline-block"><img alt="info icon" class="w-3 h-3"> <div class="absolute left-1/2 -translate-x-1/2 top-full mt-1 hidden group-hover:block bg-white text-surface-600 border rounded-md shadow-md w-40 p-2 z-10"><p class="text-[10px] font-medium"> </p> <ul class="text-[10px] font-medium mt-1"><li class="flex items-center gap-1"><span class="inline-block w-1 h-1 bg-surface-600 rounded-full"></span> <span class="font-bold"> </span> </li> <li class="flex items-center gap-1"><span class="inline-block w-1 h-1 bg-surface-600 rounded-full"></span><span class="font-bold"> </span> </li> <li class="flex items-center gap-1"><span class="inline-block w-1 h-1 bg-surface-600 rounded-full"></span> <span class="font-bold"> </span> </li></ul></div></div></div> <div class="flex"><p class="text-[10px] text-surface-600 font-medium"> </p></div></div> <div role="button" tabindex="0" class="flex gap-2"><div class="flex flex-col gap-2"><!> <div class="mx-auto"><p class="text-[10px] font-medium text-surface-600 flex gap-2 items-center"><span class="inline-block w-2 h-2 bg-red-500"></span> <span class="inline-block w-2 h-2 bg-green-500"></span> </p></div></div> <div class="flex flex-col justify-center"><p class="text-sm font-medium text-surface-600"> </p> <p class="text-sm sm:text-base font-bold mt-2"><!></p></div></div></div></div>');function B7(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(Js,"$priceHistoryStore",r),o=()=>ie(tr,"$LL",r);let s=le(ne({days:0,weeks:0,months:0})),l=le(ne(i().dropPercentage.days)),c=R(e,"width",3,200),d=[o()("common.2-3DAYS"),o()("common.1WEEK"),o()("common.1MONTH")],u=le("");mr(()=>{g(s,ne(i().dropPercentage))});const f=ce=>{g(u,ne(ce)),ce==="2-3 Days"||ce==="2D"?g(l,ne(a(s).days)):ce==="1 Week"?g(l,ne(a(s).weeks)):ce==="1 Month"&&g(l,ne(a(s).months))};var h=z7(),p=v(h),m=v(p),y=v(m),_=x(p,2),S=v(_),w=v(S),C=v(w);qu(C,{list:d,onSelectRange:f,widthClass:"w-fit",tabClass:"w-fit px-2 py-0.5",textSize:"text-xs font-medium text-nowrap whitespace-nowrap"});var L=x(C,2),k=v(L),P=x(k,2),z=v(P),T=v(z),M=x(z,2),D=v(M),A=x(v(D),2),O=v(A),I=x(A),B=x(D,2),j=x(v(B)),V=v(j),F=x(j),N=x(B,2),q=x(v(N),2),G=v(q),Q=x(q),Z=x(w,2),E=v(Z),U=v(E),$=x(S,2),ee=v($),se=v(ee);$u(se,{get dropPercentage(){return a(l)},get width(){return c()}});var oe=x(se,2),K=v(oe),J=x(v(K)),te=x(J,2),X=x(ee,2),re=v(X),fe=v(re),ue=x(re,2),xe=v(ue);{var we=ce=>{var ye=E7(),be=de(ye),ve=v(be),Se=x(be,3),Ee=v(Se);ae((Be,Ae)=>{Y(ve,Be),Y(Ee,Ae)},[()=>o()("priceHistory.priceDropComponent.holdOff"),()=>o()("priceHistory.priceDropComponent.strongDropExpected")]),b(ce,ye)},me=ce=>{var ye=ke(),be=de(ye);{var ve=Ee=>{var Be=I7(),Ae=de(Be),Ce=v(Ae),_e=x(Ae,3),ge=v(_e);ae((Oe,Le)=>{Y(Ce,Oe),Y(ge,Le)},[()=>o()("priceHistory.priceDropComponent.waitForSavings"),()=>o()("priceHistory.priceAlertComponent.setPriceAlert")]),b(Ee,Be)},Se=Ee=>{var Be=ke(),Ae=de(Be);{var Ce=ge=>{var Oe=ke(),Le=de(Oe);{var Re=Te=>{var ze=T7(),Fe=de(ze),Ye=v(Fe),Je=x(Fe,4),et=v(Je);ae((Ze,Ge)=>{Y(Ye,Ze),Y(et,Ge)},[()=>o()("priceHistory.priceDropComponent.fairValue"),()=>o()("priceHistory.priceDropComponent.acceptableToPurchaseNow")]),b(Te,ze)},Me=Te=>{var ze=O7(),Fe=de(ze),Ye=v(Fe),Je=x(Fe,3),et=v(Je);ae((Ze,Ge)=>{Y(Ye,Ze),Y(et,Ge)},[()=>o()("priceHistory.priceDropComponent.waitForBetterValue"),()=>o()("priceHistory.priceDropComponent.lowRiskOfPriceHike")]),b(Te,ze)};W(Le,Te=>{a(u)==="2-3 Days"||a(u)==="2D"?Te(Re):Te(Me,!1)})}b(ge,Oe)},_e=ge=>{var Oe=ke(),Le=de(Oe);{var Re=Te=>{var ze=R7(),Fe=de(ze),Ye=v(Fe),Je=x(Fe,3),et=v(Je);ae((Ze,Ge)=>{Y(Ye,Ze),Y(et,Ge)},[()=>o()("priceHistory.priceDropComponent.itsgoodTime"),()=>o()("priceHistory.priceDropComponent.priceIsStable")]),b(Te,ze)},Me=Te=>{var ze=N7(),Fe=de(ze),Ye=v(Fe),Je=x(Fe,3),et=v(Je);ae((Ze,Ge)=>{Y(Ye,Ze),Y(et,Ge)},[()=>o()("common.buyNow"),()=>o()("priceHistory.priceDropComponent.OptimalPricePoint")]),b(Te,ze)};W(Le,Te=>{a(l)<=80?Te(Re):Te(Me,!1)},!0)}b(ge,Oe)};W(Ae,ge=>{a(l)<=60?ge(Ce):ge(_e,!1)},!0)}b(Ee,Be)};W(be,Ee=>{a(l)<=40?Ee(ve):Ee(Se,!1)},!0)}b(ce,ye)};W(xe,ce=>{a(l)<=20?ce(we):ce(me,!1)})}ae((ce,ye,be,ve,Se,Ee,Be,Ae,Ce,_e,ge,Oe,Le)=>{Y(y,ce),pe(k,"src",ye),Y(T,be),Y(O,ve),Y(I,`: ${Se??""}`),Y(V,Ee),Y(F,`: ${Be??""}`),Y(G,Ae),Y(Q,`:
								${Ce??""}`),Y(U,_e),Y(J,` ${ge??""} `),Y(te,` ${Oe??""}`),Y(fe,Le)},[()=>o()("priceHistory.priceDropComponent.shouldYouBuyNow"),()=>chrome.runtime.getURL(ss),()=>o()("priceHistory.priceDropComponent.wePredictBasedOnUrgency"),()=>o()("common.2-3DAYS"),()=>o()("priceHistory.priceDropComponent.needItFast"),()=>o()("common.1WEEK"),()=>o()("priceHistory.priceDropComponent.needItSoon"),()=>o()("common.1MONTH"),()=>o()("priceHistory.priceDropComponent.willingToWait"),()=>o()("priceHistory.priceDropComponent.selectBasedOnYourNeed"),()=>o()("common.badTime"),()=>o()("common.goodTime"),()=>o()("priceHistory.priceDropComponent.ourRecommendation")]),b(t,h),Ke(),n()}function j7(t,e,r,n,i){const o=t.target;g(e,ne(o.value));const s=Number(a(e));isNaN(s)||s<0?(g(r,!1),g(n,"Please enter a valid price")):s>i.currentPrice?(g(r,!1),g(n,"Please enter a price less than the current price")):(g(r,!0),g(n,""))}async function F7(t,e,r,n,i,o){g(e,!1),g(r,ne({...a(n),isPriceAlertSet:!0,target_price:Number(a(i))})),o.handleInputValue(a(i))}var U7=H('<p class="text-[10px] text-red-500"> </p>'),V7=(t,e,r,n,i)=>{g(e,ne(a(r))),g(n,!0),g(i,!0)},W7=H('<button class="px-4 py-3 max-h-12 rounded-lg font-semibold border border-primary-100 text-sm text-surface-950 hover:bg-primary-50 hover:text-primary-600"> </button>'),H7=H('<div class="absolute left-0 z-50 mt-1 rounded-xl border border-surface-300 bg-white px-[10px] py-4 shadow-md transition-all"><div class="absolute w-2 h-2 bg-white border-primary-100 rotate-45"></div> <p class="text-surface-950 font-medium text-xs mb-2"> </p> <div class="flex gap-3"></div></div>'),q7=H('<div class="flex flex-col gap-2 relative"><h1 class="text-base font-bold text-surface-950"> </h1> <div class="flex items-center rounded-md border p-1"><div class="flex items-center gap-3 px-2 flex-grow min-w-0"><!> <input type="text" class="text-base font-medium text-gray-900 placeholder:text-surface-500 flex-grow min-w-0 outline-none"></div> <button class="rounded-md px-3 py-2 text-sm font-bold whitespace-nowrap disabled:opacity-50"> </button></div> <!> <!></div> <!> <!>',1);function G7(t,e){var oe;Xe(e,!0);const[r,n]=ct(),i=()=>ie(Sc,"$priceAlertStore",r),o=()=>ie(fn,"$nonPersistAppStore",r),s=()=>ie(tr,"$LL",r);let l=le(ne(((oe=e.currentPrice)==null?void 0:oe.toString())||"")),c=le(!0),d=le(!1),u=le(""),f=le(null),h=le(null),p=le(!0),m=le(!1),y=Ne(()=>i().showSuccessModal),_=Ne(()=>o().productDetails),S=le(ne(a(_))),w=Ne(()=>Wy(e.currentPrice));const C=async()=>{g(m,!1)},L=()=>{co(!1)};function k(){if(!a(f)||!a(h))return;const K=a(f).getBoundingClientRect(),J=window.innerHeight;g(p,J-K.bottom<160)}const P=()=>{g(d,!0),setTimeout(()=>{k()},0)},z=()=>{g(d,!1)},T=()=>{co(!1),un({selectedOption:"priceAlert"})},M=()=>{co(!1),g(m,!0)};var D=q7(),A=de(D),O=v(A),I=v(O),B=x(O,2),j=v(B),V=v(j);up(V,{});var F=x(V,2);F.__input=[j7,l,c,u,e],Ar(F,K=>g(f,K),()=>a(f));var N=x(j,2);N.__click=[F7,d,S,_,l,e];var q=v(N),G=x(B,2);{var Q=K=>{var J=U7(),te=v(J);ae(()=>Y(te,a(u))),b(K,J)};W(G,K=>{a(c)||K(Q)})}var Z=x(G,2);{var E=K=>{var J=H7(),te=v(J),X=x(te,2),re=v(X),fe=x(X,2);St(fe,21,()=>a(w),zt,(ue,xe)=>{var we=W7();we.__mousedown=[V7,l,xe,d,c];var me=v(we);ae(ce=>Y(me,`${o().currencySymbol??""}${ce??""}`),[()=>kn(a(xe),{locale:o().currencyCode})]),b(ue,we)}),Ar(J,ue=>g(h,ue),()=>a(h)),ae(ue=>{pe(J,"style",`top: ${a(p)?"auto":"100%"}; transform: translateY(${a(p)?"-75%":"0"});`),qe(te,"-top-1",!a(p)),qe(te,"-bottom-1",a(p)),qe(te,"left-10",!a(p)),qe(te,"right-10",a(p)),qe(te,"border-l",!a(p)),qe(te,"border-t",!a(p)),qe(te,"border-b",a(p)),qe(te,"border-r",a(p)),Y(re,ue)},[()=>s()("priceHistory.priceAlertComponent.suggestLowerPrices")]),b(K,J)};W(Z,K=>{a(d)&&a(l)===""&&K(E)})}var U=x(A,2);{var $=K=>{Pc(K,{get isVisible(){return a(m)},closeModal:C})};W(U,K=>{a(m)&&K($)})}var ee=x(U,2);{var se=K=>{O_(K,{get currentProduct(){return a(S)},get isVisible(){return a(y)},closeModal:L,viewAllAlerts:T,addEmail:M})};W(ee,K=>{a(y)&&K(se)})}ae((K,J,te)=>{Y(I,K),qe(B,"border-red-500",!a(c)),qe(B,"border-surface-300",a(c)),ri(F,a(l)),pe(F,"placeholder",J),N.disabled=!a(c),qe(N,"bg-primary-50",!a(c)),qe(N,"text-primary-600",!a(c)),qe(N,"bg-primary-600",a(d)||a(c)),qe(N,"text-white",a(d)||a(c)),Y(q,te)},[()=>s()("priceHistory.priceAlertComponent.setPriceDropAlert"),()=>s()("priceHistory.priceAlertComponent.inputPlaceholder"),()=>s()("priceHistory.priceAlertComponent.setPriceAlert")]),tt("focus",F,P),tt("blur",F,z),b(t,D),Ke(),n()}Tt(["input","click","mousedown"]);function $7(t){return t===0?!0:t}function ro(t){return $7(t)?Array.isArray(t)?e=>t.map(r=>typeof r!="function"?e[r]:r(e)):typeof t!="function"?e=>e[t]:t:null}function Pf(t,e={}){return Object.fromEntries(Object.entries(t).filter(([r,n])=>n!==void 0&&e[r]===void 0))}function Y7(t,e=300){let r;return(...n)=>{clearTimeout(r),r=setTimeout(()=>{t.apply(this,n)},e)}}function _i(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function X7(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ic(t){let e,r,n;t.length!==2?(e=_i,r=(l,c)=>_i(t(l),c),n=(l,c)=>t(l)-c):(e=t===_i||t===X7?t:K7,r=t,n=t);function i(l,c,d=0,u=l.length){if(d<u){if(e(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<0?d=f+1:u=f}while(d<u)}return d}function o(l,c,d=0,u=l.length){if(d<u){if(e(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function s(l,c,d=0,u=l.length){const f=i(l,c,d,u-1);return f>d&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:s,right:o}}function K7(){return 0}function Q7(t){return t===null?NaN:+t}function*J7(t,e){if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(n=+n)>=n&&(yield n)}}const Z7=ic(_i),eC=Z7.right;ic(Q7).center;function Ga(t,e){let r,n;if(e===void 0)for(const i of t)i!=null&&(r===void 0?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(r===void 0?o>=o&&(r=n=o):(r>o&&(r=o),n<o&&(n=o)))}return[r,n]}class si{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const r=this._partials;let n=0;for(let i=0;i<this._n&&i<32;i++){const o=r[i],s=e+o,l=Math.abs(e)<Math.abs(o)?e-(s-o):o-(s-e);l&&(r[n++]=l),e=s}return r[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let r=this._n,n,i,o,s=0;if(r>0){for(s=e[--r];r>0&&(n=s,i=e[--r],s=n+i,o=i-(s-n),!o););r>0&&(o<0&&e[r-1]<0||o>0&&e[r-1]>0)&&(i=o*2,n=s+i,i==n-s&&(s=n))}return s}}class Ng extends Map{constructor(e,r=H_){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(zh(this,e))}has(e){return super.has(zh(this,e))}set(e,r){return super.set(V_(this,e),r)}delete(e){return super.delete(W_(this,e))}}class tC extends Set{constructor(e,r=H_){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const n of e)this.add(n)}has(e){return super.has(zh(this,e))}add(e){return super.add(V_(this,e))}delete(e){return super.delete(W_(this,e))}}function zh({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function V_({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function W_({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function H_(t){return t!==null&&typeof t=="object"?t.valueOf():t}function rC(t=_i){if(t===_i)return q_;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function q_(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const nC=Math.sqrt(50),aC=Math.sqrt(10),iC=Math.sqrt(2);function Vd(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),s=o>=nC?10:o>=aC?5:o>=iC?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/s,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*s,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=r&&r<2?Vd(t,e,r*2):[l,c,d]}function oC(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,o,s]=n?Vd(e,t,r):Vd(t,e,r);if(!(o>=i))return[];const l=o-i+1,c=new Array(l);if(n)if(s<0)for(let d=0;d<l;++d)c[d]=(o-d)/-s;else for(let d=0;d<l;++d)c[d]=(o-d)*s;else if(s<0)for(let d=0;d<l;++d)c[d]=(i+d)/-s;else for(let d=0;d<l;++d)c[d]=(i+d)*s;return c}function Bh(t,e,r){return e=+e,t=+t,r=+r,Vd(t,e,r)[2]}function jh(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Bh(e,t,r):Bh(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function sn(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function nn(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function G_(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?q_:rC(i);n>r;){if(n-r>600){const c=n-r+1,d=e-r+1,u=Math.log(c),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),p=Math.max(r,Math.floor(e-d*f/c+h)),m=Math.min(n,Math.floor(e+(c-d)*f/c+h));G_(t,e,p,m,i)}const o=t[e];let s=r,l=n;for(ml(t,r,e),i(t[n],o)>0&&ml(t,r,n);s<l;){for(ml(t,s,l),++s,--l;i(t[s],o)<0;)++s;for(;i(t[l],o)>0;)--l}i(t[r],o)===0?ml(t,r,l):(++l,ml(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function ml(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function sC(t,e=_i){let r,n=!1;if(e.length===1){let i;for(const o of t){const s=e(o);(n?_i(s,i)>0:_i(s,s)===0)&&(r=o,i=s,n=!0)}}else for(const i of t)(n?e(i,r)>0:e(i,i)===0)&&(r=i,n=!0);return r}function lC(t,e,r){if(t=Float64Array.from(J7(t,r)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return nn(t);if(e>=1)return sn(t);var n,i=(n-1)*e,o=Math.floor(i),s=sn(G_(t,o).subarray(0,o+1)),l=nn(t.subarray(o+1));return s+(l-s)*(i-o)}}function*cC(t){for(const e of t)yield*e}function $_(t){return Array.from(cC(t))}function oc(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,o=new Array(i);++n<i;)o[n]=t+n*r;return o}function dC(t,e){let r=0;if(e===void 0)for(let n of t)(n=+n)&&(r+=n);else{let n=-1;for(let i of t)(i=+e(i,++n,t))&&(r+=i)}return r}function uC(t,e,r={}){if(!Array.isArray(t))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof t}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(e)||e===void 0||e===null)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const n={},i=Object.keys(e),o=i.length;let s,l,c,d,u,f,h;const p=t.length;for(s=0;s<o;s+=1){for(h=new tC,d=i[s],u=e[d],l=0;l<p;l+=1)if(f=u(t[l]),Array.isArray(f)){const y=f.length;for(c=0;c<y;c+=1)h.add(f[c])}else h.add(f);const m=Array.from(h);(r.sort===!0||r[d]===!0)&&m.sort(_i),n[d]=m}return n}function fC(t,e){if(!Array.isArray(t))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof t}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(e)||e===void 0||e===null)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const r={},n=Object.keys(e),i=n.length;let o,s,l,c,d,u,f,h;const p=t.length;for(o=0;o<i;o+=1){for(c=n[o],f=e[c],d=null,u=null,s=0;s<p;s+=1)if(h=f(t[s],s),Array.isArray(h)){const m=h.length;for(l=0;l<m;l+=1)h[l]!==!1&&h[l]!==void 0&&h[l]!==null&&Number.isNaN(h[l])===!1&&((d===null||h[l]<d)&&(d=h[l]),(u===null||h[l]>u)&&(u=h[l]))}else h!==!1&&h!==void 0&&h!==null&&Number.isNaN(h)===!1&&((d===null||h<d)&&(d=h),(u===null||h>u)&&(u=h));r[c]=[d,u]}return r}function Ol(t,e){return t.length!==e.length?!1:t.every(r=>e.includes(r))}function Y_(t){return!!(typeof t.bandwidth=="function"||Ol(Object.keys(t),["domain","range","unknown","copy"]))}function vC(t,e,r){const n=Object.entries(r).reduce((o,[s,l])=>{const c=Y_(l.scale)===!0?"ordinal":"other";return o[c]||(o[c]={}),o[c][s]=e[s],o},{ordinal:!1,other:!1});let i={};if(n.ordinal){const o=Object.fromEntries(Object.entries(r).map(([s,l])=>[s,l.sort]));i=uC(t,n.ordinal,o)}return n.other&&(i={...i,...fC(t,n.other)}),i}function hC(t=[],e){return Array.isArray(e)===!0?e.map((r,n)=>r===null?t[n]:r):t}function Xc(t){return function([r,n]){return typeof n=="function"&&(n=n(r[t])),r?hC(r[t],n):n}}function Dc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const zg=Symbol("implicit");function sc(){var t=new Ng,e=[],r=[],n=zg;function i(o){let s=t.get(o);if(s===void 0){if(n!==zg)return n;t.set(o,s=e.push(o)-1)}return r[s%r.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Ng;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return sc(e,r).unknown(n)},Dc.apply(i,arguments),i}function Fh(){var t=sc().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,o,s,l=!1,c=0,d=0,u=.5;delete t.unknown;function f(){var h=e().length,p=i<n,m=p?i:n,y=p?n:i;o=(y-m)/Math.max(1,h-c+d*2),l&&(o=Math.floor(o)),m+=(y-m-o*(h-c))*u,s=o*(1-c),l&&(m=Math.round(m),s=Math.round(s));var _=oc(h).map(function(S){return m+o*S});return r(p?_.reverse():_)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(l=!!h,f()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,d=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(d=+h,f()):d},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},t.copy=function(){return Fh(e(),[n,i]).round(l).paddingInner(c).paddingOuter(d).align(u)},Dc.apply(f(),arguments)}function gp(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function X_(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Lc(){}var lc=.7,Wd=1/lc,Ls="\\s*([+-]?\\d+)\\s*",cc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pC=/^#([0-9a-f]{3,8})$/,gC=new RegExp(`^rgb\\(${Ls},${Ls},${Ls}\\)$`),mC=new RegExp(`^rgb\\(${bi},${bi},${bi}\\)$`),xC=new RegExp(`^rgba\\(${Ls},${Ls},${Ls},${cc}\\)$`),yC=new RegExp(`^rgba\\(${bi},${bi},${bi},${cc}\\)$`),_C=new RegExp(`^hsl\\(${cc},${bi},${bi}\\)$`),bC=new RegExp(`^hsla\\(${cc},${bi},${bi},${cc}\\)$`),Bg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gp(Lc,dc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:jg,formatHex:jg,formatHex8:wC,formatHsl:kC,formatRgb:Fg,toString:Fg});function jg(){return this.rgb().formatHex()}function wC(){return this.rgb().formatHex8()}function kC(){return K_(this).formatHsl()}function Fg(){return this.rgb().formatRgb()}function dc(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=pC.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Ug(e):r===3?new ya(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Kc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Kc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=gC.exec(t))?new ya(e[1],e[2],e[3],1):(e=mC.exec(t))?new ya(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=xC.exec(t))?Kc(e[1],e[2],e[3],e[4]):(e=yC.exec(t))?Kc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=_C.exec(t))?Hg(e[1],e[2]/100,e[3]/100,1):(e=bC.exec(t))?Hg(e[1],e[2]/100,e[3]/100,e[4]):Bg.hasOwnProperty(t)?Ug(Bg[t]):t==="transparent"?new ya(NaN,NaN,NaN,0):null}function Ug(t){return new ya(t>>16&255,t>>8&255,t&255,1)}function Kc(t,e,r,n){return n<=0&&(t=e=r=NaN),new ya(t,e,r,n)}function SC(t){return t instanceof Lc||(t=dc(t)),t?(t=t.rgb(),new ya(t.r,t.g,t.b,t.opacity)):new ya}function Hd(t,e,r,n){return arguments.length===1?SC(t):new ya(t,e,r,n??1)}function ya(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}gp(ya,Hd,X_(Lc,{brighter(t){return t=t==null?Wd:Math.pow(Wd,t),new ya(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?lc:Math.pow(lc,t),new ya(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ya(Fo(this.r),Fo(this.g),Fo(this.b),qd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vg,formatHex:Vg,formatHex8:CC,formatRgb:Wg,toString:Wg}));function Vg(){return`#${Oo(this.r)}${Oo(this.g)}${Oo(this.b)}`}function CC(){return`#${Oo(this.r)}${Oo(this.g)}${Oo(this.b)}${Oo((isNaN(this.opacity)?1:this.opacity)*255)}`}function Wg(){const t=qd(this.opacity);return`${t===1?"rgb(":"rgba("}${Fo(this.r)}, ${Fo(this.g)}, ${Fo(this.b)}${t===1?")":`, ${t})`}`}function qd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Fo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Oo(t){return t=Fo(t),(t<16?"0":"")+t.toString(16)}function Hg(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ii(t,e,r,n)}function K_(t){if(t instanceof ii)return new ii(t.h,t.s,t.l,t.opacity);if(t instanceof Lc||(t=dc(t)),!t)return new ii;if(t instanceof ii)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),s=NaN,l=o-i,c=(o+i)/2;return l?(e===o?s=(r-n)/l+(r<n)*6:r===o?s=(n-e)/l+2:s=(e-r)/l+4,l/=c<.5?o+i:2-o-i,s*=60):l=c>0&&c<1?0:s,new ii(s,l,c,t.opacity)}function AC(t,e,r,n){return arguments.length===1?K_(t):new ii(t,e,r,n??1)}function ii(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}gp(ii,AC,X_(Lc,{brighter(t){return t=t==null?Wd:Math.pow(Wd,t),new ii(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?lc:Math.pow(lc,t),new ii(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new ya(Df(t>=240?t-240:t+120,i,n),Df(t,i,n),Df(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new ii(qg(this.h),Qc(this.s),Qc(this.l),qd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=qd(this.opacity);return`${t===1?"hsl(":"hsla("}${qg(this.h)}, ${Qc(this.s)*100}%, ${Qc(this.l)*100}%${t===1?")":`, ${t})`}`}}));function qg(t){return t=(t||0)%360,t<0?t+360:t}function Qc(t){return Math.max(0,Math.min(1,t||0))}function Df(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const mp=t=>()=>t;function MC(t,e){return function(r){return t+r*e}}function PC(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function DC(t){return(t=+t)==1?Q_:function(e,r){return r-e?PC(e,r,t):mp(isNaN(e)?r:e)}}function Q_(t,e){var r=e-t;return r?MC(t,r):mp(isNaN(t)?e:t)}const Gg=function t(e){var r=DC(e);function n(i,o){var s=r((i=Hd(i)).r,(o=Hd(o)).r),l=r(i.g,o.g),c=r(i.b,o.b),d=Q_(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=l(u),i.b=c(u),i.opacity=d(u),i+""}}return n.gamma=t,n}(1);function LC(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=t[i]*(1-o)+e[i]*o;return n}}function EC(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function IC(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),o=new Array(r),s;for(s=0;s<n;++s)i[s]=uc(t[s],e[s]);for(;s<r;++s)o[s]=e[s];return function(l){for(s=0;s<n;++s)o[s]=i[s](l);return o}}function TC(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Gd(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function OC(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=uc(t[i],e[i]):n[i]=e[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var Uh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lf=new RegExp(Uh.source,"g");function RC(t){return function(){return t}}function NC(t){return function(e){return t(e)+""}}function zC(t,e){var r=Uh.lastIndex=Lf.lastIndex=0,n,i,o,s=-1,l=[],c=[];for(t=t+"",e=e+"";(n=Uh.exec(t))&&(i=Lf.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),l[s]?l[s]+=o:l[++s]=o),(n=n[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:Gd(n,i)})),r=Lf.lastIndex;return r<e.length&&(o=e.slice(r),l[s]?l[s]+=o:l[++s]=o),l.length<2?c[0]?NC(c[0].x):RC(e):(e=c.length,function(d){for(var u=0,f;u<e;++u)l[(f=c[u]).i]=f.x(d);return l.join("")})}function uc(t,e){var r=typeof e,n;return e==null||r==="boolean"?mp(e):(r==="number"?Gd:r==="string"?(n=dc(e))?(e=n,Gg):zC:e instanceof dc?Gg:e instanceof Date?TC:EC(e)?LC:Array.isArray(e)?IC:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?OC:Gd)(t,e)}function J_(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function $g(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t(n/(e-1));return r}function BC(t){return function(){return t}}function jC(t){return+t}var Yg=[0,1];function mi(t){return t}function Vh(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:BC(isNaN(e)?NaN:.5)}function FC(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function UC(t,e,r){var n=t[0],i=t[1],o=e[0],s=e[1];return i<n?(n=Vh(i,n),o=r(s,o)):(n=Vh(n,i),o=r(o,s)),function(l){return o(n(l))}}function VC(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),o=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=Vh(t[s],t[s+1]),o[s]=r(e[s],e[s+1]);return function(l){var c=eC(t,l,1,n)-1;return o[c](i[c](l))}}function xp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Z_(){var t=Yg,e=Yg,r=uc,n,i,o,s=mi,l,c,d;function u(){var h=Math.min(t.length,e.length);return s!==mi&&(s=FC(t[0],t[h-1])),l=h>2?VC:UC,c=d=null,f}function f(h){return h==null||isNaN(h=+h)?o:(c||(c=l(t.map(n),e,r)))(n(s(h)))}return f.invert=function(h){return s(i((d||(d=l(e,t.map(n),Gd)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,jC),u()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=J_,u()},f.clamp=function(h){return arguments.length?(s=h?!0:mi,u()):s!==mi},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return n=h,i=p,u()}}function e2(){return Z_()(mi,mi)}function WC(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function $d(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function js(t){return t=$d(Math.abs(t)),t?t[1]:NaN}function HC(t,e){return function(r,n){for(var i=r.length,o=[],s=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),o.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[s=(s+1)%t.length];return o.reverse().join(e)}}function qC(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var GC=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yd(t){if(!(e=GC.exec(t)))throw new Error("invalid format: "+t);var e;return new yp({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Yd.prototype=yp.prototype;function yp(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}yp.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $C(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var t2;function YC(t,e){var r=$d(t,e);if(!r)return t+"";var n=r[0],i=r[1],o=i-(t2=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return o===s?n:o>s?n+new Array(o-s+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+$d(t,Math.max(0,e+o-1))[0]}function Xg(t,e){var r=$d(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Kg={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:WC,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Xg(t*100,e),r:Xg,s:YC,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Qg(t){return t}var Jg=Array.prototype.map,Zg=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function XC(t){var e=t.grouping===void 0||t.thousands===void 0?Qg:HC(Jg.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Qg:qC(Jg.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"âˆ’":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(f){f=Yd(f);var h=f.fill,p=f.align,m=f.sign,y=f.symbol,_=f.zero,S=f.width,w=f.comma,C=f.precision,L=f.trim,k=f.type;k==="n"?(w=!0,k="g"):Kg[k]||(C===void 0&&(C=12),L=!0,k="g"),(_||h==="0"&&p==="=")&&(_=!0,h="0",p="=");var P=y==="$"?r:y==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",z=y==="$"?n:/[%p]/.test(k)?s:"",T=Kg[k],M=/[defgprs%]/.test(k);C=C===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function D(A){var O=P,I=z,B,j,V;if(k==="c")I=T(A)+I,A="";else{A=+A;var F=A<0||1/A<0;if(A=isNaN(A)?c:T(Math.abs(A),C),L&&(A=$C(A)),F&&+A==0&&m!=="+"&&(F=!1),O=(F?m==="("?m:l:m==="-"||m==="("?"":m)+O,I=(k==="s"?Zg[8+t2/3]:"")+I+(F&&m==="("?")":""),M){for(B=-1,j=A.length;++B<j;)if(V=A.charCodeAt(B),48>V||V>57){I=(V===46?i+A.slice(B+1):A.slice(B))+I,A=A.slice(0,B);break}}}w&&!_&&(A=e(A,1/0));var N=O.length+A.length+I.length,q=N<S?new Array(S-N+1).join(h):"";switch(w&&_&&(A=e(q+A,q.length?S-I.length:1/0),q=""),p){case"<":A=O+A+I+q;break;case"=":A=O+q+A+I;break;case"^":A=q.slice(0,N=q.length>>1)+O+A+I+q.slice(N);break;default:A=q+O+A+I;break}return o(A)}return D.toString=function(){return f+""},D}function u(f,h){var p=d((f=Yd(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(js(h)/3)))*3,y=Math.pow(10,-m),_=Zg[8+m/3];return function(S){return p(y*S)+_}}return{format:d,formatPrefix:u}}var Jc,r2,n2;KC({thousands:",",grouping:[3],currency:["$",""]});function KC(t){return Jc=XC(t),r2=Jc.format,n2=Jc.formatPrefix,Jc}function QC(t){return Math.max(0,-js(Math.abs(t)))}function JC(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(js(e)/3)))*3-js(Math.abs(t)))}function ZC(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,js(e)-js(t))+1}function eA(t,e,r,n){var i=jh(t,e,r),o;switch(n=Yd(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=JC(i,s))&&(n.precision=o),n2(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=ZC(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=QC(i))&&(n.precision=o-(n.type==="%")*2);break}}return r2(n)}function a2(t){var e=t.domain;return t.ticks=function(r){var n=e();return oC(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return eA(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,o=n.length-1,s=n[i],l=n[o],c,d,u=10;for(l<s&&(d=s,s=l,l=d,d=i,i=o,o=d);u-- >0;){if(d=Bh(s,l,r),d===c)return n[i]=s,n[o]=l,e(n);if(d>0)s=Math.floor(s/d)*d,l=Math.ceil(l/d)*d;else if(d<0)s=Math.ceil(s*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function Uo(){var t=e2();return t.copy=function(){return xp(t,Uo())},Dc.apply(t,arguments),a2(t)}function tA(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],o=t[n],s;return o<i&&(s=r,r=n,n=s,s=i,i=o,o=s),t[r]=e.floor(i),t[n]=e.ceil(o),t}function em(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function rA(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function nA(t){return t<0?-t*t:t*t}function aA(t){var e=t(mi,mi),r=1;function n(){return r===1?t(mi,mi):r===.5?t(rA,nA):t(em(r),em(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},a2(e)}function i2(){var t=aA(Z_());return t.copy=function(){return xp(t,i2()).exponent(t.exponent())},Dc.apply(t,arguments),t}function iA(){return i2.apply(null,arguments).exponent(.5)}const Ef=new Date,If=new Date;function jn(t,e,r,n){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),l=i.ceil(o);return o-s<l-o?s:l},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,l)=>{const c=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<s)||!(l>0))return c;let d;do c.push(d=new Date(+o)),e(o,l),t(o);while(d<o&&o<s);return c},i.filter=o=>jn(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!o(s););else for(;--l>=0;)for(;e(s,1),!o(s););}),r&&(i.count=(o,s)=>(Ef.setTime(+o),If.setTime(+s),t(Ef),t(If),Math.floor(r(Ef,If))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?s=>n(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Fs=jn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Fs.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?jn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Fs);Fs.range;const Bi=1e3,Wa=Bi*60,ji=Wa*60,qi=ji*24,_p=qi*7,tm=qi*30,Tf=qi*365,xi=jn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Bi)},(t,e)=>(e-t)/Bi,t=>t.getUTCSeconds());xi.range;const uo=jn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bi)},(t,e)=>{t.setTime(+t+e*Wa)},(t,e)=>(e-t)/Wa,t=>t.getMinutes());uo.range;const oA=jn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Wa)},(t,e)=>(e-t)/Wa,t=>t.getUTCMinutes());oA.range;const Us=jn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bi-t.getMinutes()*Wa)},(t,e)=>{t.setTime(+t+e*ji)},(t,e)=>(e-t)/ji,t=>t.getHours());Us.range;const sA=jn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ji)},(t,e)=>(e-t)/ji,t=>t.getUTCHours());sA.range;const ls=jn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Wa)/qi,t=>t.getDate()-1);ls.range;const bp=jn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qi,t=>t.getUTCDate()-1);bp.range;const lA=jn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qi,t=>Math.floor(t/qi));lA.range;function cs(t){return jn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Wa)/_p)}const Ec=cs(0),Xd=cs(1),cA=cs(2),dA=cs(3),Vs=cs(4),uA=cs(5),fA=cs(6);Ec.range;Xd.range;cA.range;dA.range;Vs.range;uA.range;fA.range;function ds(t){return jn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/_p)}const o2=ds(0),Kd=ds(1),vA=ds(2),hA=ds(3),Ws=ds(4),pA=ds(5),gA=ds(6);o2.range;Kd.range;vA.range;hA.range;Ws.range;pA.range;gA.range;const Go=jn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Go.range;const mA=jn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());mA.range;const $a=jn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());$a.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});$a.range;const $o=jn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());$o.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});$o.range;function xA(t,e,r,n,i,o){const s=[[xi,1,Bi],[xi,5,5*Bi],[xi,15,15*Bi],[xi,30,30*Bi],[o,1,Wa],[o,5,5*Wa],[o,15,15*Wa],[o,30,30*Wa],[i,1,ji],[i,3,3*ji],[i,6,6*ji],[i,12,12*ji],[n,1,qi],[n,2,2*qi],[r,1,_p],[e,1,tm],[e,3,3*tm],[t,1,Tf]];function l(d,u,f){const h=u<d;h&&([d,u]=[u,d]);const p=f&&typeof f.range=="function"?f:c(d,u,f),m=p?p.range(d,+u+1):[];return h?m.reverse():m}function c(d,u,f){const h=Math.abs(u-d)/f,p=ic(([,,_])=>_).right(s,h);if(p===s.length)return t.every(jh(d/Tf,u/Tf,f));if(p===0)return Fs.every(Math.max(jh(d,u,f),1));const[m,y]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(y)}return[l,c]}const[yA,_A]=xA($a,Go,Ec,ls,Us,uo);function Of(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Rf(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function xl(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function bA(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,o=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,d=yl(i),u=_l(i),f=yl(o),h=_l(o),p=yl(s),m=_l(s),y=yl(l),_=_l(l),S=yl(c),w=_l(c),C={a:F,A:N,b:q,B:G,c:null,d:sm,e:sm,f:HA,g:eM,G:rM,H:UA,I:VA,j:WA,L:s2,m:qA,M:GA,p:Q,q:Z,Q:dm,s:um,S:$A,u:YA,U:XA,V:KA,w:QA,W:JA,x:null,X:null,y:ZA,Y:tM,Z:nM,"%":cm},L={a:E,A:U,b:$,B:ee,c:null,d:lm,e:lm,f:sM,g:mM,G:yM,H:aM,I:iM,j:oM,L:c2,m:lM,M:cM,p:se,q:oe,Q:dm,s:um,S:dM,u:uM,U:fM,V:vM,w:hM,W:pM,x:null,X:null,y:gM,Y:xM,Z:_M,"%":cm},k={a:D,A,b:O,B:I,c:B,d:im,e:im,f:zA,g:am,G:nm,H:om,I:om,j:TA,L:NA,m:IA,M:OA,p:M,q:EA,Q:jA,s:FA,S:RA,u:AA,U:MA,V:PA,w:CA,W:DA,x:j,X:V,y:am,Y:nm,Z:LA,"%":BA};C.x=P(r,C),C.X=P(n,C),C.c=P(e,C),L.x=P(r,L),L.X=P(n,L),L.c=P(e,L);function P(K,J){return function(te){var X=[],re=-1,fe=0,ue=K.length,xe,we,me;for(te instanceof Date||(te=new Date(+te));++re<ue;)K.charCodeAt(re)===37&&(X.push(K.slice(fe,re)),(we=rm[xe=K.charAt(++re)])!=null?xe=K.charAt(++re):we=xe==="e"?" ":"0",(me=J[xe])&&(xe=me(te,we)),X.push(xe),fe=re+1);return X.push(K.slice(fe,re)),X.join("")}}function z(K,J){return function(te){var X=xl(1900,void 0,1),re=T(X,K,te+="",0),fe,ue;if(re!=te.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(J&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(fe=Rf(xl(X.y,0,1)),ue=fe.getUTCDay(),fe=ue>4||ue===0?Kd.ceil(fe):Kd(fe),fe=bp.offset(fe,(X.V-1)*7),X.y=fe.getUTCFullYear(),X.m=fe.getUTCMonth(),X.d=fe.getUTCDate()+(X.w+6)%7):(fe=Of(xl(X.y,0,1)),ue=fe.getDay(),fe=ue>4||ue===0?Xd.ceil(fe):Xd(fe),fe=ls.offset(fe,(X.V-1)*7),X.y=fe.getFullYear(),X.m=fe.getMonth(),X.d=fe.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),ue="Z"in X?Rf(xl(X.y,0,1)).getUTCDay():Of(xl(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(ue+5)%7:X.w+X.U*7-(ue+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,Rf(X)):Of(X)}}function T(K,J,te,X){for(var re=0,fe=J.length,ue=te.length,xe,we;re<fe;){if(X>=ue)return-1;if(xe=J.charCodeAt(re++),xe===37){if(xe=J.charAt(re++),we=k[xe in rm?J.charAt(re++):xe],!we||(X=we(K,te,X))<0)return-1}else if(xe!=te.charCodeAt(X++))return-1}return X}function M(K,J,te){var X=d.exec(J.slice(te));return X?(K.p=u.get(X[0].toLowerCase()),te+X[0].length):-1}function D(K,J,te){var X=p.exec(J.slice(te));return X?(K.w=m.get(X[0].toLowerCase()),te+X[0].length):-1}function A(K,J,te){var X=f.exec(J.slice(te));return X?(K.w=h.get(X[0].toLowerCase()),te+X[0].length):-1}function O(K,J,te){var X=S.exec(J.slice(te));return X?(K.m=w.get(X[0].toLowerCase()),te+X[0].length):-1}function I(K,J,te){var X=y.exec(J.slice(te));return X?(K.m=_.get(X[0].toLowerCase()),te+X[0].length):-1}function B(K,J,te){return T(K,e,J,te)}function j(K,J,te){return T(K,r,J,te)}function V(K,J,te){return T(K,n,J,te)}function F(K){return s[K.getDay()]}function N(K){return o[K.getDay()]}function q(K){return c[K.getMonth()]}function G(K){return l[K.getMonth()]}function Q(K){return i[+(K.getHours()>=12)]}function Z(K){return 1+~~(K.getMonth()/3)}function E(K){return s[K.getUTCDay()]}function U(K){return o[K.getUTCDay()]}function $(K){return c[K.getUTCMonth()]}function ee(K){return l[K.getUTCMonth()]}function se(K){return i[+(K.getUTCHours()>=12)]}function oe(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var J=P(K+="",C);return J.toString=function(){return K},J},parse:function(K){var J=z(K+="",!1);return J.toString=function(){return K},J},utcFormat:function(K){var J=P(K+="",L);return J.toString=function(){return K},J},utcParse:function(K){var J=z(K+="",!0);return J.toString=function(){return K},J}}}var rm={"-":"",_:" ",0:"0"},$n=/^\s*\d+/,wA=/^%/,kA=/[\\^$*+?|[\]().{}]/g;function Kr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(e)+i:i)}function SA(t){return t.replace(kA,"\\$&")}function yl(t){return new RegExp("^(?:"+t.map(SA).join("|")+")","i")}function _l(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function CA(t,e,r){var n=$n.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function AA(t,e,r){var n=$n.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function MA(t,e,r){var n=$n.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function PA(t,e,r){var n=$n.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function DA(t,e,r){var n=$n.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function nm(t,e,r){var n=$n.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function am(t,e,r){var n=$n.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function LA(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function EA(t,e,r){var n=$n.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function IA(t,e,r){var n=$n.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function im(t,e,r){var n=$n.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function TA(t,e,r){var n=$n.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function om(t,e,r){var n=$n.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function OA(t,e,r){var n=$n.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function RA(t,e,r){var n=$n.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function NA(t,e,r){var n=$n.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function zA(t,e,r){var n=$n.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function BA(t,e,r){var n=wA.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function jA(t,e,r){var n=$n.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function FA(t,e,r){var n=$n.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function sm(t,e){return Kr(t.getDate(),e,2)}function UA(t,e){return Kr(t.getHours(),e,2)}function VA(t,e){return Kr(t.getHours()%12||12,e,2)}function WA(t,e){return Kr(1+ls.count($a(t),t),e,3)}function s2(t,e){return Kr(t.getMilliseconds(),e,3)}function HA(t,e){return s2(t,e)+"000"}function qA(t,e){return Kr(t.getMonth()+1,e,2)}function GA(t,e){return Kr(t.getMinutes(),e,2)}function $A(t,e){return Kr(t.getSeconds(),e,2)}function YA(t){var e=t.getDay();return e===0?7:e}function XA(t,e){return Kr(Ec.count($a(t)-1,t),e,2)}function l2(t){var e=t.getDay();return e>=4||e===0?Vs(t):Vs.ceil(t)}function KA(t,e){return t=l2(t),Kr(Vs.count($a(t),t)+($a(t).getDay()===4),e,2)}function QA(t){return t.getDay()}function JA(t,e){return Kr(Xd.count($a(t)-1,t),e,2)}function ZA(t,e){return Kr(t.getFullYear()%100,e,2)}function eM(t,e){return t=l2(t),Kr(t.getFullYear()%100,e,2)}function tM(t,e){return Kr(t.getFullYear()%1e4,e,4)}function rM(t,e){var r=t.getDay();return t=r>=4||r===0?Vs(t):Vs.ceil(t),Kr(t.getFullYear()%1e4,e,4)}function nM(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Kr(e/60|0,"0",2)+Kr(e%60,"0",2)}function lm(t,e){return Kr(t.getUTCDate(),e,2)}function aM(t,e){return Kr(t.getUTCHours(),e,2)}function iM(t,e){return Kr(t.getUTCHours()%12||12,e,2)}function oM(t,e){return Kr(1+bp.count($o(t),t),e,3)}function c2(t,e){return Kr(t.getUTCMilliseconds(),e,3)}function sM(t,e){return c2(t,e)+"000"}function lM(t,e){return Kr(t.getUTCMonth()+1,e,2)}function cM(t,e){return Kr(t.getUTCMinutes(),e,2)}function dM(t,e){return Kr(t.getUTCSeconds(),e,2)}function uM(t){var e=t.getUTCDay();return e===0?7:e}function fM(t,e){return Kr(o2.count($o(t)-1,t),e,2)}function d2(t){var e=t.getUTCDay();return e>=4||e===0?Ws(t):Ws.ceil(t)}function vM(t,e){return t=d2(t),Kr(Ws.count($o(t),t)+($o(t).getUTCDay()===4),e,2)}function hM(t){return t.getUTCDay()}function pM(t,e){return Kr(Kd.count($o(t)-1,t),e,2)}function gM(t,e){return Kr(t.getUTCFullYear()%100,e,2)}function mM(t,e){return t=d2(t),Kr(t.getUTCFullYear()%100,e,2)}function xM(t,e){return Kr(t.getUTCFullYear()%1e4,e,4)}function yM(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Ws(t):Ws.ceil(t),Kr(t.getUTCFullYear()%1e4,e,4)}function _M(){return"+0000"}function cm(){return"%"}function dm(t){return+t}function um(t){return Math.floor(+t/1e3)}var _s,u2;bM({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bM(t){return _s=bA(t),u2=_s.format,_s.parse,_s.utcFormat,_s.utcParse,_s}function wM(t){return new Date(t)}function kM(t){return t instanceof Date?+t:+new Date(+t)}function f2(t,e,r,n,i,o,s,l,c,d){var u=e2(),f=u.invert,h=u.domain,p=d(".%L"),m=d(":%S"),y=d("%I:%M"),_=d("%I %p"),S=d("%a %d"),w=d("%b %d"),C=d("%B"),L=d("%Y");function k(P){return(c(P)<P?p:l(P)<P?m:s(P)<P?y:o(P)<P?_:n(P)<P?i(P)<P?S:w:r(P)<P?C:L)(P)}return u.invert=function(P){return new Date(f(P))},u.domain=function(P){return arguments.length?h(Array.from(P,kM)):h().map(wM)},u.ticks=function(P){var z=h();return t(z[0],z[z.length-1],P??10)},u.tickFormat=function(P,z){return z==null?k:d(z)},u.nice=function(P){var z=h();return(!P||typeof P.range!="function")&&(P=e(z[0],z[z.length-1],P??10)),P?h(tA(z,P)):u},u.copy=function(){return xp(u,f2(t,e,r,n,i,o,s,l,c,d))},u}function SM(){return Dc.apply(f2(yA,_A,$a,Go,Ec,ls,Us,uo,xi,u2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}const Rl={x:Uo,y:Uo,z:Uo,r:iA};function CM(t){return t.constant?"symlog":t.base?"log":t.exponent?t.exponent()===.5?"sqrt":"pow":"other"}function fm(t){return t}function AM(t){return e=>Math.log(t*e)}function MM(t){return e=>t*Math.exp(e)}function PM(t){return e=>Math.sign(e)*Math.log1p(Math.abs(e/t))}function DM(t){return e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}function Zc(t){return function(r){return r<0?-Math.pow(-r,t):Math.pow(r,t)}}function LM(t){const e=CM(t);if(e==="log"){const r=Math.sign(t.domain()[0]);return{lift:AM(r),ground:MM(r),scaleType:e}}return e==="pow"?{lift:Zc(1),ground:Zc(1/1),scaleType:e}:e==="sqrt"?{lift:Zc(.5),ground:Zc(1/.5),scaleType:e}:e==="symlog"?{lift:PM(1),ground:DM(1),scaleType:e}:{lift:fm,ground:fm,scaleType:e}}function Qd(t){return t.replace(/^\w/,e=>e.toUpperCase())}function aa(t,e=""){return`scale${Qd(e)}${Qd(t)}`}function v2(t){if(typeof t.bandwidth=="function")return typeof t.paddingInner=="function"?aa("band"):aa("point");if(Ol(Object.keys(t),["domain","range","unknown","copy"]))return aa("ordinal");let e="";if(t.interpolator&&(t.domain().length===3?e="diverging":e="sequential"),t.quantiles)return aa("quantile",e);if(t.thresholds)return aa("quantize",e);if(t.constant)return aa("symlog",e);if(t.base)return aa("log",e);if(t.exponent)return t.exponent()===.5?aa("sqrt",e):aa("pow",e);if(Ol(Object.keys(t),["domain","range","invertExtent","unknown","copy"]))return aa("threshold");if(Ol(Object.keys(t),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return aa("identity");if(Ol(Object.keys(t),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return aa("radial");if(e)return aa(e);if(t.domain()[0]instanceof Date){const r=new Date;let n;return r.getDay=()=>n="time",r.getUTCDay=()=>n="utc",t.tickFormat(0,"%a")(r),aa(n)}return aa("linear")}const EM=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function IM(t,e){if(typeof t.range!="function")throw new Error("Scale method `range` must be a function");if(typeof t.domain!="function")throw new Error("Scale method `domain` must be a function");if(!Array.isArray(e)||EM.includes(v2(t))||Y_(t)===!0)return t.domain();const{lift:r,ground:n}=LM(t),i=t.domain()[0],o=Object.prototype.toString.call(i)==="[object Date]",[s,l]=t.domain().map(p=>r(o?p.getTime():p)),[c,d]=t.range(),u=e[0]||0,f=e[1]||0,h=(l-s)/(Math.abs(d-c)-u-f);return[s-u*h,f*h+l].map(p=>n(o?new Date(p):p))}function TM(t,e,r,n,i){let o,s;return i===!0?(o=0,s=100):(o=t==="r"?1:0,s=t==="y"?r:t==="r"?25:e),n===!0?[s,o]:[o,s]}function OM(t,e,r,n,i,o){return i?typeof i=="function"?i({width:e,height:r}):i:TM(t,e,r,n,o)}function ed(t){return function([r,n,i,o,s,l,c,d,u,f]){if(n===null)return null;const h=OM(t,c,d,l,u,f),p=r===Rl[t]?r():r.copy();return p.domain(i),(!p.interpolator||typeof p.interpolator=="function"&&p.interpolator().name.startsWith("identity"))&&p.range(h),o&&p.domain(IM(p,o)),(s===!0||typeof s=="number")&&(typeof p.nice=="function"?p.nice(typeof s=="number"?s:void 0):console.error(`[Layer Cake] You set \`${t}Nice: true\` but the ${t}Scale does not have a \`.nice\` method. Ignoring...`)),p}}function td([t,e]){return(r,n)=>{const i=t(r,n);return Array.isArray(i)?i.map(o=>e(o)):e(i)}}function rd([t]){if(typeof t=="function"){if(typeof t.range=="function")return t.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const Fa="    ";function RM(t){const{r:e,g:r,b:n,opacity:i}=Hd(t);return[e,r,n].every(o=>o>=0&&o<=255)?{r:e,g:r,b:n,o:i}:!1}function NM({r:t,g:e,b:r}){return(.2126*t+.7152*e+.0722*r)/255>.6?"black":"white"}function zM(t){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),BM(t.boundingBox),console.log("Data:"),console.log(Fa,t.data),t.flatData&&(console.log("flatData:"),console.log(Fa,t.flatData)),console.log("Scales:"),Object.keys(t.activeGetters).forEach(e=>{jM(e,t[`${e}Scale`],t[e])}),console.log(`/************ End LayerCake Debug ***************/
`)}function BM(t){Object.entries(t).forEach(([e,r])=>{console.log(`${Fa}${e}:`,r)})}function jM(t,e,r){const n=v2(e);console.log(`${Fa}${t}:`),console.log(`${Fa}${Fa}Accessor: "${r.toString()}"`),console.log(`${Fa}${Fa}Type: ${n}`),vm(e,"domain"),vm(e,"range"," ")}function vm(t,e,r=""){const n=t[e](),i=UM(n);i?FM(i,e,n):console.log(`${Fa}${Fa}${Qd(e)}:${r}`,n)}function FM(t,e,r){console.log(`${Fa}${Fa}${Qd(e)}:    %cArray%c(${r.length}) `+t[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...t[1],"color: #1478e4")}function UM(t){const e=[],r=t.map((n,i)=>{const o=RM(n);if(o!==!1){e.push(o);const s=i===t.length-1?" ":"";return`%c ${n}${s}`}return n});return e.length?[`%c[ ${r.join(", ")}`,e.map(n=>`background-color: rgba(${n.r}, ${n.g}, ${n.b}, ${n.o}); color:${NM(n)};`)]:null}var VM=H('<div class="layercake-container svelte-vhzpsp"><!></div>');function WM(t,e){Xe(e,!1);const[r,n]=ct(),i=()=>ie(Pr,"$_percentRange",r),o=()=>ie(Dr,"$_containerWidth",r),s=()=>ie(je,"$_containerHeight",r),l=()=>ie(Ue,"$_data",r),c=()=>ie(Ut,"$_flatData",r),d=()=>ie(Dt,"$_x",r),u=()=>ie(lt,"$_y",r),f=()=>ie(Vt,"$_z",r),h=()=>ie(Ht,"$_r",r),p=()=>ie(Ir,"$_xNice",r),m=()=>ie(Tr,"$_yNice",r),y=()=>ie(Gr,"$_zNice",r),_=()=>ie(rn,"$_rNice",r),S=()=>ie(nr,"$_xReverse",r),w=()=>ie(ir,"$_yReverse",r),C=()=>ie(Cr,"$_zReverse",r),L=()=>ie(Rr,"$_rReverse",r),k=()=>ie(lr,"$_xPadding",r),P=()=>ie(cr,"$_yPadding",r),z=()=>ie(Qt,"$_zPadding",r),T=()=>ie(Pt,"$_rPadding",r),M=()=>ie(Ft,"$_custom",r),D=()=>ie(Nn,"$_config",r),A=()=>ie(gn,"$box_d",r),O=()=>ie(Or,"$activeGetters_d",r),I=()=>ie(ka,"$xScale_d",r),B=()=>ie(Xa,"$yScale_d",r),j=()=>ie(Yn,"$zScale_d",r),V=()=>ie(Ca,"$rScale_d",r),F=()=>ie(Er,"$width_d",r),N=()=>ie(Yr,"$height_d",r),q=()=>ie(Ao,"$aspectRatio_d",r),G=()=>ie(pn,"$_xDomainSort",r),Q=()=>ie(wn,"$_yDomainSort",r),Z=()=>ie(ta,"$_zDomainSort",r),E=()=>ie(ba,"$_rDomainSort",r),U=()=>ie($r,"$padding_d",r),$=()=>ie(dn,"$extents_d",r),ee=()=>ie(ra,"$xDomain_d",r),se=()=>ie(So,"$yDomain_d",r),oe=()=>ie(wa,"$zDomain_d",r),K=()=>ie(Ia,"$rDomain_d",r),J=()=>ie(ha,"$xRange_d",r),te=()=>ie(Un,"$yRange_d",r),X=()=>ie(pa,"$zRange_d",r),re=()=>ie(Pi,"$rRange_d",r),fe=()=>ie(Co,"$xGet_d",r),ue=()=>ie(Ka,"$yGet_d",r),xe=()=>ie(Sa,"$zGet_d",r),we=()=>ie(Zi,"$rGet_d",r),me=Ve(),ce=Ve(),ye=Y7(zM,200);let be=R(e,"ssr",8,!1),ve=R(e,"pointerEvents",8,!0),Se=R(e,"position",8,"relative"),Ee=R(e,"percentRange",8,!1),Be=R(e,"width",8,void 0),Ae=R(e,"height",8,void 0),Ce=R(e,"containerWidth",28,()=>Be()||100),_e=R(e,"containerHeight",28,()=>Ae()||100),ge=R(e,"element",12,void 0),Oe=R(e,"x",8,void 0),Le=R(e,"y",8,void 0),Re=R(e,"z",8,void 0),Me=R(e,"r",8,void 0),Te=R(e,"data",24,()=>[]),ze=R(e,"xDomain",8,void 0),Fe=R(e,"yDomain",8,void 0),Ye=R(e,"zDomain",8,void 0),Je=R(e,"rDomain",8,void 0),et=R(e,"xNice",8,!1),Ze=R(e,"yNice",8,!1),Ge=R(e,"zNice",8,!1),Pe=R(e,"rNice",8,!1),We=R(e,"xPadding",8,void 0),He=R(e,"yPadding",8,void 0),nt=R(e,"zPadding",8,void 0),Qe=R(e,"rPadding",8,void 0),rt=R(e,"xScale",24,()=>Rl.x),ot=R(e,"yScale",24,()=>Rl.y),Lt=R(e,"zScale",24,()=>Rl.z),Et=R(e,"rScale",24,()=>Rl.r),dt=R(e,"xRange",8,void 0),wt=R(e,"yRange",8,void 0),it=R(e,"zRange",8,void 0),ht=R(e,"rRange",8,void 0),at=R(e,"xReverse",8,!1),gt=R(e,"yReverse",8,void 0),Gt=R(e,"zReverse",8,!1),Kt=R(e,"rReverse",8,!1),sr=R(e,"xDomainSort",8,!0),wr=R(e,"yDomainSort",8,!0),ft=R(e,"zDomainSort",8,!0),Mt=R(e,"rDomainSort",8,!0),yt=R(e,"padding",24,()=>({})),Bt=R(e,"extents",24,()=>({})),jt=R(e,"flatData",8,void 0),gr=R(e,"custom",24,()=>({})),xr=R(e,"debug",8,!1),rr=R(e,"verbose",8,!0),fr=!1;Zt(()=>{fr=!0});const xt=Ve({}),Pr=bt(Ee()),Dr=bt(Ce()),je=bt(_e()),st=bt(Pf(Bt())),Ue=bt(Te()),Ut=bt(jt()||Te()),_t=bt(yt()),Dt=bt(ro(Oe())),lt=bt(ro(Le())),Vt=bt(ro(Re())),Ht=bt(ro(Me())),vr=bt(ze()),kr=bt(Fe()),yr=bt(Ye()),Sr=bt(Je()),Ir=bt(et()),Tr=bt(Ze()),Gr=bt(Ge()),rn=bt(Pe()),nr=bt(at()),ir=bt(a(me)),Cr=bt(Gt()),Rr=bt(Kt()),lr=bt(We()),cr=bt(He()),Qt=bt(nt()),Pt=bt(Qe()),qt=bt(dt()),Yt=bt(wt()),or=bt(it()),dr=bt(ht()),on=bt(rt()),Zr=bt(ot()),yn=bt(Lt()),Pn=bt(Et()),pn=bt(sr()),wn=bt(wr()),ta=bt(ft()),ba=bt(Mt()),Nn=bt(a(xt)),Ft=bt(gr()),Or=Jr([Dt,lt,Vt,Ht],([Wr,vn,Kn,en])=>{const Vn={};return Wr&&(Vn.x=Wr),vn&&(Vn.y=vn),Kn&&(Vn.z=Kn),en&&(Vn.r=en),Vn}),$r=Jr([_t,Dr,je],([Wr])=>Object.assign({top:0,right:0,bottom:0,left:0},Wr)),gn=Jr([Dr,je,$r],([Wr,vn,Kn])=>{const en={};return en.top=Kn.top,en.right=Wr-Kn.right,en.bottom=vn-Kn.bottom,en.left=Kn.left,en.width=en.right-en.left,en.height=en.bottom-en.top,rr()===!0&&(en.width<=0&&fr===!0&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),en.height<=0&&fr===!0&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?")),en}),Er=Jr([gn],([Wr])=>Wr.width),Yr=Jr([gn],([Wr])=>Wr.height),dn=Jr([Ut,Or,st,on,Zr,Pn,yn,pn,wn,ta,ba],([Wr,vn,Kn,en,Vn,Di,hs,ps,Ja,Oa,Li])=>{const gs={x:{scale:en,sort:ps},y:{scale:Vn,sort:Ja},r:{scale:Di,sort:Li},z:{scale:hs,sort:Oa}},eo=Pf(vn,Kn),Za=Object.fromEntries(Object.keys(eo).map(na=>[na,gs[na]]));return Object.keys(eo).length>0?{...vC(Wr,eo,Za),...Kn}:{}}),ra=Jr([dn,vr],Xc("x")),So=Jr([dn,kr],Xc("y")),wa=Jr([dn,yr],Xc("z")),Ia=Jr([dn,Sr],Xc("r")),ka=Jr([on,dn,ra,lr,Ir,nr,Er,Yr,qt,Pr],ed("x")),Co=Jr([Dt,ka],td),Xa=Jr([Zr,dn,So,cr,Tr,ir,Er,Yr,Yt,Pr],ed("y")),Ka=Jr([lt,Xa],td),Yn=Jr([yn,dn,wa,Qt,Gr,Cr,Er,Yr,or,Pr],ed("z")),Sa=Jr([Vt,Yn],td),Ca=Jr([Pn,dn,Ia,Pt,rn,Rr,Er,Yr,dr,Pr],ed("r")),Zi=Jr([Ht,Ca],td),Aa=Jr(ka,Wr=>Wr.domain()),An=Jr(Xa,Wr=>Wr.domain()),Xn=Jr(Yn,Wr=>Wr.domain()),Mi=Jr(Ca,Wr=>Wr.domain()),ha=Jr([ka],rd),Un=Jr([Xa],rd),pa=Jr([Yn],rd),Pi=Jr([Ca],rd),Ao=Jr([Er,Yr],([Wr,vn])=>Wr/vn);De(()=>(he(gt()),he(ot())),()=>{g(me,typeof gt()>"u"?typeof ot().bandwidth!="function":gt())}),De(()=>he(Oe()),()=>{Oe()&&Mn(xt,a(xt).x=Oe())}),De(()=>he(Le()),()=>{Le()&&Mn(xt,a(xt).y=Le())}),De(()=>he(Re()),()=>{Re()&&Mn(xt,a(xt).z=Re())}),De(()=>he(Me()),()=>{Me()&&Mn(xt,a(xt).r=Me())}),De(()=>he(ze()),()=>{ze()&&Mn(xt,a(xt).xDomain=ze())}),De(()=>he(Fe()),()=>{Fe()&&Mn(xt,a(xt).yDomain=Fe())}),De(()=>he(Ye()),()=>{Ye()&&Mn(xt,a(xt).zDomain=Ye())}),De(()=>he(Je()),()=>{Je()&&Mn(xt,a(xt).rDomain=Je())}),De(()=>he(dt()),()=>{dt()&&Mn(xt,a(xt).xRange=dt())}),De(()=>he(wt()),()=>{wt()&&Mn(xt,a(xt).yRange=wt())}),De(()=>he(it()),()=>{it()&&Mn(xt,a(xt).zRange=it())}),De(()=>he(ht()),()=>{ht()&&Mn(xt,a(xt).rRange=ht())}),De(()=>he(Ee()),()=>{It(Pr,Ee())}),De(()=>he(Ce()),()=>{It(Dr,Ce())}),De(()=>he(_e()),()=>{It(je,_e())}),De(()=>he(Bt()),()=>{It(st,Pf(Bt()))}),De(()=>he(Te()),()=>{It(Ue,Te())}),De(()=>(he(jt()),he(Te())),()=>{It(Ut,jt()||Te())}),De(()=>he(yt()),()=>{It(_t,yt())}),De(()=>he(Oe()),()=>{It(Dt,ro(Oe()))}),De(()=>he(Le()),()=>{It(lt,ro(Le()))}),De(()=>he(Re()),()=>{It(Vt,ro(Re()))}),De(()=>he(Me()),()=>{It(Ht,ro(Me()))}),De(()=>he(ze()),()=>{It(vr,ze())}),De(()=>he(Fe()),()=>{It(kr,Fe())}),De(()=>he(Ye()),()=>{It(yr,Ye())}),De(()=>he(Je()),()=>{It(Sr,Je())}),De(()=>he(et()),()=>{It(Ir,et())}),De(()=>he(Ze()),()=>{It(Tr,Ze())}),De(()=>he(Ge()),()=>{It(Gr,Ge())}),De(()=>he(Pe()),()=>{It(rn,Pe())}),De(()=>he(at()),()=>{It(nr,at())}),De(()=>a(me),()=>{It(ir,a(me))}),De(()=>he(Gt()),()=>{It(Cr,Gt())}),De(()=>he(Kt()),()=>{It(Rr,Kt())}),De(()=>he(We()),()=>{It(lr,We())}),De(()=>he(He()),()=>{It(cr,He())}),De(()=>he(nt()),()=>{It(Qt,nt())}),De(()=>he(Qe()),()=>{It(Pt,Qe())}),De(()=>he(dt()),()=>{It(qt,dt())}),De(()=>he(wt()),()=>{It(Yt,wt())}),De(()=>he(it()),()=>{It(or,it())}),De(()=>he(ht()),()=>{It(dr,ht())}),De(()=>he(rt()),()=>{It(on,rt())}),De(()=>he(ot()),()=>{It(Zr,ot())}),De(()=>he(Lt()),()=>{It(yn,Lt())}),De(()=>he(Et()),()=>{It(Pn,Et())}),De(()=>he(gr()),()=>{It(Ft,gr())}),De(()=>a(xt),()=>{It(Nn,a(xt))}),De(()=>{},()=>{g(ce,{activeGetters:Or,width:Er,height:Yr,percentRange:Pr,aspectRatio:Ao,containerWidth:Dr,containerHeight:je,x:Dt,y:lt,z:Vt,r:Ht,custom:Ft,data:Ue,xNice:Ir,yNice:Tr,zNice:Gr,rNice:rn,xDomainSort:pn,yDomainSort:wn,zDomainSort:ta,rDomainSort:ba,xReverse:nr,yReverse:ir,zReverse:Cr,rReverse:Rr,xPadding:lr,yPadding:cr,zPadding:Qt,rPadding:Pt,padding:$r,flatData:Ut,extents:dn,xDomain:Aa,yDomain:An,zDomain:Xn,rDomain:Mi,xRange:ha,yRange:Un,zRange:pa,rRange:Pi,config:Nn,xScale:ka,xGet:Co,yScale:Xa,yGet:Ka,zScale:Yn,zGet:Sa,rScale:Ca,rGet:Zi})}),De(()=>a(ce),()=>{rs("LayerCake",a(ce))}),De(()=>(A(),he(xr()),he(be()),l(),he(jt()),c(),O(),a(xt),I(),B(),j(),V()),()=>{A()&&xr()===!0&&(be()===!0||typeof window<"u")&&ye({data:l(),flatData:typeof jt()<"u"?c():null,boundingBox:A(),activeGetters:O(),x:a(xt).x,y:a(xt).y,z:a(xt).z,r:a(xt).r,xScale:I(),yScale:B(),zScale:j(),rScale:V()})}),Qr(),pr();var Mo=ke(),Qa=de(Mo);{var Ta=Wr=>{var vn=VM(),Kn=v(vn);$t(Kn,e,"default",{get element(){return ge()},get width(){return F()},get height(){return N()},get aspectRatio(){return q()},get containerWidth(){return o()},get containerHeight(){return s()},get activeGetters(){return O()},get percentRange(){return i()},get x(){return d()},get y(){return u()},get z(){return f()},get r(){return h()},get custom(){return M()},get data(){return l()},get xNice(){return p()},get yNice(){return m()},get zNice(){return y()},get rNice(){return _()},get xDomainSort(){return G()},get yDomainSort(){return Q()},get zDomainSort(){return Z()},get rDomainSort(){return E()},get xReverse(){return S()},get yReverse(){return w()},get zReverse(){return C()},get rReverse(){return L()},get xPadding(){return k()},get yPadding(){return P()},get zPadding(){return z()},get rPadding(){return T()},get padding(){return U()},get flatData(){return c()},get extents(){return $()},get xDomain(){return ee()},get yDomain(){return se()},get zDomain(){return oe()},get rDomain(){return K()},get xRange(){return J()},get yRange(){return te()},get zRange(){return X()},get rRange(){return re()},get config(){return D()},get xScale(){return I()},get xGet(){return fe()},get yScale(){return B()},get yGet(){return ue()},get zScale(){return j()},get zGet(){return xe()},get rScale(){return V()},get rGet(){return we()}},null),Ar(vn,en=>ge(en),()=>ge()),ae(()=>{ar(vn,"position",Se()),ar(vn,"top",Se()==="absolute"?"0":null),ar(vn,"right",Se()==="absolute"?"0":null),ar(vn,"bottom",Se()==="absolute"?"0":null),ar(vn,"left",Se()==="absolute"?"0":null),ar(vn,"pointer-events",ve()===!1?"none":null)}),jd(vn,"clientWidth",Ce),jd(vn,"clientHeight",_e),b(Wr,vn)};W(Qa,Wr=>{(be()===!0||typeof window<"u")&&Wr(Ta)})}b(t,Mo),Ke(),n()}function HM(t){t.nextSibling&&t.parentNode.appendChild(t)}function _n(t){return function(){return t}}const Wh=Math.PI,Hh=2*Wh,Eo=1e-6,qM=Hh-Eo;function h2(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function GM(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return h2;const r=10**e;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}let wp=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?h2:GM(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,o,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,r,n,i,o){if(e=+e,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,c=n-e,d=i-r,u=s-e,f=l-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Eo)if(!(Math.abs(f*c-d*u)>Eo)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-s,m=i-l,y=c*c+d*d,_=p*p+m*m,S=Math.sqrt(y),w=Math.sqrt(h),C=o*Math.tan((Wh-Math.acos((y+h-_)/(2*S*w)))/2),L=C/w,k=C/S;Math.abs(L-1)>Eo&&this._append`L${e+L*u},${r+L*f}`,this._append`A${o},${o},0,0,${+(f*p>u*m)},${this._x1=e+k*c},${this._y1=r+k*d}`}}arc(e,r,n,i,o,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),d=e+l,u=r+c,f=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Eo||Math.abs(this._y1-u)>Eo)&&this._append`L${d},${u}`,n&&(h<0&&(h=h%Hh+Hh),h>qM?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=d},${this._y1=u}`:h>Eo&&this._append`A${n},${n},0,${+(h>=Wh)},${f},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}};function p2(){return new wp}p2.prototype=wp.prototype;function kp(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new wp(e)}var $M=Array.prototype.slice;function Sp(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function g2(t){this._context=t}g2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Cp(t){return new g2(t)}function Ap(t){return t[0]}function Mp(t){return t[1]}function Jd(t,e){var r=_n(!0),n=null,i=Cp,o=null,s=kp(l);t=typeof t=="function"?t:t===void 0?Ap:_n(t),e=typeof e=="function"?e:e===void 0?Mp:_n(e);function l(c){var d,u=(c=Sp(c)).length,f,h=!1,p;for(n==null&&(o=i(p=s())),d=0;d<=u;++d)!(d<u&&r(f=c[d],d,c))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,d,c),+e(f,d,c));if(p)return o=null,p+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:_n(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:_n(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:_n(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(o=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=o=null:o=i(n=c),l):n},l}function qh(t,e,r){var n=null,i=_n(!0),o=null,s=Cp,l=null,c=kp(d);t=typeof t=="function"?t:t===void 0?Ap:_n(+t),e=typeof e=="function"?e:_n(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Mp:_n(+r);function d(f){var h,p,m,y=(f=Sp(f)).length,_,S=!1,w,C=new Array(y),L=new Array(y);for(o==null&&(l=s(w=c())),h=0;h<=y;++h){if(!(h<y&&i(_=f[h],h,f))===S)if(S=!S)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=h-1;m>=p;--m)l.point(C[m],L[m]);l.lineEnd(),l.areaEnd()}S&&(C[h]=+t(_,h,f),L[h]=+e(_,h,f),l.point(n?+n(_,h,f):C[h],r?+r(_,h,f):L[h]))}if(w)return l=null,w+""||null}function u(){return Jd().defined(i).curve(s).context(o)}return d.x=function(f){return arguments.length?(t=typeof f=="function"?f:_n(+f),n=null,d):t},d.x0=function(f){return arguments.length?(t=typeof f=="function"?f:_n(+f),d):t},d.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:_n(+f),d):n},d.y=function(f){return arguments.length?(e=typeof f=="function"?f:_n(+f),r=null,d):e},d.y0=function(f){return arguments.length?(e=typeof f=="function"?f:_n(+f),d):e},d.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:_n(+f),d):r},d.lineX0=d.lineY0=function(){return u().x(t).y(e)},d.lineY1=function(){return u().x(t).y(r)},d.lineX1=function(){return u().x(n).y(e)},d.defined=function(f){return arguments.length?(i=typeof f=="function"?f:_n(!!f),d):i},d.curve=function(f){return arguments.length?(s=f,o!=null&&(l=s(o)),d):s},d.context=function(f){return arguments.length?(f==null?o=l=null:l=s(o=f),d):o},d}var m2=Pp(Cp);function x2(t){this._curve=t}x2.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function Pp(t){function e(r){return new x2(t(r))}return e._curve=t,e}function Nl(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(r){return arguments.length?e(Pp(r)):e()._curve},t}function hm(){return Nl(Jd().curve(m2))}function pm(){var t=qh().curve(m2),e=t.curve,r=t.lineX0,n=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Nl(r())},delete t.lineX0,t.lineEndAngle=function(){return Nl(n())},delete t.lineX1,t.lineInnerRadius=function(){return Nl(i())},delete t.lineY0,t.lineOuterRadius=function(){return Nl(o())},delete t.lineY1,t.curve=function(s){return arguments.length?e(Pp(s)):e()._curve},t}function yi(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}class y2{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function YM(t){return new y2(t,!0)}function XM(t){return new y2(t,!1)}function KM(t){return t.source}function QM(t){return t.target}function JM(t){let e=KM,r=QM,n=Ap,i=Mp,o=null,s=null,l=kp(c);function c(){let d;const u=$M.call(arguments),f=e.apply(this,u),h=r.apply(this,u);if(o==null&&(s=t(d=l())),s.lineStart(),u[0]=f,s.point(+n.apply(this,u),+i.apply(this,u)),u[0]=h,s.point(+n.apply(this,u),+i.apply(this,u)),s.lineEnd(),d)return s=null,d+""||null}return c.source=function(d){return arguments.length?(e=d,c):e},c.target=function(d){return arguments.length?(r=d,c):r},c.x=function(d){return arguments.length?(n=typeof d=="function"?d:_n(+d),c):n},c.y=function(d){return arguments.length?(i=typeof d=="function"?d:_n(+d),c):i},c.context=function(d){return arguments.length?(d==null?o=s=null:s=t(o=d),c):o},c}function gm(){}function _2(t){this._context=t}_2.prototype={areaStart:gm,areaEnd:gm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Gh(t){return new _2(t)}function Zd(t,e){if((s=t.length)>1)for(var r=1,n,i,o=t[e[0]],s,l=o.length;r<s;++r)for(i=o,o=t[e[r]],n=0;n<l;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function mm(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function ZM(t,e){return t[e]}function eP(t){const e=[];return e.key=t,e}function tP(){var t=_n([]),e=mm,r=Zd,n=ZM;function i(o){var s=Array.from(t.apply(this,arguments),eP),l,c=s.length,d=-1,u;for(const f of o)for(l=0,++d;l<c;++l)(s[l][d]=[0,+n(f,s[l].key,d,o)]).data=f;for(l=0,u=Sp(e(s));l<c;++l)s[u[l]].index=l;return r(s,u),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:_n(Array.from(o)),i):t},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:_n(+o),i):n},i.order=function(o){return arguments.length?(e=o==null?mm:typeof o=="function"?o:_n(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(r=o??Zd,i):r},i}function rP(t,e){if((n=t.length)>0){for(var r,n,i=0,o=t[0].length,s;i<o;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Zd(t,e)}}function nP(t,e){if((c=t.length)>0)for(var r,n=0,i,o,s,l,c,d=t[e[0]].length;n<d;++n)for(s=l=0,r=0;r<c;++r)(o=(i=t[e[r]][n])[1]-i[0])>0?(i[0]=s,i[1]=s+=o):o<0?(i[1]=l,i[0]=l+=o):(i[0]=0,i[1]=o)}var b2=typeof global=="object"&&global&&global.Object===Object&&global,aP=typeof self=="object"&&self&&self.Object===Object&&self,al=b2||aP||Function("return this")(),Hs=al.Symbol,w2=Object.prototype,iP=w2.hasOwnProperty,oP=w2.toString,bl=Hs?Hs.toStringTag:void 0;function sP(t){var e=iP.call(t,bl),r=t[bl];try{t[bl]=void 0;var n=!0}catch{}var i=oP.call(t);return n&&(e?t[bl]=r:delete t[bl]),i}var lP=Object.prototype,cP=lP.toString;function dP(t){return cP.call(t)}var uP="[object Null]",fP="[object Undefined]",xm=Hs?Hs.toStringTag:void 0;function Ic(t){return t==null?t===void 0?fP:uP:xm&&xm in Object(t)?sP(t):dP(t)}function il(t){return t!=null&&typeof t=="object"}var vP="[object Symbol]";function Dp(t){return typeof t=="symbol"||il(t)&&Ic(t)==vP}function hP(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var qs=Array.isArray,ym=Hs?Hs.prototype:void 0,_m=ym?ym.toString:void 0;function k2(t){if(typeof t=="string")return t;if(qs(t))return hP(t,k2)+"";if(Dp(t))return _m?_m.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Gi(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function S2(t){return t}var pP="[object AsyncFunction]",gP="[object Function]",mP="[object GeneratorFunction]",xP="[object Proxy]";function Lp(t){if(!Gi(t))return!1;var e=Ic(t);return e==gP||e==mP||e==pP||e==xP}var Nf=al["__core-js_shared__"],bm=function(){var t=/[^.]+$/.exec(Nf&&Nf.keys&&Nf.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function yP(t){return!!bm&&bm in t}var _P=Function.prototype,bP=_P.toString;function wP(t){if(t!=null){try{return bP.call(t)}catch{}try{return t+""}catch{}}return""}var kP=/[\\^$.*+?()[\]{}|]/g,SP=/^\[object .+?Constructor\]$/,CP=Function.prototype,AP=Object.prototype,MP=CP.toString,PP=AP.hasOwnProperty,DP=RegExp("^"+MP.call(PP).replace(kP,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function LP(t){if(!Gi(t)||yP(t))return!1;var e=Lp(t)?DP:SP;return e.test(wP(t))}function EP(t,e){return t==null?void 0:t[e]}function Ep(t,e){var r=EP(t,e);return LP(r)?r:void 0}var wm=Object.create,IP=function(){function t(){}return function(e){if(!Gi(e))return{};if(wm)return wm(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function C2(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function TP(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var OP=800,RP=16,NP=Date.now;function zP(t){var e=0,r=0;return function(){var n=NP(),i=RP-(n-r);if(r=n,i>0){if(++e>=OP)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function BP(t){return function(){return t}}var eu=function(){try{var t=Ep(Object,"defineProperty");return t({},"",{}),t}catch{}}(),jP=eu?function(t,e){return eu(t,"toString",{configurable:!0,enumerable:!1,value:BP(e),writable:!0})}:S2,FP=zP(jP),UP=9007199254740991,VP=/^(?:0|[1-9]\d*)$/;function A2(t,e){var r=typeof t;return e=e??UP,!!e&&(r=="number"||r!="symbol"&&VP.test(t))&&t>-1&&t%1==0&&t<e}function Ip(t,e,r){e=="__proto__"&&eu?eu(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Yu(t,e){return t===e||t!==t&&e!==e}var WP=Object.prototype,HP=WP.hasOwnProperty;function qP(t,e,r){var n=t[e];(!(HP.call(t,e)&&Yu(n,r))||r===void 0&&!(e in t))&&Ip(t,e,r)}function GP(t,e,r,n){var i=!r;r||(r={});for(var o=-1,s=e.length;++o<s;){var l=e[o],c=void 0;c===void 0&&(c=t[l]),i?Ip(r,l,c):qP(r,l,c)}return r}var km=Math.max;function $P(t,e,r){return e=km(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=km(n.length-e,0),s=Array(o);++i<o;)s[i]=n[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=n[i];return l[e]=r(s),C2(t,this,l)}}function M2(t,e){return FP($P(t,e,S2),t+"")}var YP=9007199254740991;function P2(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=YP}function Tp(t){return t!=null&&P2(t.length)&&!Lp(t)}function XP(t,e,r){if(!Gi(r))return!1;var n=typeof e;return(n=="number"?Tp(r)&&A2(e,r.length):n=="string"&&e in r)?Yu(r[e],t):!1}function D2(t){return M2(function(e,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&XP(r[0],r[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++n<i;){var l=r[n];l&&t(e,l,n,o)}return e})}var KP=Object.prototype;function L2(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||KP;return t===r}function QP(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var JP="[object Arguments]";function Sm(t){return il(t)&&Ic(t)==JP}var E2=Object.prototype,ZP=E2.hasOwnProperty,eD=E2.propertyIsEnumerable,$h=Sm(function(){return arguments}())?Sm:function(t){return il(t)&&ZP.call(t,"callee")&&!eD.call(t,"callee")};function tD(){return!1}var I2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Cm=I2&&typeof module=="object"&&module&&!module.nodeType&&module,rD=Cm&&Cm.exports===I2,Am=rD?al.Buffer:void 0,nD=Am?Am.isBuffer:void 0,T2=nD||tD,aD="[object Arguments]",iD="[object Array]",oD="[object Boolean]",sD="[object Date]",lD="[object Error]",cD="[object Function]",dD="[object Map]",uD="[object Number]",fD="[object Object]",vD="[object RegExp]",hD="[object Set]",pD="[object String]",gD="[object WeakMap]",mD="[object ArrayBuffer]",xD="[object DataView]",yD="[object Float32Array]",_D="[object Float64Array]",bD="[object Int8Array]",wD="[object Int16Array]",kD="[object Int32Array]",SD="[object Uint8Array]",CD="[object Uint8ClampedArray]",AD="[object Uint16Array]",MD="[object Uint32Array]",xn={};xn[yD]=xn[_D]=xn[bD]=xn[wD]=xn[kD]=xn[SD]=xn[CD]=xn[AD]=xn[MD]=!0;xn[aD]=xn[iD]=xn[mD]=xn[oD]=xn[xD]=xn[sD]=xn[lD]=xn[cD]=xn[dD]=xn[uD]=xn[fD]=xn[vD]=xn[hD]=xn[pD]=xn[gD]=!1;function PD(t){return il(t)&&P2(t.length)&&!!xn[Ic(t)]}function DD(t){return function(e){return t(e)}}var O2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ql=O2&&typeof module=="object"&&module&&!module.nodeType&&module,LD=ql&&ql.exports===O2,zf=LD&&b2.process,Mm=function(){try{var t=ql&&ql.require&&ql.require("util").types;return t||zf&&zf.binding&&zf.binding("util")}catch{}}(),Pm=Mm&&Mm.isTypedArray,R2=Pm?DD(Pm):PD;function ED(t,e){var r=qs(t),n=!r&&$h(t),i=!r&&!n&&T2(t),o=!r&&!n&&!i&&R2(t),s=r||n||i||o,l=s?QP(t.length,String):[],c=l.length;for(var d in t)s&&(d=="length"||i&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||A2(d,c))||l.push(d);return l}function ID(t,e){return function(r){return t(e(r))}}function TD(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var OD=Object.prototype,RD=OD.hasOwnProperty;function ND(t){if(!Gi(t))return TD(t);var e=L2(t),r=[];for(var n in t)n=="constructor"&&(e||!RD.call(t,n))||r.push(n);return r}function N2(t){return Tp(t)?ED(t):ND(t)}var zD=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,BD=/^\w*$/;function jD(t,e){if(qs(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Dp(t)?!0:BD.test(t)||!zD.test(t)||e!=null&&t in Object(e)}var fc=Ep(Object,"create");function FD(){this.__data__=fc?fc(null):{},this.size=0}function UD(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var VD="__lodash_hash_undefined__",WD=Object.prototype,HD=WD.hasOwnProperty;function qD(t){var e=this.__data__;if(fc){var r=e[t];return r===VD?void 0:r}return HD.call(e,t)?e[t]:void 0}var GD=Object.prototype,$D=GD.hasOwnProperty;function YD(t){var e=this.__data__;return fc?e[t]!==void 0:$D.call(e,t)}var XD="__lodash_hash_undefined__";function KD(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=fc&&e===void 0?XD:e,this}function Yo(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Yo.prototype.clear=FD;Yo.prototype.delete=UD;Yo.prototype.get=qD;Yo.prototype.has=YD;Yo.prototype.set=KD;function QD(){this.__data__=[],this.size=0}function Xu(t,e){for(var r=t.length;r--;)if(Yu(t[r][0],e))return r;return-1}var JD=Array.prototype,ZD=JD.splice;function eL(t){var e=this.__data__,r=Xu(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():ZD.call(e,r,1),--this.size,!0}function tL(t){var e=this.__data__,r=Xu(e,t);return r<0?void 0:e[r][1]}function rL(t){return Xu(this.__data__,t)>-1}function nL(t,e){var r=this.__data__,n=Xu(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Xi(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Xi.prototype.clear=QD;Xi.prototype.delete=eL;Xi.prototype.get=tL;Xi.prototype.has=rL;Xi.prototype.set=nL;var z2=Ep(al,"Map");function aL(){this.size=0,this.__data__={hash:new Yo,map:new(z2||Xi),string:new Yo}}function iL(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Ku(t,e){var r=t.__data__;return iL(e)?r[typeof e=="string"?"string":"hash"]:r.map}function oL(t){var e=Ku(this,t).delete(t);return this.size-=e?1:0,e}function sL(t){return Ku(this,t).get(t)}function lL(t){return Ku(this,t).has(t)}function cL(t,e){var r=Ku(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function wo(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}wo.prototype.clear=aL;wo.prototype.delete=oL;wo.prototype.get=sL;wo.prototype.has=lL;wo.prototype.set=cL;var dL="Expected a function";function Tc(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(dL);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(Tc.Cache||wo),r}Tc.Cache=wo;var uL=500;function fL(t){var e=Tc(t,function(n){return r.size===uL&&r.clear(),n}),r=e.cache;return e}var vL=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hL=/\\(\\)?/g,pL=fL(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(vL,function(r,n,i,o){e.push(i?o.replace(hL,"$1"):n||r)}),e});function gL(t){return t==null?"":k2(t)}function mL(t,e){return qs(t)?t:jD(t,e)?[t]:pL(gL(t))}function xL(t){if(typeof t=="string"||Dp(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function yL(t,e){e=mL(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[xL(e[r++])];return r&&r==n?t:void 0}function B2(t,e,r){var n=t==null?void 0:yL(t,e);return n===void 0?r:n}var j2=ID(Object.getPrototypeOf,Object),_L="[object Object]",bL=Function.prototype,wL=Object.prototype,F2=bL.toString,kL=wL.hasOwnProperty,SL=F2.call(Object);function CL(t){if(!il(t)||Ic(t)!=_L)return!1;var e=j2(t);if(e===null)return!0;var r=kL.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&F2.call(r)==SL}function AL(){this.__data__=new Xi,this.size=0}function ML(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function PL(t){return this.__data__.get(t)}function DL(t){return this.__data__.has(t)}var LL=200;function EL(t,e){var r=this.__data__;if(r instanceof Xi){var n=r.__data__;if(!z2||n.length<LL-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new wo(n)}return r.set(t,e),this.size=r.size,this}function ol(t){var e=this.__data__=new Xi(t);this.size=e.size}ol.prototype.clear=AL;ol.prototype.delete=ML;ol.prototype.get=PL;ol.prototype.has=DL;ol.prototype.set=EL;var U2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Dm=U2&&typeof module=="object"&&module&&!module.nodeType&&module,IL=Dm&&Dm.exports===U2,Lm=IL?al.Buffer:void 0;Lm&&Lm.allocUnsafe;function TL(t,e){return t.slice()}var Em=al.Uint8Array;function OL(t){var e=new t.constructor(t.byteLength);return new Em(e).set(new Em(t)),e}function RL(t,e){var r=OL(t.buffer);return new t.constructor(r,t.byteOffset,t.length)}function NL(t){return typeof t.constructor=="function"&&!L2(t)?IP(j2(t)):{}}function zL(t){return function(e,r,n){for(var i=-1,o=Object(e),s=n(e),l=s.length;l--;){var c=s[++i];if(r(o[c],c,o)===!1)break}return e}}var BL=zL();function Yh(t,e,r){(r!==void 0&&!Yu(t[e],r)||r===void 0&&!(e in t))&&Ip(t,e,r)}function jL(t){return il(t)&&Tp(t)}function Xh(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function FL(t){return GP(t,N2(t))}function UL(t,e,r,n,i,o,s){var l=Xh(t,r),c=Xh(e,r),d=s.get(c);if(d){Yh(t,r,d);return}var u=o?o(l,c,r+"",t,e,s):void 0,f=u===void 0;if(f){var h=qs(c),p=!h&&T2(c),m=!h&&!p&&R2(c);u=c,h||p||m?qs(l)?u=l:jL(l)?u=TP(l):p?(f=!1,u=TL(c)):m?(f=!1,u=RL(c)):u=[]:CL(c)||$h(c)?(u=l,$h(l)?u=FL(l):(!Gi(l)||Lp(l))&&(u=NL(c))):f=!1}f&&(s.set(c,u),i(u,c,n,o,s),s.delete(c)),Yh(t,r,u)}function Qu(t,e,r,n,i){t!==e&&BL(e,function(o,s){if(i||(i=new ol),Gi(o))UL(t,e,s,r,Qu,n,i);else{var l=n?n(Xh(t,s),o,s+"",t,e,i):void 0;l===void 0&&(l=o),Yh(t,s,l)}},N2)}function V2(t,e,r,n,i,o){return Gi(t)&&Gi(e)&&(o.set(e,t),Qu(t,e,void 0,V2,o),o.delete(e)),t}var VL=D2(function(t,e,r,n){Qu(t,e,r,n)}),Im=M2(function(t){return t.push(void 0,V2),C2(VL,void 0,t)}),us=D2(function(t,e,r){Qu(t,e,r)});function WL(t){return Object.keys(t)}function HL(t){return t instanceof Map?Array.from(t.entries()):Object.entries(t)}function qL(t){return Object.fromEntries(t)}function GL(t){return t&&typeof t=="object"&&t.constructor===Object}function $L(t){return typeof t=="function"?t:typeof t=="string"?e=>B2(e,t):e=>e}var Bf=new WeakMap,YL=0;function cn(t){return Bf.has(t)||Bf.set(t,++YL),Bf.get(t)}function XL(t){return WL.length===0?t:qL(HL(t).filter(([e,r])=>r!=null))}function KL(t){return Array.from(new Set(t))}function Tm(t){return sC(t,(e,r)=>Math.abs(e)-Math.abs(r))}function Cs(t){return t!=null}function QL(t){return!!t&&(t instanceof SVGElement||"ownerSVGElement"in t)}function JL(t){return!!t&&"createSVGPoint"in t}function ZL(t){return!!t&&"getScreenCTM"in t}function eE(t){return!!t&&"changedTouches"in t}var ut;(function(t){t[t.Custom=1]="Custom",t[t.Day=10]="Day",t[t.DayTime=11]="DayTime",t[t.TimeOnly=15]="TimeOnly",t[t.Week=20]="Week",t[t.WeekSun=21]="WeekSun",t[t.WeekMon=22]="WeekMon",t[t.WeekTue=23]="WeekTue",t[t.WeekWed=24]="WeekWed",t[t.WeekThu=25]="WeekThu",t[t.WeekFri=26]="WeekFri",t[t.WeekSat=27]="WeekSat",t[t.Month=30]="Month",t[t.MonthYear=31]="MonthYear",t[t.Quarter=40]="Quarter",t[t.CalendarYear=50]="CalendarYear",t[t.FiscalYearOctober=60]="FiscalYearOctober",t[t.BiWeek1=70]="BiWeek1",t[t.BiWeek1Sun=71]="BiWeek1Sun",t[t.BiWeek1Mon=72]="BiWeek1Mon",t[t.BiWeek1Tue=73]="BiWeek1Tue",t[t.BiWeek1Wed=74]="BiWeek1Wed",t[t.BiWeek1Thu=75]="BiWeek1Thu",t[t.BiWeek1Fri=76]="BiWeek1Fri",t[t.BiWeek1Sat=77]="BiWeek1Sat",t[t.BiWeek2=80]="BiWeek2",t[t.BiWeek2Sun=81]="BiWeek2Sun",t[t.BiWeek2Mon=82]="BiWeek2Mon",t[t.BiWeek2Tue=83]="BiWeek2Tue",t[t.BiWeek2Wed=84]="BiWeek2Wed",t[t.BiWeek2Thu=85]="BiWeek2Thu",t[t.BiWeek2Fri=86]="BiWeek2Fri",t[t.BiWeek2Sat=87]="BiWeek2Sat"})(ut||(ut={}));var tu;(function(t){t[t.Sunday=0]="Sunday",t[t.Monday=1]="Monday",t[t.Tuesday=2]="Tuesday",t[t.Wednesday=3]="Wednesday",t[t.Thursday=4]="Thursday",t[t.Friday=5]="Friday",t[t.Saturday=6]="Saturday"})(tu||(tu={}));var kt;(function(t){t.Year_numeric="yyy",t.Year_2Digit="yy",t.Month_long="MMMM",t.Month_short="MMM",t.Month_2Digit="MM",t.Month_numeric="M",t.Hour_numeric="h",t.Hour_2Digit="hh",t.Hour_wAMPM="a",t.Hour_woAMPM="aaaaaa",t.Minute_numeric="m",t.Minute_2Digit="mm",t.Second_numeric="s",t.Second_2Digit="ss",t.MiliSecond_3="SSS",t.DayOfMonth_numeric="d",t.DayOfMonth_2Digit="dd",t.DayOfMonth_withOrdinal="do",t.DayOfWeek_narrow="eeeee",t.DayOfWeek_long="eeee",t.DayOfWeek_short="eee"})(kt||(kt={}));function tE(t){var n;if(!t)return tu.Sunday;const e=new Intl.Locale(t),r=e.weekInfo??((n=e.getWeekInfo)==null?void 0:n.call(e));return((r==null?void 0:r.firstDay)??0)%7}const rE={locale:"en",dictionary:{Ok:"Ok",Cancel:"Cancel",Date:{Start:"Start",End:"End",Empty:"Empty",Day:"Day",DayTime:"Day Time",Time:"Time",Week:"Week",BiWeek:"Bi-Week",Month:"Month",Quarter:"Quarter",CalendarYear:"Calendar Year",FiscalYearOct:"Fiscal Year (Oct)",PeriodDay:{Current:"Today",Last:"Yesterday",LastX:"Last {0} days"},PeriodWeek:{Current:"This week",Last:"Last week",LastX:"Last {0} weeks"},PeriodBiWeek:{Current:"This bi-week",Last:"Last bi-week",LastX:"Last {0} bi-weeks"},PeriodMonth:{Current:"This month",Last:"Last month",LastX:"Last {0} months"},PeriodQuarter:{Current:"This quarter",Last:"Last quarter",LastX:"Last {0} quarters"},PeriodQuarterSameLastyear:"Same quarter last year",PeriodYear:{Current:"This year",Last:"Last year",LastX:"Last {0} years"},PeriodFiscalYear:{Current:"This fiscal year",Last:"Last fiscal year",LastX:"Last {0} fiscal years"}}},formats:{numbers:{defaults:{currency:"USD",fractionDigits:2,currencyDisplay:"symbol"}},dates:{baseParsing:"MM/dd/yyyy",weekStartsOn:tu.Sunday,ordinalSuffixes:{one:"st",two:"nd",few:"rd",other:"th"},presets:{day:{short:[kt.DayOfMonth_numeric,kt.Month_numeric],default:[kt.DayOfMonth_numeric,kt.Month_numeric,kt.Year_numeric],long:[kt.DayOfMonth_numeric,kt.Month_short,kt.Year_numeric]},dayTime:{short:[kt.DayOfMonth_numeric,kt.Month_numeric,kt.Year_numeric,kt.Hour_numeric,kt.Minute_numeric],default:[kt.DayOfMonth_numeric,kt.Month_numeric,kt.Year_numeric,kt.Hour_2Digit,kt.Minute_2Digit],long:[kt.DayOfMonth_numeric,kt.Month_numeric,kt.Year_numeric,kt.Hour_2Digit,kt.Minute_2Digit,kt.Second_2Digit]},timeOnly:{short:[kt.Hour_numeric,kt.Minute_numeric],default:[kt.Hour_2Digit,kt.Minute_2Digit,kt.Second_2Digit],long:[kt.Hour_2Digit,kt.Minute_2Digit,kt.Second_2Digit,kt.MiliSecond_3]},week:{short:[kt.DayOfMonth_numeric,kt.Month_numeric],default:[kt.DayOfMonth_numeric,kt.Month_numeric,kt.Year_numeric],long:[kt.DayOfMonth_numeric,kt.Month_numeric,kt.Year_numeric]},month:{short:kt.Month_short,default:kt.Month_short,long:kt.Month_long},monthsYear:{short:[kt.Month_short,kt.Year_2Digit],default:[kt.Month_long,kt.Year_numeric],long:[kt.Month_long,kt.Year_numeric]},year:{short:kt.Year_2Digit,default:kt.Year_numeric,long:kt.Year_numeric}}}}};function nE(t,e=rE){var r,n,i,o;return(n=(r=t.formats)==null?void 0:r.dates)!=null&&n.ordinalSuffixes&&(t.formats.dates.ordinalSuffixes={one:"",two:"",few:"",other:"",zero:"",many:"",...t.formats.dates.ordinalSuffixes}),((o=(i=t.formats)==null?void 0:i.dates)==null?void 0:o.weekStartsOn)===void 0&&(t=Im(t,{formats:{dates:{weekStartsOn:tE(t.locale)}}})),Im(t,e)}const W2=nE({locale:"en"});ut.Custom+"",ut.Day+"",ut.DayTime+"",ut.TimeOnly+"",ut.WeekSun+"",ut.WeekMon+"",ut.WeekTue+"",ut.WeekWed+"",ut.WeekThu+"",ut.WeekFri+"",ut.WeekSat+"",ut.Week+"",ut.Month+"",ut.MonthYear+"",ut.Quarter+"",ut.CalendarYear+"",ut.FiscalYearOctober+"",ut.BiWeek1Sun+"",ut.BiWeek1Mon+"",ut.BiWeek1Tue+"",ut.BiWeek1Wed+"",ut.BiWeek1Thu+"",ut.BiWeek1Fri+"",ut.BiWeek1Sat+"",ut.BiWeek1+"",ut.BiWeek2Sun+"",ut.BiWeek2Mon+"",ut.BiWeek2Tue+"",ut.BiWeek2Wed+"",ut.BiWeek2Thu+"",ut.BiWeek2Fri+"",ut.BiWeek2Sat+"",ut.BiWeek2+"";function aE(t=new Date,e){return t===null?NaN:t.getMonth()>=10-1?t.getFullYear()+1:t.getFullYear()}const iE=[new Date("1799-12-22T00:00"),new Date("1799-12-15T00:00")];function H2(t,e,r){var n=iE[e-1],i=Ah(n,r),o=Math.floor(t4(t,i)/14);return Ah(i,o*14)}function oE(t,e,r){return Ah(H2(t,e,r),13)}function Ra(t,e,r){const{locale:n,formats:{dates:{ordinalSuffixes:i}}}=t;function o(c,d=!1){if(d){const u=new Intl.PluralRules(n,{type:"ordinal"});return c.formatToParts(e).map(h=>{if(h.type==="day"){const p=u.select(parseInt(h.value,10)),m=i[p];return`${h.value}${m}`}return h.value}).join("")}return c.format(e)}if(typeof r!="string"&&!Array.isArray(r))return o(new Intl.DateTimeFormat(n,r),r.withOrdinal);const s=Array.isArray(r)?r.join(""):r,l=new Intl.DateTimeFormat(n,{year:s.includes(kt.Year_numeric)?"numeric":s.includes(kt.Year_2Digit)?"2-digit":void 0,month:s.includes(kt.Month_long)?"long":s.includes(kt.Month_short)?"short":s.includes(kt.Month_2Digit)?"2-digit":s.includes(kt.Month_numeric)?"numeric":void 0,day:s.includes(kt.DayOfMonth_2Digit)?"2-digit":s.includes(kt.DayOfMonth_numeric)?"numeric":void 0,hour:s.includes(kt.Hour_2Digit)?"2-digit":s.includes(kt.Hour_numeric)?"numeric":void 0,hour12:s.includes(kt.Hour_woAMPM)?!1:s.includes(kt.Hour_wAMPM)?!0:void 0,minute:s.includes(kt.Minute_2Digit)?"2-digit":s.includes(kt.Minute_numeric)?"numeric":void 0,second:s.includes(kt.Second_2Digit)?"2-digit":s.includes(kt.Second_numeric)?"numeric":void 0,fractionalSecondDigits:s.includes(kt.MiliSecond_3)?3:void 0,weekday:s.includes(kt.DayOfWeek_narrow)?"narrow":s.includes(kt.DayOfWeek_long)?"long":s.includes(kt.DayOfWeek_short)?"short":void 0});return o(l,s.includes(kt.DayOfMonth_withOrdinal))}function Dn(t,e,r,n,i=void 0){const o=i===void 0?zs(e,{weekStartsOn:r}):H2(e,i,r),s=i===void 0?a4(e,{weekStartsOn:r}):oE(e,i,r);return Ra(t,o,n)+" - "+Ra(t,s,n)}function lo(t,e,r={}){return q2(W2,t,e,r)}function sE(t,e){return e===ut.Week?e=[ut.WeekSun,ut.WeekMon,ut.WeekTue,ut.WeekWed,ut.WeekThu,ut.WeekFri,ut.WeekSat][t]:e===ut.BiWeek1?e=[ut.BiWeek1Sun,ut.BiWeek1Mon,ut.BiWeek1Tue,ut.BiWeek1Wed,ut.BiWeek1Thu,ut.BiWeek1Fri,ut.BiWeek1Sat][t]:e===ut.BiWeek2&&(e=[ut.BiWeek2Sun,ut.BiWeek2Mon,ut.BiWeek2Tue,ut.BiWeek2Wed,ut.BiWeek2Thu,ut.BiWeek2Fri,ut.BiWeek2Sat][t]),e}function q2(t,e,r,n={}){if(typeof e=="string"&&(e=i5(e)),e==null||isNaN(e))return"";const i=n.weekStartsOn??t.formats.dates.weekStartsOn,{day:o,dayTime:s,timeOnly:l,week:c,month:d,monthsYear:u,year:f}=t.formats.dates.presets;r=sE(i,r)??r;function h(p){return n.variant==="custom"?n.custom??p.default:n.custom&&!n.variant?n.custom:p[n.variant??"default"]}switch(r){case ut.Custom:return Ra(t,e,n.custom);case ut.Day:return Ra(t,e,h(o));case ut.DayTime:return Ra(t,e,h(s));case ut.TimeOnly:return Ra(t,e,h(l));case ut.Week:case ut.WeekSun:return Dn(t,e,0,h(c));case ut.WeekMon:return Dn(t,e,1,h(c));case ut.WeekTue:return Dn(t,e,2,h(c));case ut.WeekWed:return Dn(t,e,3,h(c));case ut.WeekThu:return Dn(t,e,4,h(c));case ut.WeekFri:return Dn(t,e,5,h(c));case ut.WeekSat:return Dn(t,e,6,h(c));case ut.Month:return Ra(t,e,h(d));case ut.MonthYear:return Ra(t,e,h(u));case ut.Quarter:return[Ra(t,r4(e),h(d)),Ra(t,i4(e),h(u))].join(" - ");case ut.CalendarYear:return Ra(t,e,h(f));case ut.FiscalYearOctober:const p=new Date(aE(e),0,1);return Ra(t,p,h(f));case ut.BiWeek1:case ut.BiWeek1Sun:return Dn(t,e,0,h(c),1);case ut.BiWeek1Mon:return Dn(t,e,1,h(c),1);case ut.BiWeek1Tue:return Dn(t,e,2,h(c),1);case ut.BiWeek1Wed:return Dn(t,e,3,h(c),1);case ut.BiWeek1Thu:return Dn(t,e,4,h(c),1);case ut.BiWeek1Fri:return Dn(t,e,5,h(c),1);case ut.BiWeek1Sat:return Dn(t,e,6,h(c),1);case ut.BiWeek2:case ut.BiWeek2Sun:return Dn(t,e,0,h(c),2);case ut.BiWeek2Mon:return Dn(t,e,1,h(c),2);case ut.BiWeek2Tue:return Dn(t,e,2,h(c),2);case ut.BiWeek2Wed:return Dn(t,e,3,h(c),2);case ut.BiWeek2Thu:return Dn(t,e,4,h(c),2);case ut.BiWeek2Fri:return Dn(t,e,5,h(c),2);case ut.BiWeek2Sat:return Dn(t,e,6,h(c),2);default:return a5(e)}}const lE=/^\d{4}-\d{2}-\d{2}(T\d{2}:\d{2}:\d{2}(.\d+|)(Z|(-|\+)\d{2}:\d{2}))?$/;function cE(t){return lE.test(t)}var Om;(function(t){t[t.Year=0]="Year",t[t.Day=1]="Day",t[t.Hour=2]="Hour",t[t.Minute=3]="Minute",t[t.Second=4]="Second",t[t.Millisecond=5]="Millisecond"})(Om||(Om={}));function dE(t,e){const{numbers:r}=t.formats,n=e&&e!="none"?r[e]:{};return{...r.defaults,...n}}function uE(t,e,r,n={}){if(e==null)return"";if(r==="none")return`${e}`;r==null&&(r=Number.isInteger(e)?"integer":"decimal");const i=dE(t,r),s=Intl.NumberFormat(t.locale,{...i,...r!=="default"&&{style:r},minimumFractionDigits:n.fractionDigits??i.fractionDigits,maximumFractionDigits:n.fractionDigits??i.fractionDigits,...XL(n),...r==="currencyRound"&&{style:"currency",minimumFractionDigits:0,maximumFractionDigits:0},...r==="percentRound"&&{style:"percent",minimumFractionDigits:0,maximumFractionDigits:0},...r==="metric"&&{style:"decimal",notation:"compact",minimumFractionDigits:0,maximumFractionDigits:0},...r==="integer"&&{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}}).format(e);let l=n.suffix??"";return l&&Math.abs(e)>=2&&n.suffixExtraIfMany!==""&&(l+=n.suffixExtraIfMany??"s"),`${s}${l}`}function ga(t,e,r){return t<e?e:t>r?r:t}function Ua(t,e,r){return fE(W2,t,e,r)}function fE(t,e,r,n){return typeof r=="function"?r(e):e instanceof Date||cE(e)||r&&r in ut?q2(t,e,r??ut.Day,n):typeof e=="number"?uE(t,e,r,n):typeof e=="string"?e:e==null?"":`${e}`}const G2=typeof window<"u",Rm=["TRACE","DEBUG","INFO","WARN","ERROR"];class $2{constructor(e){Jt(this,"name");this.name=e}trace(...e){this.log("TRACE",...e)}debug(...e){this.log("DEBUG",...e)}info(...e){this.log("INFO",...e)}warn(...e){this.log("WARN",...e)}error(...e){this.log("ERROR",...e)}log(e,...r){var s;const i=(G2?((s=localStorage.getItem("logger"))==null?void 0:s.split(",").map(l=>l.split(":")))??[]:[]).find(l=>l[0]===this.name);if(i!=null&&Rm.indexOf(e)>=Rm.indexOf(i[1]??"DEBUG"))switch(e){case"TRACE":console.trace(`%c${this.name} %c${e}`,"color: hsl(200deg, 10%, 50%)","color: hsl(200deg, 40%, 50%)",...r);break;case"DEBUG":console.log(`%c${this.name} %c${e}`,"color: hsl(200deg, 10%, 50%)","color: hsl(200deg, 40%, 50%)",...r);break;case"INFO":console.log(`%c${this.name} %c${e}`,"color: hsl(200deg, 10%, 50%)","color: hsl(60deg, 100%, 50%)",...r);break;case"WARN":console.warn(`%c${this.name} %c${e}`,"color: hsl(200deg, 10%, 50%)","color: hsl(30deg, 100%, 50%)",...r);break;case"ERROR":console.warn(`%c${this.name} %c${e}`,"color: hsl(200deg, 10%, 50%)","color: hsl(0deg, 100%, 50%)",...r);break}}}function nd(t,e="asc"){const r=e==="asc"?1:-1;return(n,i)=>{const o=$L(t),s=o(n),l=o(i);return s==null||l==null?s==null&&l!=null?-r:s!=null&&l==null?r:0:s<l?-r:s>l?r:0}}const Nm=new Map;function zn(t=""){let e=(Nm.get(t)??0)+1;return Nm.set(t,e),t+e}const Y2=(t,e)=>{if(typeof t=="number"){if(e===3)return{mode:"rgb",r:(t>>8&15|t>>4&240)/255,g:(t>>4&15|t&240)/255,b:(t&15|t<<4&240)/255};if(e===4)return{mode:"rgb",r:(t>>12&15|t>>8&240)/255,g:(t>>8&15|t>>4&240)/255,b:(t>>4&15|t&240)/255,alpha:(t&15|t<<4&240)/255};if(e===6)return{mode:"rgb",r:(t>>16&255)/255,g:(t>>8&255)/255,b:(t&255)/255};if(e===8)return{mode:"rgb",r:(t>>24&255)/255,g:(t>>16&255)/255,b:(t>>8&255)/255,alpha:(t&255)/255}}},vE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},hE=t=>Y2(vE[t.toLowerCase()],6),pE=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,gE=t=>{let e;return(e=t.match(pE))?Y2(parseInt(e[1],16),e[1].length):void 0},fo="([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)",Gl=`${fo}%`,Op=`(?:${fo}%|${fo})`,mE=`(?:${fo}(deg|grad|rad|turn)|${fo})`,Gs="\\s*,\\s*",xE=new RegExp(`^rgba?\\(\\s*${fo}${Gs}${fo}${Gs}${fo}\\s*(?:,\\s*${Op}\\s*)?\\)$`),yE=new RegExp(`^rgba?\\(\\s*${Gl}${Gs}${Gl}${Gs}${Gl}\\s*(?:,\\s*${Op}\\s*)?\\)$`),_E=t=>{let e={mode:"rgb"},r;if(r=t.match(xE))r[1]!==void 0&&(e.r=r[1]/255),r[2]!==void 0&&(e.g=r[2]/255),r[3]!==void 0&&(e.b=r[3]/255);else if(r=t.match(yE))r[1]!==void 0&&(e.r=r[1]/100),r[2]!==void 0&&(e.g=r[2]/100),r[3]!==void 0&&(e.b=r[3]/100);else return;return r[4]!==void 0?e.alpha=Math.max(0,Math.min(1,r[4]/100)):r[5]!==void 0&&(e.alpha=Math.max(0,Math.min(1,+r[5]))),e},bE=(t,e)=>t===void 0?void 0:typeof t!="object"?IE(t):t.mode!==void 0?t:e?{...t,mode:e}:void 0,wE=(t="rgb")=>e=>(e=bE(e,t))!==void 0?e.mode===t?e:hi[e.mode][t]?hi[e.mode][t](e):t==="rgb"?hi[e.mode].rgb(e):hi.rgb[t](hi[e.mode].rgb(e)):void 0,hi={},X2={},ru=[],K2={},kE=t=>t,tn=t=>(hi[t.mode]={...hi[t.mode],...t.toMode},Object.keys(t.fromMode||{}).forEach(e=>{hi[e]||(hi[e]={}),hi[e][t.mode]=t.fromMode[e]}),t.ranges||(t.ranges={}),t.difference||(t.difference={}),t.channels.forEach(e=>{if(t.ranges[e]===void 0&&(t.ranges[e]=[0,1]),!t.interpolate[e])throw new Error(`Missing interpolator for: ${e}`);typeof t.interpolate[e]=="function"&&(t.interpolate[e]={use:t.interpolate[e]}),t.interpolate[e].fixup||(t.interpolate[e].fixup=kE)}),X2[t.mode]=t,(t.parse||[]).forEach(e=>{CE(e,t.mode)}),wE(t.mode)),SE=t=>X2[t],CE=(t,e)=>{if(typeof t=="string"){if(!e)throw new Error("'mode' required when 'parser' is a string");K2[t]=e}else typeof t=="function"&&ru.indexOf(t)<0&&ru.push(t)},Kh=/[^\x00-\x7F]|[a-zA-Z_]/,AE=/[^\x00-\x7F]|[-\w]/,pt={Function:"function",Ident:"ident",Number:"number",Percentage:"percentage",ParenClose:")",None:"none",Hue:"hue",Alpha:"alpha"};let ur=0;function ad(t){let e=t[ur],r=t[ur+1];return e==="-"||e==="+"?/\d/.test(r)||r==="."&&/\d/.test(t[ur+2]):e==="."?/\d/.test(r):/\d/.test(e)}function Qh(t){if(ur>=t.length)return!1;let e=t[ur];if(Kh.test(e))return!0;if(e==="-"){if(t.length-ur<2)return!1;let r=t[ur+1];return!!(r==="-"||Kh.test(r))}return!1}const ME={deg:1,rad:180/Math.PI,grad:9/10,turn:360};function wl(t){let e="";if((t[ur]==="-"||t[ur]==="+")&&(e+=t[ur++]),e+=id(t),t[ur]==="."&&/\d/.test(t[ur+1])&&(e+=t[ur++]+id(t)),(t[ur]==="e"||t[ur]==="E")&&((t[ur+1]==="-"||t[ur+1]==="+")&&/\d/.test(t[ur+2])?e+=t[ur++]+t[ur++]+id(t):/\d/.test(t[ur+1])&&(e+=t[ur++]+id(t))),Qh(t)){let r=nu(t);return r==="deg"||r==="rad"||r==="turn"||r==="grad"?{type:pt.Hue,value:e*ME[r]}:void 0}return t[ur]==="%"?(ur++,{type:pt.Percentage,value:+e}):{type:pt.Number,value:+e}}function id(t){let e="";for(;/\d/.test(t[ur]);)e+=t[ur++];return e}function nu(t){let e="";for(;ur<t.length&&AE.test(t[ur]);)e+=t[ur++];return e}function PE(t){let e=nu(t);return t[ur]==="("?(ur++,{type:pt.Function,value:e}):e==="none"?{type:pt.None,value:void 0}:{type:pt.Ident,value:e}}function DE(t=""){let e=t.trim(),r=[],n;for(ur=0;ur<e.length;){if(n=e[ur++],n===`
`||n==="	"||n===" "){for(;ur<e.length&&(e[ur]===`
`||e[ur]==="	"||e[ur]===" ");)ur++;continue}if(n===",")return;if(n===")"){r.push({type:pt.ParenClose});continue}if(n==="+"){if(ur--,ad(e)){r.push(wl(e));continue}return}if(n==="-"){if(ur--,ad(e)){r.push(wl(e));continue}if(Qh(e)){r.push({type:pt.Ident,value:nu(e)});continue}return}if(n==="."){if(ur--,ad(e)){r.push(wl(e));continue}return}if(n==="/"){for(;ur<e.length&&(e[ur]===`
`||e[ur]==="	"||e[ur]===" ");)ur++;let i;if(ad(e)&&(i=wl(e),i.type!==pt.Hue)){r.push({type:pt.Alpha,value:i});continue}if(Qh(e)&&nu(e)==="none"){r.push({type:pt.Alpha,value:{type:pt.None,value:void 0}});continue}return}if(/\d/.test(n)){ur--,r.push(wl(e));continue}if(Kh.test(n)){ur--,r.push(PE(e));continue}return}return r}function LE(t){t._i=0;let e=t[t._i++];if(!e||e.type!==pt.Function||e.value!=="color"||(e=t[t._i++],e.type!==pt.Ident))return;const r=K2[e.value];if(!r)return;const n={mode:r},i=Q2(t,!1);if(!i)return;const o=SE(r).channels;for(let s=0,l,c;s<o.length;s++)l=i[s],c=o[s],l.type!==pt.None&&(n[c]=l.type===pt.Number?l.value:l.value/100,c==="alpha"&&(n[c]=Math.max(0,Math.min(1,n[c]))));return n}function Q2(t,e){const r=[];let n;for(;t._i<t.length;){if(n=t[t._i++],n.type===pt.None||n.type===pt.Number||n.type===pt.Alpha||n.type===pt.Percentage||e&&n.type===pt.Hue){r.push(n);continue}if(n.type===pt.ParenClose){if(t._i<t.length)return;continue}return}if(!(r.length<3||r.length>4)){if(r.length===4){if(r[3].type!==pt.Alpha)return;r[3]=r[3].value}return r.length===3&&r.push({type:pt.None,value:void 0}),r.every(i=>i.type!==pt.Alpha)?r:void 0}}function EE(t,e){t._i=0;let r=t[t._i++];if(!r||r.type!==pt.Function)return;let n=Q2(t,e);if(n)return n.unshift(r.value),n}const IE=t=>{if(typeof t!="string")return;const e=DE(t),r=e?EE(e,!0):void 0;let n,i=0,o=ru.length;for(;i<o;)if((n=ru[i++](t,r))!==void 0)return n;return e?LE(e):void 0};function TE(t,e){if(!e||e[0]!=="rgb"&&e[0]!=="rgba")return;const r={mode:"rgb"},[,n,i,o,s]=e;if(!(n.type===pt.Hue||i.type===pt.Hue||o.type===pt.Hue))return n.type!==pt.None&&(r.r=n.type===pt.Number?n.value/255:n.value/100),i.type!==pt.None&&(r.g=i.type===pt.Number?i.value/255:i.value/100),o.type!==pt.None&&(r.b=o.type===pt.Number?o.value/255:o.value/100),s.type!==pt.None&&(r.alpha=Math.min(1,Math.max(0,s.type===pt.Number?s.value:s.value/100))),r}const OE=t=>t==="transparent"?{mode:"rgb",r:0,g:0,b:0,alpha:0}:void 0,RE=(t,e,r)=>t+r*(e-t),NE=t=>{let e=[];for(let r=0;r<t.length-1;r++){let n=t[r],i=t[r+1];n===void 0&&i===void 0?e.push(void 0):n!==void 0&&i!==void 0?e.push([n,i]):e.push(n!==void 0?[n,n]:[i,i])}return e},zE=t=>e=>{let r=NE(e);return n=>{let i=n*r.length,o=n>=1?r.length-1:Math.max(Math.floor(i),0),s=r[o];return s===void 0?void 0:t(s[0],s[1],i-o)}},Ct=zE(RE),Fn=t=>{let e=!1,r=t.map(n=>n!==void 0?(e=!0,n):1);return e?r:t},sl={mode:"rgb",channels:["r","g","b","alpha"],parse:[TE,gE,_E,hE,OE,"srgb"],serialize:"srgb",interpolate:{r:Ct,g:Ct,b:Ct,alpha:{use:Ct,fixup:Fn}},gamut:!0,white:{r:1,g:1,b:1},black:{r:0,g:0,b:0}},jf=(t=0)=>Math.pow(Math.abs(t),563/256)*Math.sign(t),zm=t=>{let e=jf(t.r),r=jf(t.g),n=jf(t.b),i={mode:"xyz65",x:.5766690429101305*e+.1855582379065463*r+.1882286462349947*n,y:.297344975250536*e+.6273635662554661*r+.0752914584939979*n,z:.0270313613864123*e+.0706888525358272*r+.9913375368376386*n};return t.alpha!==void 0&&(i.alpha=t.alpha),i},Ff=t=>Math.pow(Math.abs(t),256/563)*Math.sign(t),Bm=({x:t,y:e,z:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i={mode:"a98",r:Ff(t*2.0415879038107465-e*.5650069742788597-.3447313507783297*r),g:Ff(t*-.9692436362808798+e*1.8759675015077206+.0415550574071756*r),b:Ff(t*.0134442806320312-e*.1183623922310184+1.0151749943912058*r)};return n!==void 0&&(i.alpha=n),i},Uf=(t=0)=>{const e=Math.abs(t);return e<=.04045?t/12.92:(Math.sign(t)||1)*Math.pow((e+.055)/1.055,2.4)},ll=({r:t,g:e,b:r,alpha:n})=>{let i={mode:"lrgb",r:Uf(t),g:Uf(e),b:Uf(r)};return n!==void 0&&(i.alpha=n),i},fs=t=>{let{r:e,g:r,b:n,alpha:i}=ll(t),o={mode:"xyz65",x:.4123907992659593*e+.357584339383878*r+.1804807884018343*n,y:.2126390058715102*e+.715168678767756*r+.0721923153607337*n,z:.0193308187155918*e+.119194779794626*r+.9505321522496607*n};return i!==void 0&&(o.alpha=i),o},Vf=(t=0)=>{const e=Math.abs(t);return e>.0031308?(Math.sign(t)||1)*(1.055*Math.pow(e,1/2.4)-.055):t*12.92},cl=({r:t,g:e,b:r,alpha:n},i="rgb")=>{let o={mode:i,r:Vf(t),g:Vf(e),b:Vf(r)};return n!==void 0&&(o.alpha=n),o},vs=({x:t,y:e,z:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=cl({r:t*3.2409699419045226-e*1.537383177570094-.4986107602930034*r,g:t*-.9692436362808796+e*1.8759675015077204+.0415550574071756*r,b:t*.0556300796969936-e*.2039769588889765+1.0569715142428784*r});return n!==void 0&&(i.alpha=n),i},BE={...sl,mode:"a98",parse:["a98-rgb"],serialize:"a98-rgb",fromMode:{rgb:t=>Bm(fs(t)),xyz65:Bm},toMode:{rgb:t=>vs(zm(t)),xyz65:zm}},Jn=t=>(t=t%360)<0?t+360:t,jE=(t,e)=>t.map((r,n,i)=>{if(r===void 0)return r;let o=Jn(r);return n===0||t[n-1]===void 0?o:e(o-Jn(i[n-1]))}).reduce((r,n)=>!r.length||n===void 0||r[r.length-1]===void 0?(r.push(n),r):(r.push(n+r[r.length-1]),r),[]),Ki=t=>jE(t,e=>Math.abs(e)<=180?e:e-360*Math.sign(e)),Wn=[-.14861,1.78277,-.29227,-.90649,1.97294,0],FE=Math.PI/180,UE=180/Math.PI;let jm=Wn[3]*Wn[4],Fm=Wn[1]*Wn[4],Um=Wn[1]*Wn[2]-Wn[0]*Wn[3];const VE=({r:t,g:e,b:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=(Um*r+t*jm-e*Fm)/(Um+jm-Fm),o=r-i,s=(Wn[4]*(e-i)-Wn[2]*o)/Wn[3],l={mode:"cubehelix",l:i,s:i===0||i===1?void 0:Math.sqrt(o*o+s*s)/(Wn[4]*i*(1-i))};return l.s&&(l.h=Math.atan2(s,o)*UE-120),n!==void 0&&(l.alpha=n),l},WE=({h:t,s:e,l:r,alpha:n})=>{let i={mode:"rgb"};t=(t===void 0?0:t+120)*FE,r===void 0&&(r=0);let o=e===void 0?0:e*r*(1-r),s=Math.cos(t),l=Math.sin(t);return i.r=r+o*(Wn[0]*s+Wn[1]*l),i.g=r+o*(Wn[2]*s+Wn[3]*l),i.b=r+o*(Wn[4]*s+Wn[5]*l),n!==void 0&&(i.alpha=n),i},Ju=(t,e)=>{if(t.h===void 0||e.h===void 0||!t.s||!e.s)return 0;let r=Jn(t.h),n=Jn(e.h),i=Math.sin((n-r+360)/2*Math.PI/180);return 2*Math.sqrt(t.s*e.s)*i},HE=(t,e)=>{if(t.h===void 0||e.h===void 0)return 0;let r=Jn(t.h),n=Jn(e.h);return Math.abs(n-r)>180?r-(n-360*Math.sign(n-r)):n-r},Zu=(t,e)=>{if(t.h===void 0||e.h===void 0||!t.c||!e.c)return 0;let r=Jn(t.h),n=Jn(e.h),i=Math.sin((n-r+360)/2*Math.PI/180);return 2*Math.sqrt(t.c*e.c)*i},Qi=t=>{let e=t.reduce((n,i)=>{if(i!==void 0){let o=i*Math.PI/180;n.sin+=Math.sin(o),n.cos+=Math.cos(o)}return n},{sin:0,cos:0}),r=Math.atan2(e.sin,e.cos)*180/Math.PI;return r<0?360+r:r},qE={mode:"cubehelix",channels:["h","s","l","alpha"],parse:["--cubehelix"],serialize:"--cubehelix",ranges:{h:[0,360],s:[0,4.614],l:[0,1]},fromMode:{rgb:VE},toMode:{rgb:WE},interpolate:{h:{use:Ct,fixup:Ki},s:Ct,l:Ct,alpha:{use:Ct,fixup:Fn}},difference:{h:Ju},average:{h:Qi}},go=({l:t,a:e,b:r,alpha:n},i="lch")=>{e===void 0&&(e=0),r===void 0&&(r=0);let o=Math.sqrt(e*e+r*r),s={mode:i,l:t,c:o};return o&&(s.h=Jn(Math.atan2(r,e)*180/Math.PI)),n!==void 0&&(s.alpha=n),s},mo=({l:t,c:e,h:r,alpha:n},i="lab")=>{r===void 0&&(r=0);let o={mode:i,l:t,a:e?e*Math.cos(r/180*Math.PI):0,b:e?e*Math.sin(r/180*Math.PI):0};return n!==void 0&&(o.alpha=n),o},J2=Math.pow(29,3)/Math.pow(3,3),Z2=Math.pow(6,3)/Math.pow(29,3),On={X:.3457/.3585,Y:1,Z:(1-.3457-.3585)/.3585},Es={X:.3127/.329,Y:1,Z:(1-.3127-.329)/.329};let Wf=t=>Math.pow(t,3)>Z2?Math.pow(t,3):(116*t-16)/J2;const eb=({l:t,a:e,b:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=(t+16)/116,o=e/500+i,s=i-r/200,l={mode:"xyz65",x:Wf(o)*Es.X,y:Wf(i)*Es.Y,z:Wf(s)*Es.Z};return n!==void 0&&(l.alpha=n),l},ef=t=>vs(eb(t)),Hf=t=>t>Z2?Math.cbrt(t):(J2*t+16)/116,tb=({x:t,y:e,z:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=Hf(t/Es.X),o=Hf(e/Es.Y),s=Hf(r/Es.Z),l={mode:"lab65",l:116*o-16,a:500*(i-o),b:200*(o-s)};return n!==void 0&&(l.alpha=n),l},tf=t=>{let e=tb(fs(t));return t.r===t.b&&t.b===t.g&&(e.a=e.b=0),e},au=1,rb=1,vc=26/180*Math.PI,iu=Math.cos(vc),ou=Math.sin(vc),nb=100/Math.log(139/100),Jh=({l:t,c:e,h:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i={mode:"lab65",l:(Math.exp(t*au/nb)-1)/.0039},o=(Math.exp(.0435*e*rb*au)-1)/.075,s=o*Math.cos(r/180*Math.PI-vc),l=o*Math.sin(r/180*Math.PI-vc);return i.a=s*iu-l/.83*ou,i.b=s*ou+l/.83*iu,n!==void 0&&(i.alpha=n),i},Zh=({l:t,a:e,b:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=e*iu+r*ou,o=.83*(r*iu-e*ou),s=Math.sqrt(i*i+o*o),l={mode:"dlch",l:nb/au*Math.log(1+.0039*t),c:Math.log(1+.075*s)/(.0435*rb*au)};return l.c&&(l.h=Jn((Math.atan2(o,i)+vc)/Math.PI*180)),n!==void 0&&(l.alpha=n),l},Vm=t=>Jh(go(t,"dlch")),Wm=t=>mo(Zh(t),"dlab"),GE={mode:"dlab",parse:["--din99o-lab"],serialize:"--din99o-lab",toMode:{lab65:Vm,rgb:t=>ef(Vm(t))},fromMode:{lab65:Wm,rgb:t=>Wm(tf(t))},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-40.09,45.501],b:[-40.469,44.344]},interpolate:{l:Ct,a:Ct,b:Ct,alpha:{use:Ct,fixup:Fn}}},$E={mode:"dlch",parse:["--din99o-lch"],serialize:"--din99o-lch",toMode:{lab65:Jh,dlab:t=>mo(t,"dlab"),rgb:t=>ef(Jh(t))},fromMode:{lab65:Zh,dlab:t=>go(t,"dlch"),rgb:t=>Zh(tf(t))},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,51.484],h:[0,360]},interpolate:{l:Ct,c:Ct,h:{use:Ct,fixup:Ki},alpha:{use:Ct,fixup:Fn}},difference:{h:Zu},average:{h:Qi}};function YE({h:t,s:e,i:r,alpha:n}){t=Jn(t!==void 0?t:0),e===void 0&&(e=0),r===void 0&&(r=0);let i=Math.abs(t/60%2-1),o;switch(Math.floor(t/60)){case 0:o={r:r*(1+e*(3/(2-i)-1)),g:r*(1+e*(3*(1-i)/(2-i)-1)),b:r*(1-e)};break;case 1:o={r:r*(1+e*(3*(1-i)/(2-i)-1)),g:r*(1+e*(3/(2-i)-1)),b:r*(1-e)};break;case 2:o={r:r*(1-e),g:r*(1+e*(3/(2-i)-1)),b:r*(1+e*(3*(1-i)/(2-i)-1))};break;case 3:o={r:r*(1-e),g:r*(1+e*(3*(1-i)/(2-i)-1)),b:r*(1+e*(3/(2-i)-1))};break;case 4:o={r:r*(1+e*(3*(1-i)/(2-i)-1)),g:r*(1-e),b:r*(1+e*(3/(2-i)-1))};break;case 5:o={r:r*(1+e*(3/(2-i)-1)),g:r*(1-e),b:r*(1+e*(3*(1-i)/(2-i)-1))};break;default:o={r:r*(1-e),g:r*(1-e),b:r*(1-e)}}return o.mode="rgb",n!==void 0&&(o.alpha=n),o}function XE({r:t,g:e,b:r,alpha:n}){t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=Math.max(t,e,r),o=Math.min(t,e,r),s={mode:"hsi",s:t+e+r===0?0:1-3*o/(t+e+r),i:(t+e+r)/3};return i-o!==0&&(s.h=(i===t?(e-r)/(i-o)+(e<r)*6:i===e?(r-t)/(i-o)+2:(t-e)/(i-o)+4)*60),n!==void 0&&(s.alpha=n),s}const KE={mode:"hsi",toMode:{rgb:YE},parse:["--hsi"],serialize:"--hsi",fromMode:{rgb:XE},channels:["h","s","i","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:Ct,fixup:Ki},s:Ct,i:Ct,alpha:{use:Ct,fixup:Fn}},difference:{h:Ju},average:{h:Qi}};function QE({h:t,s:e,l:r,alpha:n}){t=Jn(t!==void 0?t:0),e===void 0&&(e=0),r===void 0&&(r=0);let i=r+e*(r<.5?r:1-r),o=i-(i-r)*2*Math.abs(t/60%2-1),s;switch(Math.floor(t/60)){case 0:s={r:i,g:o,b:2*r-i};break;case 1:s={r:o,g:i,b:2*r-i};break;case 2:s={r:2*r-i,g:i,b:o};break;case 3:s={r:2*r-i,g:o,b:i};break;case 4:s={r:o,g:2*r-i,b:i};break;case 5:s={r:i,g:2*r-i,b:o};break;default:s={r:2*r-i,g:2*r-i,b:2*r-i}}return s.mode="rgb",n!==void 0&&(s.alpha=n),s}function JE({r:t,g:e,b:r,alpha:n}){t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=Math.max(t,e,r),o=Math.min(t,e,r),s={mode:"hsl",s:i===o?0:(i-o)/(1-Math.abs(i+o-1)),l:.5*(i+o)};return i-o!==0&&(s.h=(i===t?(e-r)/(i-o)+(e<r)*6:i===e?(r-t)/(i-o)+2:(t-e)/(i-o)+4)*60),n!==void 0&&(s.alpha=n),s}const ZE=(t,e)=>{switch(e){case"deg":return+t;case"rad":return t/Math.PI*180;case"grad":return t/10*9;case"turn":return t*360}},eI=new RegExp(`^hsla?\\(\\s*${mE}${Gs}${Gl}${Gs}${Gl}\\s*(?:,\\s*${Op}\\s*)?\\)$`),tI=t=>{let e=t.match(eI);if(!e)return;let r={mode:"hsl"};return e[3]!==void 0?r.h=+e[3]:e[1]!==void 0&&e[2]!==void 0&&(r.h=ZE(e[1],e[2])),e[4]!==void 0&&(r.s=Math.min(Math.max(0,e[4]/100),1)),e[5]!==void 0&&(r.l=Math.min(Math.max(0,e[5]/100),1)),e[6]!==void 0?r.alpha=Math.max(0,Math.min(1,e[6]/100)):e[7]!==void 0&&(r.alpha=Math.max(0,Math.min(1,+e[7]))),r};function rI(t,e){if(!e||e[0]!=="hsl"&&e[0]!=="hsla")return;const r={mode:"hsl"},[,n,i,o,s]=e;if(n.type!==pt.None){if(n.type===pt.Percentage)return;r.h=n.value}if(i.type!==pt.None){if(i.type===pt.Hue)return;r.s=i.value/100}if(o.type!==pt.None){if(o.type===pt.Hue)return;r.l=o.value/100}return s.type!==pt.None&&(r.alpha=Math.min(1,Math.max(0,s.type===pt.Number?s.value:s.value/100))),r}const ab={mode:"hsl",toMode:{rgb:QE},fromMode:{rgb:JE},channels:["h","s","l","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[rI,tI],serialize:t=>`hsl(${t.h!==void 0?t.h:"none"} ${t.s!==void 0?t.s*100+"%":"none"} ${t.l!==void 0?t.l*100+"%":"none"}${t.alpha<1?` / ${t.alpha}`:""})`,interpolate:{h:{use:Ct,fixup:Ki},s:Ct,l:Ct,alpha:{use:Ct,fixup:Fn}},difference:{h:Ju},average:{h:Qi}};function ib({h:t,s:e,v:r,alpha:n}){t=Jn(t!==void 0?t:0),e===void 0&&(e=0),r===void 0&&(r=0);let i=Math.abs(t/60%2-1),o;switch(Math.floor(t/60)){case 0:o={r,g:r*(1-e*i),b:r*(1-e)};break;case 1:o={r:r*(1-e*i),g:r,b:r*(1-e)};break;case 2:o={r:r*(1-e),g:r,b:r*(1-e*i)};break;case 3:o={r:r*(1-e),g:r*(1-e*i),b:r};break;case 4:o={r:r*(1-e*i),g:r*(1-e),b:r};break;case 5:o={r,g:r*(1-e),b:r*(1-e*i)};break;default:o={r:r*(1-e),g:r*(1-e),b:r*(1-e)}}return o.mode="rgb",n!==void 0&&(o.alpha=n),o}function ob({r:t,g:e,b:r,alpha:n}){t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=Math.max(t,e,r),o=Math.min(t,e,r),s={mode:"hsv",s:i===0?0:1-o/i,v:i};return i-o!==0&&(s.h=(i===t?(e-r)/(i-o)+(e<r)*6:i===e?(r-t)/(i-o)+2:(t-e)/(i-o)+4)*60),n!==void 0&&(s.alpha=n),s}const sb={mode:"hsv",toMode:{rgb:ib},parse:["--hsv"],serialize:"--hsv",fromMode:{rgb:ob},channels:["h","s","v","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:Ct,fixup:Ki},s:Ct,v:Ct,alpha:{use:Ct,fixup:Fn}},difference:{h:Ju},average:{h:Qi}};function nI({h:t,w:e,b:r,alpha:n}){if(e===void 0&&(e=0),r===void 0&&(r=0),e+r>1){let i=e+r;e/=i,r/=i}return ib({h:t,s:r===1?1:1-e/(1-r),v:1-r,alpha:n})}function aI(t){let e=ob(t);if(e===void 0)return;let r=e.s!==void 0?e.s:0,n=e.v!==void 0?e.v:0,i={mode:"hwb",w:(1-r)*n,b:1-n};return e.h!==void 0&&(i.h=e.h),e.alpha!==void 0&&(i.alpha=e.alpha),i}function iI(t,e){if(!e||e[0]!=="hwb")return;const r={mode:"hwb"},[,n,i,o,s]=e;if(n.type!==pt.None){if(n.type===pt.Percentage)return;r.h=n.value}if(i.type!==pt.None){if(i.type===pt.Hue)return;r.w=i.value/100}if(o.type!==pt.None){if(o.type===pt.Hue)return;r.b=o.value/100}return s.type!==pt.None&&(r.alpha=Math.min(1,Math.max(0,s.type===pt.Number?s.value:s.value/100))),r}const oI={mode:"hwb",toMode:{rgb:nI},fromMode:{rgb:aI},channels:["h","w","b","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[iI],serialize:t=>`hwb(${t.h!==void 0?t.h:"none"} ${t.w!==void 0?t.w*100+"%":"none"} ${t.b!==void 0?t.b*100+"%":"none"}${t.alpha<1?` / ${t.alpha}`:""})`,interpolate:{h:{use:Ct,fixup:Ki},w:Ct,b:Ct,alpha:{use:Ct,fixup:Fn}},difference:{h:HE},average:{h:Qi}},lb=203,rf=.1593017578125,cb=78.84375,nf=.8359375,af=18.8515625,of=18.6875;function qf(t){if(t<0)return 0;const e=Math.pow(t,1/cb);return 1e4*Math.pow(Math.max(0,e-nf)/(af-of*e),1/rf)}function Gf(t){if(t<0)return 0;const e=Math.pow(t/1e4,rf);return Math.pow((nf+af*e)/(1+of*e),cb)}const $f=t=>Math.max(t/lb,0),Hm=({i:t,t:e,p:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);const i=qf(t+.008609037037932761*e+.11102962500302593*r),o=qf(t-.00860903703793275*e-.11102962500302599*r),s=qf(t+.5600313357106791*e-.32062717498731885*r),l={mode:"xyz65",x:$f(2.070152218389422*i-1.3263473389671556*o+.2066510476294051*s),y:$f(.3647385209748074*i+.680566024947227*o-.0453045459220346*s),z:$f(-.049747207535812*i-.0492609666966138*o+1.1880659249923042*s)};return n!==void 0&&(l.alpha=n),l},Yf=(t=0)=>Math.max(t*lb,0),qm=({x:t,y:e,z:r,alpha:n})=>{const i=Yf(t),o=Yf(e),s=Yf(r),l=Gf(.3592832590121217*i+.6976051147779502*o-.0358915932320289*s),c=Gf(-.1920808463704995*i+1.1004767970374323*o+.0753748658519118*s),d=Gf(.0070797844607477*i+.0748396662186366*o+.8433265453898765*s),u=.5*l+.5*c,f=1.61376953125*l-3.323486328125*c+1.709716796875*d,h=4.378173828125*l-4.24560546875*c-.132568359375*d,p={mode:"itp",i:u,t:f,p:h};return n!==void 0&&(p.alpha=n),p},sI={mode:"itp",channels:["i","t","p","alpha"],parse:["--ictcp"],serialize:"--ictcp",toMode:{xyz65:Hm,rgb:t=>vs(Hm(t))},fromMode:{xyz65:qm,rgb:t=>qm(fs(t))},ranges:{i:[0,.581],t:[-.369,.272],p:[-.164,.331]},interpolate:{i:Ct,t:Ct,p:Ct,alpha:{use:Ct,fixup:Fn}}},lI=134.03437499999998,cI=16295499532821565e-27,Xf=t=>{if(t<0)return 0;let e=Math.pow(t/1e4,rf);return Math.pow((nf+af*e)/(1+of*e),lI)},Kf=(t=0)=>Math.max(t*203,0),db=({x:t,y:e,z:r,alpha:n})=>{t=Kf(t),e=Kf(e),r=Kf(r);let i=1.15*t-.15*r,o=.66*e+.34*t,s=Xf(.41478972*i+.579999*o+.014648*r),l=Xf(-.20151*i+1.120649*o+.0531008*r),c=Xf(-.0166008*i+.2648*o+.6684799*r),d=(s+l)/2,u={mode:"jab",j:.44*d/(1-.56*d)-cI,a:3.524*s-4.066708*l+.542708*c,b:.199076*s+1.096799*l-1.295875*c};return n!==void 0&&(u.alpha=n),u},dI=134.03437499999998,Gm=16295499532821565e-27,Qf=t=>{if(t<0)return 0;let e=Math.pow(t,1/dI);return 1e4*Math.pow((nf-e)/(of*e-af),1/rf)},Jf=t=>t/203,ub=({j:t,a:e,b:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=(t+Gm)/(.44+.56*(t+Gm)),o=Qf(i+.13860504*e+.058047316*r),s=Qf(i-.13860504*e-.058047316*r),l=Qf(i-.096019242*e-.8118919*r),c={mode:"xyz65",x:Jf(1.661373024652174*o-.914523081304348*s+.23136208173913045*l),y:Jf(-.3250758611844533*o+1.571847026732543*s-.21825383453227928*l),z:Jf(-.090982811*o-.31272829*s+1.5227666*l)};return n!==void 0&&(c.alpha=n),c},fb=t=>{let e=db(fs(t));return t.r===t.b&&t.b===t.g&&(e.a=e.b=0),e},vb=t=>vs(ub(t)),uI={mode:"jab",channels:["j","a","b","alpha"],parse:["--jzazbz"],serialize:"--jzazbz",fromMode:{rgb:fb,xyz65:db},toMode:{rgb:vb,xyz65:ub},ranges:{j:[0,.222],a:[-.109,.129],b:[-.185,.134]},interpolate:{j:Ct,a:Ct,b:Ct,alpha:{use:Ct,fixup:Fn}}},$m=({j:t,a:e,b:r,alpha:n})=>{e===void 0&&(e=0),r===void 0&&(r=0);let i=Math.sqrt(e*e+r*r),o={mode:"jch",j:t,c:i};return i&&(o.h=Jn(Math.atan2(r,e)*180/Math.PI)),n!==void 0&&(o.alpha=n),o},Ym=({j:t,c:e,h:r,alpha:n})=>{r===void 0&&(r=0);let i={mode:"jab",j:t,a:e?e*Math.cos(r/180*Math.PI):0,b:e?e*Math.sin(r/180*Math.PI):0};return n!==void 0&&(i.alpha=n),i},fI={mode:"jch",parse:["--jzczhz"],serialize:"--jzczhz",toMode:{jab:Ym,rgb:t=>vb(Ym(t))},fromMode:{rgb:t=>$m(fb(t)),jab:$m},channels:["j","c","h","alpha"],ranges:{j:[0,.221],c:[0,.19],h:[0,360]},interpolate:{h:{use:Ct,fixup:Ki},c:Ct,j:Ct,alpha:{use:Ct,fixup:Fn}},difference:{h:Zu},average:{h:Qi}},sf=Math.pow(29,3)/Math.pow(3,3),Rp=Math.pow(6,3)/Math.pow(29,3);let Zf=t=>Math.pow(t,3)>Rp?Math.pow(t,3):(116*t-16)/sf;const Np=({l:t,a:e,b:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=(t+16)/116,o=e/500+i,s=i-r/200,l={mode:"xyz50",x:Zf(o)*On.X,y:Zf(i)*On.Y,z:Zf(s)*On.Z};return n!==void 0&&(l.alpha=n),l},Oc=({x:t,y:e,z:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=cl({r:t*3.1341359569958707-e*1.6173863321612538-.4906619460083532*r,g:t*-.978795502912089+e*1.916254567259524+.03344273116131949*r,b:t*.07195537988411677-e*.2289768264158322+1.405386058324125*r});return n!==void 0&&(i.alpha=n),i},hb=t=>Oc(Np(t)),Rc=t=>{let{r:e,g:r,b:n,alpha:i}=ll(t),o={mode:"xyz50",x:.436065742824811*e+.3851514688337912*r+.14307845442264197*n,y:.22249319175623702*e+.7168870538238823*r+.06061979053616537*n,z:.013923904500943465*e+.09708128566574634*r+.7140993584005155*n};return i!==void 0&&(o.alpha=i),o},ev=t=>t>Rp?Math.cbrt(t):(sf*t+16)/116,zp=({x:t,y:e,z:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=ev(t/On.X),o=ev(e/On.Y),s=ev(r/On.Z),l={mode:"lab",l:116*o-16,a:500*(i-o),b:200*(o-s)};return n!==void 0&&(l.alpha=n),l},pb=t=>{let e=zp(Rc(t));return t.r===t.b&&t.b===t.g&&(e.a=e.b=0),e};function vI(t,e){if(!e||e[0]!=="lab")return;const r={mode:"lab"},[,n,i,o,s]=e;if(!(n.type===pt.Hue||i.type===pt.Hue||o.type===pt.Hue))return n.type!==pt.None&&(r.l=Math.min(Math.max(0,n.value),100)),i.type!==pt.None&&(r.a=i.type===pt.Number?i.value:i.value*125/100),o.type!==pt.None&&(r.b=o.type===pt.Number?o.value:o.value*125/100),s.type!==pt.None&&(r.alpha=Math.min(1,Math.max(0,s.type===pt.Number?s.value:s.value/100))),r}const Bp={mode:"lab",toMode:{xyz50:Np,rgb:hb},fromMode:{xyz50:zp,rgb:pb},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-100,100],b:[-100,100]},parse:[vI],serialize:t=>`lab(${t.l!==void 0?t.l:"none"} ${t.a!==void 0?t.a:"none"} ${t.b!==void 0?t.b:"none"}${t.alpha<1?` / ${t.alpha}`:""})`,interpolate:{l:Ct,a:Ct,b:Ct,alpha:{use:Ct,fixup:Fn}}},hI={...Bp,mode:"lab65",parse:["--lab-d65"],serialize:"--lab-d65",toMode:{xyz65:eb,rgb:ef},fromMode:{xyz65:tb,rgb:tf},ranges:{l:[0,100],a:[-86.182,98.234],b:[-107.86,94.477]}};function pI(t,e){if(!e||e[0]!=="lch")return;const r={mode:"lch"},[,n,i,o,s]=e;if(n.type!==pt.None){if(n.type===pt.Hue)return;r.l=Math.min(Math.max(0,n.value),100)}if(i.type!==pt.None&&(r.c=Math.max(0,i.type===pt.Number?i.value:i.value*150/100)),o.type!==pt.None){if(o.type===pt.Percentage)return;r.h=o.value}return s.type!==pt.None&&(r.alpha=Math.min(1,Math.max(0,s.type===pt.Number?s.value:s.value/100))),r}const jp={mode:"lch",toMode:{lab:mo,rgb:t=>hb(mo(t))},fromMode:{rgb:t=>go(pb(t)),lab:go},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,150],h:[0,360]},parse:[pI],serialize:t=>`lch(${t.l!==void 0?t.l:"none"} ${t.c!==void 0?t.c:"none"} ${t.h!==void 0?t.h:"none"}${t.alpha<1?` / ${t.alpha}`:""})`,interpolate:{h:{use:Ct,fixup:Ki},c:Ct,l:Ct,alpha:{use:Ct,fixup:Fn}},difference:{h:Zu},average:{h:Qi}},gI={...jp,mode:"lch65",parse:["--lch-d65"],serialize:"--lch-d65",toMode:{lab65:t=>mo(t,"lab65"),rgb:t=>ef(mo(t,"lab65"))},fromMode:{rgb:t=>go(tf(t),"lch65"),lab65:t=>go(t,"lch65")},ranges:{l:[0,100],c:[0,133.807],h:[0,360]}},gb=({l:t,u:e,v:r,alpha:n})=>{e===void 0&&(e=0),r===void 0&&(r=0);let i=Math.sqrt(e*e+r*r),o={mode:"lchuv",l:t,c:i};return i&&(o.h=Jn(Math.atan2(r,e)*180/Math.PI)),n!==void 0&&(o.alpha=n),o},mb=({l:t,c:e,h:r,alpha:n})=>{r===void 0&&(r=0);let i={mode:"luv",l:t,u:e?e*Math.cos(r/180*Math.PI):0,v:e?e*Math.sin(r/180*Math.PI):0};return n!==void 0&&(i.alpha=n),i},xb=(t,e,r)=>4*t/(t+15*e+3*r),yb=(t,e,r)=>9*e/(t+15*e+3*r),mI=xb(On.X,On.Y,On.Z),xI=yb(On.X,On.Y,On.Z),yI=t=>t<=Rp?sf*t:116*Math.cbrt(t)-16,e0=({x:t,y:e,z:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=yI(e/On.Y),o=xb(t,e,r),s=yb(t,e,r);!isFinite(o)||!isFinite(s)?i=o=s=0:(o=13*i*(o-mI),s=13*i*(s-xI));let l={mode:"luv",l:i,u:o,v:s};return n!==void 0&&(l.alpha=n),l},_I=(t,e,r)=>4*t/(t+15*e+3*r),bI=(t,e,r)=>9*e/(t+15*e+3*r),wI=_I(On.X,On.Y,On.Z),kI=bI(On.X,On.Y,On.Z),t0=({l:t,u:e,v:r,alpha:n})=>{if(t===void 0&&(t=0),t===0)return{mode:"xyz50",x:0,y:0,z:0};e===void 0&&(e=0),r===void 0&&(r=0);let i=e/(13*t)+wI,o=r/(13*t)+kI,s=On.Y*(t<=8?t/sf:Math.pow((t+16)/116,3)),l=s*(9*i)/(4*o),c=s*(12-3*i-20*o)/(4*o),d={mode:"xyz50",x:l,y:s,z:c};return n!==void 0&&(d.alpha=n),d},SI=t=>gb(e0(Rc(t))),CI=t=>Oc(t0(mb(t))),AI={mode:"lchuv",toMode:{luv:mb,rgb:CI},fromMode:{rgb:SI,luv:gb},channels:["l","c","h","alpha"],parse:["--lchuv"],serialize:"--lchuv",ranges:{l:[0,100],c:[0,176.956],h:[0,360]},interpolate:{h:{use:Ct,fixup:Ki},c:Ct,l:Ct,alpha:{use:Ct,fixup:Fn}},difference:{h:Zu},average:{h:Qi}},MI={...sl,mode:"lrgb",toMode:{rgb:cl},fromMode:{rgb:ll},parse:["srgb-linear"],serialize:"srgb-linear"},PI={mode:"luv",toMode:{xyz50:t0,rgb:t=>Oc(t0(t))},fromMode:{xyz50:e0,rgb:t=>e0(Rc(t))},channels:["l","u","v","alpha"],parse:["--luv"],serialize:"--luv",ranges:{l:[0,100],u:[-84.936,175.042],v:[-125.882,87.243]},interpolate:{l:Ct,u:Ct,v:Ct,alpha:{use:Ct,fixup:Fn}}},_b=({r:t,g:e,b:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=Math.cbrt(.41222147079999993*t+.5363325363*e+.0514459929*r),o=Math.cbrt(.2119034981999999*t+.6806995450999999*e+.1073969566*r),s=Math.cbrt(.08830246189999998*t+.2817188376*e+.6299787005000002*r),l={mode:"oklab",l:.2104542553*i+.793617785*o-.0040720468*s,a:1.9779984951*i-2.428592205*o+.4505937099*s,b:.0259040371*i+.7827717662*o-.808675766*s};return n!==void 0&&(l.alpha=n),l},lf=t=>{let e=_b(ll(t));return t.r===t.b&&t.b===t.g&&(e.a=e.b=0),e},Nc=({l:t,a:e,b:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=Math.pow(t*.9999999984505198+.39633779217376786*e+.2158037580607588*r,3),o=Math.pow(t*1.0000000088817609-.10556134232365635*e-.06385417477170591*r,3),s=Math.pow(t*1.0000000546724108-.08948418209496575*e-1.2914855378640917*r,3),l={mode:"lrgb",r:4.076741661347994*i-3.307711590408193*o+.230969928729428*s,g:-1.2684380040921763*i+2.6097574006633715*o-.3413193963102197*s,b:-.004196086541837188*i-.7034186144594493*o+1.7076147009309444*s};return n!==void 0&&(l.alpha=n),l},cf=t=>cl(Nc(t));function r0(t){const n=1.170873786407767;return .5*(n*t-.206+Math.sqrt((n*t-.206)*(n*t-.206)+4*.03*n*t))}function su(t){return(t*t+.206*t)/(1.170873786407767*(t+.03))}function DI(t,e){let r,n,i,o,s,l,c,d;-1.88170328*t-.80936493*e>1?(r=1.19086277,n=1.76576728,i=.59662641,o=.75515197,s=.56771245,l=4.0767416621,c=-3.3077115913,d=.2309699292):1.81444104*t-1.19445276*e>1?(r=.73956515,n=-.45954404,i=.08285427,o=.1254107,s=.14503204,l=-1.2684380046,c=2.6097574011,d=-.3413193965):(r=1.35733652,n=-.00915799,i=-1.1513021,o=-.50559606,s=.00692167,l=-.0041960863,c=-.7034186147,d=1.707614701);let u=r+n*t+i*e+o*t*t+s*t*e,f=.3963377774*t+.2158037573*e,h=-.1055613458*t-.0638541728*e,p=-.0894841775*t-1.291485548*e;{let m=1+u*f,y=1+u*h,_=1+u*p,S=m*m*m,w=y*y*y,C=_*_*_,L=3*f*m*m,k=3*h*y*y,P=3*p*_*_,z=6*f*f*m,T=6*h*h*y,M=6*p*p*_,D=l*S+c*w+d*C,A=l*L+c*k+d*P,O=l*z+c*T+d*M;u=u-D*A/(A*A-.5*D*O)}return u}function Fp(t,e){let r=DI(t,e),n=Nc({l:1,a:r*t,b:r*e}),i=Math.cbrt(1/Math.max(n.r,n.g,n.b)),o=i*r;return[i,o]}function LI(t,e,r,n,i,o=null){o||(o=Fp(t,e));let s;if((r-i)*o[1]-(o[0]-i)*n<=0)s=o[1]*i/(n*o[0]+o[1]*(i-r));else{s=o[1]*(i-1)/(n*(o[0]-1)+o[1]*(i-r));{let l=r-i,c=n,d=.3963377774*t+.2158037573*e,u=-.1055613458*t-.0638541728*e,f=-.0894841775*t-1.291485548*e,h=l+c*d,p=l+c*u,m=l+c*f;{let y=i*(1-s)+s*r,_=s*n,S=y+_*d,w=y+_*u,C=y+_*f,L=S*S*S,k=w*w*w,P=C*C*C,z=3*h*S*S,T=3*p*w*w,M=3*m*C*C,D=6*h*h*S,A=6*p*p*w,O=6*m*m*C,I=4.0767416621*L-3.3077115913*k+.2309699292*P-1,B=4.0767416621*z-3.3077115913*T+.2309699292*M,j=4.0767416621*D-3.3077115913*A+.2309699292*O,V=B/(B*B-.5*I*j),F=-I*V,N=-1.2684380046*L+2.6097574011*k-.3413193965*P-1,q=-1.2684380046*z+2.6097574011*T-.3413193965*M,G=-1.2684380046*D+2.6097574011*A-.3413193965*O,Q=q/(q*q-.5*N*G),Z=-N*Q,E=-.0041960863*L-.7034186147*k+1.707614701*P-1,U=-.0041960863*z-.7034186147*T+1.707614701*M,$=-.0041960863*D-.7034186147*A+1.707614701*O,ee=U/(U*U-.5*E*$),se=-E*ee;F=V>=0?F:1e6,Z=Q>=0?Z:1e6,se=ee>=0?se:1e6,s+=Math.min(F,Math.min(Z,se))}}}return s}function Up(t,e,r=null){r||(r=Fp(t,e));let n=r[0],i=r[1];return[i/n,i/(1-n)]}function bb(t,e,r){let n=Fp(e,r),i=LI(e,r,t,1,t,n),o=Up(e,r,n),s=.11516993+1/(7.4477897+4.1590124*r+e*(-2.19557347+1.75198401*r+e*(-2.13704948-10.02301043*r+e*(-4.24894561+5.38770819*r+4.69891013*e)))),l=.11239642+1/(1.6132032-.68124379*r+e*(.40370612+.90148123*r+e*(-.27087943+.6122399*r+e*(.00299215-.45399568*r-.14661872*e)))),c=i/Math.min(t*o[0],(1-t)*o[1]),d=t*s,u=(1-t)*l,f=.9*c*Math.sqrt(Math.sqrt(1/(1/(d*d*d*d)+1/(u*u*u*u))));return d=t*.4,u=(1-t)*.8,[Math.sqrt(1/(1/(d*d)+1/(u*u))),f,i]}function Xm(t){const e=t.l!==void 0?t.l:0,r=t.a!==void 0?t.a:0,n=t.b!==void 0?t.b:0,i={mode:"okhsl",l:r0(e)};t.alpha!==void 0&&(i.alpha=t.alpha);let o=Math.sqrt(r*r+n*n);if(!o)return i.s=0,i;let[s,l,c]=bb(e,r/o,n/o),d;if(o<l){let u=0,f=.8*s,h=1-f/l;d=(o-u)/(f+h*(o-u))*.8}else{let u=l,f=.2*l*l*1.25*1.25/s,h=1-f/(c-l);d=.8+.2*((o-u)/(f+h*(o-u)))}return d&&(i.s=d,i.h=Jn(Math.atan2(n,r)*180/Math.PI)),i}function Km(t){let e=t.h!==void 0?t.h:0,r=t.s!==void 0?t.s:0,n=t.l!==void 0?t.l:0;const i={mode:"oklab",l:su(n)};if(t.alpha!==void 0&&(i.alpha=t.alpha),!r||n===1)return i.a=i.b=0,i;let o=Math.cos(e/180*Math.PI),s=Math.sin(e/180*Math.PI),[l,c,d]=bb(i.l,o,s),u,f,h,p;r<.8?(u=1.25*r,f=0,h=.8*l,p=1-h/c):(u=5*(r-.8),f=c,h=.2*c*c*1.25*1.25/l,p=1-h/(d-c));let m=f+u*h/(1-p*u);return i.a=m*o,i.b=m*s,i}const EI={...ab,mode:"okhsl",channels:["h","s","l","alpha"],parse:["--okhsl"],serialize:"--okhsl",fromMode:{oklab:Xm,rgb:t=>Xm(lf(t))},toMode:{oklab:Km,rgb:t=>cf(Km(t))}};function Qm(t){let e=t.l!==void 0?t.l:0,r=t.a!==void 0?t.a:0,n=t.b!==void 0?t.b:0,i=Math.sqrt(r*r+n*n),o=i?r/i:1,s=i?n/i:1,[l,c]=Up(o,s),d=.5,u=1-d/l,f=c/(i+e*c),h=f*e,p=f*i,m=su(h),y=p*m/h,_=Nc({l:m,a:o*y,b:s*y}),S=Math.cbrt(1/Math.max(_.r,_.g,_.b,0));e=e/S,i=i/S*r0(e)/e,e=r0(e);const w={mode:"okhsv",s:i?(d+c)*p/(c*d+c*u*p):0,v:e?e/h:0};return w.s&&(w.h=Jn(Math.atan2(n,r)*180/Math.PI)),t.alpha!==void 0&&(w.alpha=t.alpha),w}function Jm(t){const e={mode:"oklab"};t.alpha!==void 0&&(e.alpha=t.alpha);const r=t.h!==void 0?t.h:0,n=t.s!==void 0?t.s:0,i=t.v!==void 0?t.v:0,o=Math.cos(r/180*Math.PI),s=Math.sin(r/180*Math.PI),[l,c]=Up(o,s),d=.5,u=1-d/l,f=1-n*d/(d+c-c*u*n),h=n*c*d/(d+c-c*u*n),p=su(f),m=h*p/f,y=Nc({l:p,a:o*m,b:s*m}),_=Math.cbrt(1/Math.max(y.r,y.g,y.b,0)),S=su(i*f),w=h*S/f;return e.l=S*_,e.a=w*o*_,e.b=w*s*_,e}const II={...sb,mode:"okhsv",channels:["h","s","v","alpha"],parse:["--okhsv"],serialize:"--okhsv",fromMode:{oklab:Qm,rgb:t=>Qm(lf(t))},toMode:{oklab:Jm,rgb:t=>cf(Jm(t))}};function TI(t,e){if(!e||e[0]!=="oklab")return;const r={mode:"oklab"},[,n,i,o,s]=e;if(!(n.type===pt.Hue||i.type===pt.Hue||o.type===pt.Hue))return n.type!==pt.None&&(r.l=Math.min(Math.max(0,n.type===pt.Number?n.value:n.value/100),1)),i.type!==pt.None&&(r.a=i.type===pt.Number?i.value:i.value*.4/100),o.type!==pt.None&&(r.b=o.type===pt.Number?o.value:o.value*.4/100),s.type!==pt.None&&(r.alpha=Math.min(1,Math.max(0,s.type===pt.Number?s.value:s.value/100))),r}const OI={...Bp,mode:"oklab",toMode:{lrgb:Nc,rgb:cf},fromMode:{lrgb:_b,rgb:lf},ranges:{l:[0,1],a:[-.4,.4],b:[-.4,.4]},parse:[TI],serialize:t=>`oklab(${t.l!==void 0?t.l:"none"} ${t.a!==void 0?t.a:"none"} ${t.b!==void 0?t.b:"none"}${t.alpha<1?` / ${t.alpha}`:""})`};function RI(t,e){if(!e||e[0]!=="oklch")return;const r={mode:"oklch"},[,n,i,o,s]=e;if(n.type!==pt.None){if(n.type===pt.Hue)return;r.l=Math.min(Math.max(0,n.type===pt.Number?n.value:n.value/100),1)}if(i.type!==pt.None&&(r.c=Math.max(0,i.type===pt.Number?i.value:i.value*.4/100)),o.type!==pt.None){if(o.type===pt.Percentage)return;r.h=o.value}return s.type!==pt.None&&(r.alpha=Math.min(1,Math.max(0,s.type===pt.Number?s.value:s.value/100))),r}const NI={...jp,mode:"oklch",toMode:{oklab:t=>mo(t,"oklab"),rgb:t=>cf(mo(t,"oklab"))},fromMode:{rgb:t=>go(lf(t),"oklch"),oklab:t=>go(t,"oklch")},parse:[RI],serialize:t=>`oklch(${t.l!==void 0?t.l:"none"} ${t.c!==void 0?t.c:"none"} ${t.h!==void 0?t.h:"none"}${t.alpha<1?` / ${t.alpha}`:""})`,ranges:{l:[0,1],c:[0,.4],h:[0,360]}},Zm=t=>{let{r:e,g:r,b:n,alpha:i}=ll(t),o={mode:"xyz65",x:.486570948648216*e+.265667693169093*r+.1982172852343625*n,y:.2289745640697487*e+.6917385218365062*r+.079286914093745*n,z:0*e+.0451133818589026*r+1.043944368900976*n};return i!==void 0&&(o.alpha=i),o},e1=({x:t,y:e,z:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i=cl({r:t*2.4934969119414263-e*.9313836179191242-.402710784450717*r,g:t*-.8294889695615749+e*1.7626640603183465+.0236246858419436*r,b:t*.0358458302437845-e*.0761723892680418+.9568845240076871*r},"p3");return n!==void 0&&(i.alpha=n),i},zI={...sl,mode:"p3",parse:["display-p3"],serialize:"display-p3",fromMode:{rgb:t=>e1(fs(t)),xyz65:e1},toMode:{rgb:t=>vs(Zm(t)),xyz65:Zm}},tv=t=>{let e=Math.abs(t);return e>=1/512?Math.sign(t)*Math.pow(e,1/1.8):16*t},t1=({x:t,y:e,z:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i={mode:"prophoto",r:tv(t*1.3457868816471585-e*.2555720873797946-.0511018649755453*r),g:tv(t*-.5446307051249019+e*1.5082477428451466+.0205274474364214*r),b:tv(t*0+e*0+1.2119675456389452*r)};return n!==void 0&&(i.alpha=n),i},rv=(t=0)=>{let e=Math.abs(t);return e>=16/512?Math.sign(t)*Math.pow(e,1.8):t/16},r1=t=>{let e=rv(t.r),r=rv(t.g),n=rv(t.b),i={mode:"xyz50",x:.7977666449006423*e+.1351812974005331*r+.0313477341283922*n,y:.2880748288194013*e+.7118352342418731*r+899369387256e-16*n,z:0*e+0*r+.8251046025104602*n};return t.alpha!==void 0&&(i.alpha=t.alpha),i},BI={...sl,mode:"prophoto",parse:["prophoto-rgb"],serialize:"prophoto-rgb",fromMode:{xyz50:t1,rgb:t=>t1(Rc(t))},toMode:{xyz50:r1,rgb:t=>Oc(r1(t))}},n1=1.09929682680944,jI=.018053968510807,nv=t=>{const e=Math.abs(t);return e>jI?(Math.sign(t)||1)*(n1*Math.pow(e,.45)-(n1-1)):4.5*t},a1=({x:t,y:e,z:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);let i={mode:"rec2020",r:nv(t*1.7166511879712683-e*.3556707837763925-.2533662813736599*r),g:nv(t*-.6666843518324893+e*1.6164812366349395+.0157685458139111*r),b:nv(t*.0176398574453108-e*.0427706132578085+.9421031212354739*r)};return n!==void 0&&(i.alpha=n),i},i1=1.09929682680944,FI=.018053968510807,av=(t=0)=>{let e=Math.abs(t);return e<FI*4.5?t/4.5:(Math.sign(t)||1)*Math.pow((e+i1-1)/i1,1/.45)},o1=t=>{let e=av(t.r),r=av(t.g),n=av(t.b),i={mode:"xyz65",x:.6369580483012911*e+.1446169035862083*r+.1688809751641721*n,y:.262700212011267*e+.6779980715188708*r+.059301716469862*n,z:0*e+.0280726930490874*r+1.0609850577107909*n};return t.alpha!==void 0&&(i.alpha=t.alpha),i},UI={...sl,mode:"rec2020",fromMode:{xyz65:a1,rgb:t=>a1(fs(t))},toMode:{xyz65:o1,rgb:t=>vs(o1(t))},parse:["rec2020"],serialize:"rec2020"},Vo=.0037930732552754493,wb=Math.cbrt(Vo),iv=t=>Math.cbrt(t)-wb,VI=t=>{const{r:e,g:r,b:n,alpha:i}=ll(t),o=iv(.3*e+.622*r+.078*n+Vo),s=iv(.23*e+.692*r+.078*n+Vo),l=iv(.2434226892454782*e+.2047674442449682*r+.5518098665095535*n+Vo),c={mode:"xyb",x:(o-s)/2,y:(o+s)/2,b:l-(o+s)/2};return i!==void 0&&(c.alpha=i),c},ov=t=>Math.pow(t+wb,3),WI=({x:t,y:e,b:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);const i=ov(t+e)-Vo,o=ov(e-t)-Vo,s=ov(r+e)-Vo,l=cl({r:11.031566904639861*i-9.866943908131562*o-.16462299650829934*s,g:-3.2541473810744237*i+4.418770377582723*o-.16462299650829934*s,b:-3.6588512867136815*i+2.7129230459360922*o+1.9459282407775895*s});return n!==void 0&&(l.alpha=n),l},HI={mode:"xyb",channels:["x","y","b","alpha"],parse:["--xyb"],serialize:"--xyb",toMode:{rgb:WI},fromMode:{rgb:VI},ranges:{x:[-.0154,.0281],y:[0,.8453],b:[-.2778,.388]},interpolate:{x:Ct,y:Ct,b:Ct,alpha:{use:Ct,fixup:Fn}}},qI={mode:"xyz50",parse:["xyz-d50"],serialize:"xyz-d50",toMode:{rgb:Oc,lab:zp},fromMode:{rgb:Rc,lab:Np},channels:["x","y","z","alpha"],ranges:{x:[0,.964],y:[0,.999],z:[0,.825]},interpolate:{x:Ct,y:Ct,z:Ct,alpha:{use:Ct,fixup:Fn}}},GI=t=>{let{x:e,y:r,z:n,alpha:i}=t;e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0);let o={mode:"xyz50",x:1.0479298208405488*e+.0229467933410191*r-.0501922295431356*n,y:.0296278156881593*e+.990434484573249*r-.0170738250293851*n,z:-.0092430581525912*e+.0150551448965779*r+.7518742899580008*n};return i!==void 0&&(o.alpha=i),o},$I=t=>{let{x:e,y:r,z:n,alpha:i}=t;e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0);let o={mode:"xyz65",x:.9554734527042182*e-.0230985368742614*r+.0632593086610217*n,y:-.0283697069632081*e+1.0099954580058226*r+.021041398966943*n,z:.0123140016883199*e-.0205076964334779*r+1.3303659366080753*n};return i!==void 0&&(o.alpha=i),o},YI={mode:"xyz65",toMode:{rgb:vs,xyz50:GI},fromMode:{rgb:fs,xyz50:$I},ranges:{x:[0,.95],y:[0,1],z:[0,1.088]},channels:["x","y","z","alpha"],parse:["xyz","xyz-d65"],serialize:"xyz-d65",interpolate:{x:Ct,y:Ct,z:Ct,alpha:{use:Ct,fixup:Fn}}},XI=({r:t,g:e,b:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);const i={mode:"yiq",y:.29889531*t+.58662247*e+.11448223*r,i:.59597799*t-.2741761*e-.32180189*r,q:.21147017*t-.52261711*e+.31114694*r};return n!==void 0&&(i.alpha=n),i},KI=({y:t,i:e,q:r,alpha:n})=>{t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=0);const i={mode:"rgb",r:t+.95608445*e+.6208885*r,g:t-.27137664*e-.6486059*r,b:t-1.10561724*e+1.70250126*r};return n!==void 0&&(i.alpha=n),i},QI={mode:"yiq",toMode:{rgb:KI},fromMode:{rgb:XI},channels:["y","i","q","alpha"],parse:["--yiq"],serialize:"--yiq",ranges:{i:[-.595,.595],q:[-.522,.522]},interpolate:{y:Ct,i:Ct,q:Ct,alpha:{use:Ct,fixup:Fn}}};tn(BE);tn(qE);tn(GE);tn($E);tn(KE);tn(ab);tn(sb);tn(oI);tn(sI);tn(uI);tn(fI);tn(Bp);tn(hI);tn(jp);tn(gI);tn(AI);tn(MI);tn(PI);tn(EI);tn(II);tn(OI);tn(NI);tn(zI);tn(BI);tn(UI);tn(sl);tn(HI);tn(qI);tn(YI);tn(QI);[...oc(100,1e3,100)];const Vp="-",JI=t=>{const e=eT(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:s=>{const l=s.split(Vp);return l[0]===""&&l.length!==1&&l.shift(),kb(l,e)||ZI(s)},getConflictingClassGroupIds:(s,l)=>{const c=r[s]||[];return l&&n[s]?[...c,...n[s]]:c}}},kb=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?kb(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(Vp);return(s=e.validators.find(({validator:l})=>l(o)))==null?void 0:s.classGroupId},s1=/^\[(.+)\]$/,ZI=t=>{if(s1.test(t)){const e=s1.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},eT=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return rT(Object.entries(t.classGroups),r).forEach(([o,s])=>{n0(s,n,o,e)}),n},n0=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:l1(e,i);o.classGroupId=r;return}if(typeof i=="function"){if(tT(i)){n0(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([o,s])=>{n0(s,l1(e,o),r,n)})})},l1=(t,e)=>{let r=t;return e.split(Vp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},tT=t=>t.isThemeGetter,rT=(t,e)=>e?t.map(([r,n])=>{const i=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,l])=>[e+s,l])):o);return[r,i]}):t,nT=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(o,s)=>{r.set(o,s),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let s=r.get(o);if(s!==void 0)return s;if((s=n.get(o))!==void 0)return i(o,s),s},set(o,s){r.has(o)?r.set(o,s):i(o,s)}}},Sb="!",aT=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],o=e.length,s=l=>{const c=[];let d=0,u=0,f;for(let _=0;_<l.length;_++){let S=l[_];if(d===0){if(S===i&&(n||l.slice(_,_+o)===e)){c.push(l.slice(u,_)),u=_+o;continue}if(S==="/"){f=_;continue}}S==="["?d++:S==="]"&&d--}const h=c.length===0?l:l.substring(u),p=h.startsWith(Sb),m=p?h.substring(1):h,y=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:s}):s},iT=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},oT=t=>({cache:nT(t.cacheSize),parseClassName:aT(t),...JI(t)}),sT=/\s+/,lT=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,o=[],s=t.trim().split(sT);let l="";for(let c=s.length-1;c>=0;c-=1){const d=s[c],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(d);let m=!!p,y=n(m?h.substring(0,p):h);if(!y){if(!m){l=d+(l.length>0?" "+l:l);continue}if(y=n(h),!y){l=d+(l.length>0?" "+l:l);continue}m=!1}const _=iT(u).join(":"),S=f?_+Sb:_,w=S+y;if(o.includes(w))continue;o.push(w);const C=i(y,m);for(let L=0;L<C.length;++L){const k=C[L];o.push(S+k)}l=d+(l.length>0?" "+l:l)}return l};function cT(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Cb(e))&&(n&&(n+=" "),n+=r);return n}const Cb=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Cb(t[n]))&&(r&&(r+=" "),r+=e);return r};function c1(t,...e){let r,n,i,o=s;function s(c){const d=e.reduce((u,f)=>f(u),t());return r=oT(d),n=r.cache.get,i=r.cache.set,o=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=lT(c,r);return i(c,u),u}return function(){return o(cT.apply(null,arguments))}}const mn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Ab=/^\[(?:([a-z-]+):)?(.+)\]$/i,dT=/^\d+\/\d+$/,uT=new Set(["px","full","screen"]),fT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Oi=t=>Is(t)||uT.has(t)||dT.test(t),no=t=>dl(t,"length",ST),Is=t=>!!t&&!Number.isNaN(Number(t)),sv=t=>dl(t,"number",Is),kl=t=>!!t&&Number.isInteger(Number(t)),mT=t=>t.endsWith("%")&&Is(t.slice(0,-1)),Lr=t=>Ab.test(t),ao=t=>fT.test(t),xT=new Set(["length","size","percentage"]),yT=t=>dl(t,xT,Mb),_T=t=>dl(t,"position",Mb),bT=new Set(["image","url"]),wT=t=>dl(t,bT,AT),kT=t=>dl(t,"",CT),Sl=()=>!0,dl=(t,e,r)=>{const n=Ab.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},ST=t=>vT.test(t)&&!hT.test(t),Mb=()=>!1,CT=t=>pT.test(t),AT=t=>gT.test(t),d1=()=>{const t=mn("colors"),e=mn("spacing"),r=mn("blur"),n=mn("brightness"),i=mn("borderColor"),o=mn("borderRadius"),s=mn("borderSpacing"),l=mn("borderWidth"),c=mn("contrast"),d=mn("grayscale"),u=mn("hueRotate"),f=mn("invert"),h=mn("gap"),p=mn("gradientColorStops"),m=mn("gradientColorStopPositions"),y=mn("inset"),_=mn("margin"),S=mn("opacity"),w=mn("padding"),C=mn("saturate"),L=mn("scale"),k=mn("sepia"),P=mn("skew"),z=mn("space"),T=mn("translate"),M=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Lr,e],O=()=>[Lr,e],I=()=>["",Oi,no],B=()=>["auto",Is,Lr],j=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],N=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",Lr],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Is,Lr];return{cacheSize:500,separator:":",theme:{colors:[Sl],spacing:[Oi,no],blur:["none","",ao,Lr],brightness:Q(),borderColor:[t],borderRadius:["none","","full",ao,Lr],borderSpacing:O(),borderWidth:I(),contrast:Q(),grayscale:q(),hueRotate:Q(),invert:q(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[mT,no],inset:A(),margin:A(),opacity:Q(),padding:O(),saturate:Q(),scale:Q(),sepia:q(),skew:Q(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Lr]}],container:["container"],columns:[{columns:[ao]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...j(),Lr]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",kl,Lr]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Lr]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",kl,Lr]}],"grid-cols":[{"grid-cols":[Sl]}],"col-start-end":[{col:["auto",{span:["full",kl,Lr]},Lr]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Sl]}],"row-start-end":[{row:["auto",{span:[kl,Lr]},Lr]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Lr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Lr]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...N()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...N(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...N(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Lr,e]}],"min-w":[{"min-w":[Lr,e,"min","max","fit"]}],"max-w":[{"max-w":[Lr,e,"none","full","min","max","fit","prose",{screen:[ao]},ao]}],h:[{h:[Lr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Lr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Lr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Lr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ao,no]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sv]}],"font-family":[{font:[Sl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Lr]}],"line-clamp":[{"line-clamp":["none",Is,sv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Oi,Lr]}],"list-image":[{"list-image":["none",Lr]}],"list-style-type":[{list:["none","disc","decimal",Lr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Oi,no]}],"underline-offset":[{"underline-offset":["auto",Oi,Lr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Lr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Lr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...j(),_T]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wT]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:V()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Oi,Lr]}],"outline-w":[{outline:[Oi,no]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[Oi,no]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ao,kT]}],"shadow-color":[{shadow:[Sl]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ao,Lr]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[C]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Lr]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",Lr]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Lr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[L]}],"scale-x":[{"scale-x":[L]}],"scale-y":[{"scale-y":[L]}],rotate:[{rotate:[kl,Lr]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Lr]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Lr]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Lr]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Oi,no,sv]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},MT=(t,{cacheSize:e,prefix:r,separator:n,experimentalParseClassName:i,extend:o={},override:s={}})=>{zl(t,"cacheSize",e),zl(t,"prefix",r),zl(t,"separator",n),zl(t,"experimentalParseClassName",i);for(const l in s)PT(t[l],s[l]);for(const l in o)DT(t[l],o[l]);return t},zl=(t,e,r)=>{r!==void 0&&(t[e]=r)},PT=(t,e)=>{if(e)for(const r in e)zl(t,r,e[r])},DT=(t,e)=>{if(e)for(const r in e){const n=e[r];n!==void 0&&(t[r]=(t[r]||[]).concat(n))}},LT=(t,...e)=>typeof t=="function"?c1(d1,t,...e):c1(()=>MT(d1(),t),...e),ET=LT({extend:{classGroups:{shadow:["shadow-border-l","shadow-border-r","shadow-border-t","shadow-border-b","elevation-none",...oc(1,25).map(t=>`elevation-${t}`)]}}}),At=(...t)=>ET(Gw(...t));var Wp=Symbol.for("immer-nothing"),$l=Symbol.for("immer-draftable"),La=Symbol.for("immer-state");function ea(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Xo=Object.getPrototypeOf;function Ko(t){return!!t&&!!t[La]}function xo(t){var e;return t?Pb(t)||Array.isArray(t)||!!t[$l]||!!((e=t.constructor)!=null&&e[$l])||zc(t)||Bc(t):!1}var IT=Object.prototype.constructor.toString();function Pb(t){if(!t||typeof t!="object")return!1;const e=Xo(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===IT}function hc(t,e){Qo(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function Qo(t){const e=t[La];return e?e.type_:Array.isArray(t)?1:zc(t)?2:Bc(t)?3:0}function pc(t,e){return Qo(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function lv(t,e){return Qo(t)===2?t.get(e):t[e]}function Db(t,e,r){const n=Qo(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function TT(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function zc(t){return t instanceof Map}function Bc(t){return t instanceof Set}function Io(t){return t.copy_||t.base_}function a0(t,e){if(zc(t))return new Map(t);if(Bc(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=Pb(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[La];let i=Reflect.ownKeys(n);for(let o=0;o<i.length;o++){const s=i[o],l=n[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[s]})}return Object.create(Xo(t),n)}else{const n=Xo(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function Hp(t,e=!1){return df(t)||Ko(t)||!xo(t)||(Qo(t)>1&&(t.set=t.add=t.clear=t.delete=OT),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>Hp(n,!0))),t}function OT(){ea(2)}function df(t){return Object.isFrozen(t)}var i0={};function Jo(t){const e=i0[t];return e||ea(0,t),e}function RT(t,e){i0[t]||(i0[t]=e)}var gc;function Lb(){return gc}function NT(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function u1(t,e){e&&(Jo("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function o0(t){s0(t),t.drafts_.forEach(zT),t.drafts_=null}function s0(t){t===gc&&(gc=t.parent_)}function f1(t){return gc=NT(gc,t)}function zT(t){const e=t[La];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function v1(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[La].modified_&&(o0(e),ea(4)),xo(t)&&(t=lu(e,t),e.parent_||cu(e,t)),e.patches_&&Jo("Patches").generateReplacementPatches_(r[La].base_,t,e.patches_,e.inversePatches_)):t=lu(e,r,[]),o0(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Wp?t:void 0}function lu(t,e,r){if(df(e))return e;const n=e[La];if(!n)return hc(e,(i,o)=>h1(t,n,e,i,o,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return cu(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let o=i,s=!1;n.type_===3&&(o=new Set(i),i.clear(),s=!0),hc(o,(l,c)=>h1(t,n,i,l,c,r,s)),cu(t,i,!1),r&&t.patches_&&Jo("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function h1(t,e,r,n,i,o,s){if(Ko(i)){const l=o&&e&&e.type_!==3&&!pc(e.assigned_,n)?o.concat(n):void 0,c=lu(t,i,l);if(Db(r,n,c),Ko(c))t.canAutoFreeze_=!1;else return}else s&&r.add(i);if(xo(i)&&!df(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;lu(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&cu(t,i)}}function cu(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Hp(e,r)}function BT(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:Lb(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,o=qp;r&&(i=[n],o=mc);const{revoke:s,proxy:l}=Proxy.revocable(i,o);return n.draft_=l,n.revoke_=s,l}var qp={get(t,e){if(e===La)return t;const r=Io(t);if(!pc(r,e))return jT(t,r,e);const n=r[e];return t.finalized_||!xo(n)?n:n===cv(t.base_,e)?(dv(t),t.copy_[e]=c0(n,t)):n},has(t,e){return e in Io(t)},ownKeys(t){return Reflect.ownKeys(Io(t))},set(t,e,r){const n=Eb(Io(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=cv(Io(t),e),o=i==null?void 0:i[La];if(o&&o.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(TT(r,i)&&(r!==void 0||pc(t.base_,e)))return!0;dv(t),l0(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return cv(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,dv(t),l0(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Io(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){ea(11)},getPrototypeOf(t){return Xo(t.base_)},setPrototypeOf(){ea(12)}},mc={};hc(qp,(t,e)=>{mc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});mc.deleteProperty=function(t,e){return mc.set.call(this,t,e,void 0)};mc.set=function(t,e,r){return qp.set.call(this,t[0],e,r,t[0])};function cv(t,e){const r=t[La];return(r?Io(r):t)[e]}function jT(t,e,r){var i;const n=Eb(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function Eb(t,e){if(!(e in t))return;let r=Xo(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Xo(r)}}function l0(t){t.modified_||(t.modified_=!0,t.parent_&&l0(t.parent_))}function dv(t){t.copy_||(t.copy_=a0(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var FT=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const o=r;r=e;const s=this;return function(c=o,...d){return s.produce(c,u=>r.call(this,u,...d))}}typeof r!="function"&&ea(6),n!==void 0&&typeof n!="function"&&ea(7);let i;if(xo(e)){const o=f1(this),s=c0(e,void 0);let l=!0;try{i=r(s),l=!1}finally{l?o0(o):s0(o)}return u1(o,n),v1(i,o)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===Wp&&(i=void 0),this.autoFreeze_&&Hp(i,!0),n){const o=[],s=[];Jo("Patches").generateReplacementPatches_(e,i,o,s),n(o,s)}return i}else ea(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(s,...l)=>this.produceWithPatches(s,c=>e(c,...l));let n,i;return[this.produce(e,r,(s,l)=>{n=s,i=l}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){xo(t)||ea(8),Ko(t)&&(t=UT(t));const e=f1(this),r=c0(t,void 0);return r[La].isManual_=!0,s0(e),r}finishDraft(t,e){const r=t&&t[La];(!r||!r.isManual_)&&ea(9);const{scope_:n}=r;return u1(n,e),v1(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=Jo("Patches").applyPatches_;return Ko(t)?n(t,e):this.produce(t,i=>n(i,e))}};function c0(t,e){const r=zc(t)?Jo("MapSet").proxyMap_(t,e):Bc(t)?Jo("MapSet").proxySet_(t,e):BT(t,e);return(e?e.scope_:Lb()).drafts_.push(r),r}function UT(t){return Ko(t)||ea(10,t),Ib(t)}function Ib(t){if(!xo(t)||df(t))return t;const e=t[La];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=a0(t,e.scope_.immer_.useStrictShallowCopy_)}else r=a0(t,!0);return hc(r,(n,i)=>{Db(r,n,Ib(i))}),e&&(e.finalized_=!1),r}function VT(){const e="replace",r="add",n="remove";function i(h,p,m,y){switch(h.type_){case 0:case 2:return s(h,p,m,y);case 1:return o(h,p,m,y);case 3:return l(h,p,m,y)}}function o(h,p,m,y){let{base_:_,assigned_:S}=h,w=h.copy_;w.length<_.length&&([_,w]=[w,_],[m,y]=[y,m]);for(let C=0;C<_.length;C++)if(S[C]&&w[C]!==_[C]){const L=p.concat([C]);m.push({op:e,path:L,value:f(w[C])}),y.push({op:e,path:L,value:f(_[C])})}for(let C=_.length;C<w.length;C++){const L=p.concat([C]);m.push({op:r,path:L,value:f(w[C])})}for(let C=w.length-1;_.length<=C;--C){const L=p.concat([C]);y.push({op:n,path:L})}}function s(h,p,m,y){const{base_:_,copy_:S}=h;hc(h.assigned_,(w,C)=>{const L=lv(_,w),k=lv(S,w),P=C?pc(_,w)?e:r:n;if(L===k&&P===e)return;const z=p.concat(w);m.push(P===n?{op:P,path:z}:{op:P,path:z,value:k}),y.push(P===r?{op:n,path:z}:P===n?{op:r,path:z,value:f(L)}:{op:e,path:z,value:f(L)})})}function l(h,p,m,y){let{base_:_,copy_:S}=h,w=0;_.forEach(C=>{if(!S.has(C)){const L=p.concat([w]);m.push({op:n,path:L,value:C}),y.unshift({op:r,path:L,value:C})}w++}),w=0,S.forEach(C=>{if(!_.has(C)){const L=p.concat([w]);m.push({op:r,path:L,value:C}),y.unshift({op:n,path:L,value:C})}w++})}function c(h,p,m,y){m.push({op:e,path:[],value:p===Wp?void 0:p}),y.push({op:e,path:[],value:h})}function d(h,p){return p.forEach(m=>{const{path:y,op:_}=m;let S=h;for(let k=0;k<y.length-1;k++){const P=Qo(S);let z=y[k];typeof z!="string"&&typeof z!="number"&&(z=""+z),(P===0||P===1)&&(z==="__proto__"||z==="constructor")&&ea(19),typeof S=="function"&&z==="prototype"&&ea(19),S=lv(S,z),typeof S!="object"&&ea(18,y.join("/"))}const w=Qo(S),C=u(m.value),L=y[y.length-1];switch(_){case e:switch(w){case 2:return S.set(L,C);case 3:ea(16);default:return S[L]=C}case r:switch(w){case 1:return L==="-"?S.push(C):S.splice(L,0,C);case 2:return S.set(L,C);case 3:return S.add(C);default:return S[L]=C}case n:switch(w){case 1:return S.splice(L,1);case 2:return S.delete(L);case 3:return S.delete(m.value);default:return delete S[L]}default:ea(17,_)}}),h}function u(h){if(!xo(h))return h;if(Array.isArray(h))return h.map(u);if(zc(h))return new Map(Array.from(h.entries()).map(([m,y])=>[m,u(y)]));if(Bc(h))return new Set(Array.from(h).map(u));const p=Object.create(Xo(h));for(const m in h)p[m]=u(h[m]);return pc(h,$l)&&(p[$l]=h[$l]),p}function f(h){return Ko(h)?u(h):h}RT("Patches",{applyPatches_:d,generatePatches_:i,generateReplacementPatches_:c})}var Ea=new FT;Ea.produce;Ea.produceWithPatches.bind(Ea);var WT=Ea.setAutoFreeze.bind(Ea);Ea.setUseStrictShallowCopy.bind(Ea);Ea.applyPatches.bind(Ea);Ea.createDraft.bind(Ea);Ea.finishDraft.bind(Ea);VT();WT(!1);function ko(t){if(G2){const e=window.matchMedia(t);return b3(e.matches,r=>{const n=i=>r(i.matches);return e.addEventListener("change",n),()=>e.removeEventListener("change",n)})}else return bt(!0)}const jc=t=>ko(`(min-width: ${t}px)`),Fc={sm:640,md:768,lg:1024,xl:1280,xxl:1536};jc(Fc.sm);jc(Fc.md);jc(Fc.lg);jc(Fc.xl);jc(Fc.xxl);ko("screen");ko("print");ko("(prefers-color-scheme: dark)");ko("(prefers-color-scheme: light)");ko("(prefers-reduced-motion: reduce)");ko("(orientation: landscape)");ko("(orientation: portrait)");function HT(t){const e=bt(new Set(t??[]));return{...e,add(r){e.update(n=>(n.add(r),n))},addEach(r){e.update(n=>(r.forEach(i=>n.add(i)),n))},delete(r){e.update(n=>(n.delete(r),n))},toggle(r){e.update(n=>(n.has(r)?n.delete(r):n.add(r),n))}}}function qT(t={}){const e=HT(t.initial??[]),r=bt(t.all??[]),n=t.single??!1,i=t.max;return Jr([e,r],([o,s])=>{function l(w){e.update(C=>i==null||w.length<i?new Set(w):C)}function c(w){e.update(C=>C.has(w)?new Set([...C].filter(L=>L!=w)):n?new Set([w]):i==null||C.size<i?C.add(w):C)}function d(){let w;f()?w=[...o].filter(C=>!s.includes(C)):w=[...o,...s],e.set(new Set(w))}function u(w){return o.has(w)}function f(){return s.every(w=>o.has(w))}function h(){return s.some(w=>o.has(w))}function p(){return i!=null?o.size>=i:!1}function m(w){return!u(w)&&p()}function y(){e.set(new Set)}function _(){e.set(new Set(t.initial??[]))}const S=[...o.values()];return{selected:n?S[0]??null:S,setSelected:l,toggleSelected:c,isSelected:u,isDisabled:m,toggleAll:d,isAllSelected:f,isAnySelected:h,isMaxSelected:p,clear:y,reset:_,all:r}})}function p1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p1(Object(r),!0).forEach(function(n){$T(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yl(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yl=function(e){return typeof e}:Yl=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function $T(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function du(){return du=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},du.apply(this,arguments)}function YT(t,e){if(t){if(typeof t=="string")return g1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g1(t,e)}}function g1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tb(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=YT(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,l;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return o=c.done,c},e:function(c){s=!0,l=c},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(s)throw l}}}}function XT(t,e){var r=[],n=[];function i(o,s){if(o.length===1)r.push(o[0]),n.push(o[0]);else{for(var l=Array(o.length-1),c=0;c<l.length;c++)c===0&&r.push(o[0]),c===l.length-1&&n.push(o[c+1]),l[c]=[(1-s)*o[c][0]+s*o[c+1][0],(1-s)*o[c][1]+s*o[c+1][1]];i(l,s)}}return t.length&&i(t,e),{left:r,right:n.reverse()}}function KT(t){var e={};return t.length===4&&(e.x2=t[2][0],e.y2=t[2][1]),t.length>=3&&(e.x1=t[1][0],e.y1=t[1][1]),e.x=t[t.length-1][0],e.y=t[t.length-1][1],t.length===4?e.type="C":t.length===3?e.type="Q":e.type="L",e}function QT(t,e){e=e||2;for(var r=[],n=t,i=1/e,o=0;o<e-1;o++){var s=i/(1-i*o),l=XT(n,s);r.push(l.left),n=l.right}return r.push(n),r}function JT(t,e,r){var n=[[t.x,t.y]];return e.x1!=null&&n.push([e.x1,e.y1]),e.x2!=null&&n.push([e.x2,e.y2]),n.push([e.x,e.y]),QT(n,r).map(KT)}var ZT=/[MLCSTQAHVZmlcstqahv]|-?[\d.e+-]+/g,Ts={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"],Z:[]};Object.keys(Ts).forEach(function(t){Ts[t.toLowerCase()]=Ts[t]});function d0(t,e){for(var r=Array(t),n=0;n<t;n++)r[n]=e;return r}function eO(t){return"".concat(t.type).concat(Ts[t.type].map(function(e){return t[e]}).join(","))}function tO(t,e){var r={x1:"x",y1:"y",x2:"x",y2:"y"},n=["xAxisRotation","largeArcFlag","sweepFlag"];if(t.type!==e.type&&e.type.toUpperCase()!=="M"){var i={};Object.keys(e).forEach(function(o){var s=e[o],l=t[o];l===void 0&&(n.includes(o)?l=s:(l===void 0&&r[o]&&(l=t[r[o]]),l===void 0&&(l=0))),i[o]=l}),i.type=e.type,t=i}return t}function rO(t,e,r){var n=[];if(e.type==="L"||e.type==="Q"||e.type==="C")n=n.concat(JT(t,e,r));else{var i=du({},t);i.type==="M"&&(i.type="L"),n=n.concat(d0(r-1).map(function(){return i})),n.push(e)}return n}function m1(t,e,r){var n=t.length-1,i=e.length-1,o=n/i,s=d0(i).reduce(function(c,d,u){var f=Math.floor(o*u);if(r&&f<t.length-1&&r(t[f],t[f+1])){var h=o*u%1<.5;c[f]&&(h?f>0?f-=1:f<t.length-1&&(f+=1):f<t.length-1?f+=1:f>0&&(f-=1))}return c[f]=(c[f]||0)+1,c},[]),l=s.reduce(function(c,d,u){if(u===t.length-1){var f=d0(d,du({},t[t.length-1]));return f[0].type==="M"&&f.forEach(function(h){h.type="L"}),c.concat(f)}return c.concat(rO(t[u],t[u+1],d))},[]);return l.unshift(t[0]),l}function x1(t){for(var e=(t||"").match(ZT)||[],r=[],n,i,o=0;o<e.length;++o)if(n=Ts[e[o]],n){i={type:e[o]};for(var s=0;s<n.length;++s)i[n[s]]=+e[o+s+1];o+=n.length,r.push(i)}return r}function nO(t,e,r){var n=t==null?[]:t.slice(),i=e==null?[]:e.slice(),o=Yl(r)==="object"?r:{excludeSegment:r,snapEndsToInput:!0},s=o.excludeSegment,l=o.snapEndsToInput;if(!n.length&&!i.length)return function(){return[]};var c=(n.length===0||n[n.length-1].type==="Z")&&(i.length===0||i[i.length-1].type==="Z");n.length>0&&n[n.length-1].type==="Z"&&n.pop(),i.length>0&&i[i.length-1].type==="Z"&&i.pop(),n.length?i.length||i.push(n[0]):n.push(i[0]);var d=Math.abs(i.length-n.length);d!==0&&(i.length>n.length?n=m1(n,i,s):i.length<n.length&&(i=m1(i,n,s))),n=n.map(function(f,h){return tO(f,i[h])});var u=n.map(function(f){return GT({},f)});return c&&(u.push({type:"Z"}),n.push({type:"Z"})),function(h){if(h===1&&l)return e??[];if(h===0)return n;for(var p=0;p<u.length;++p){var m=n[p],y=i[p],_=u[p],S=Tb(Ts[_.type]),w;try{for(S.s();!(w=S.n()).done;){var C=w.value;_[C]=(1-h)*m[C]+h*y[C],(C==="largeArcFlag"||C==="sweepFlag")&&(_[C]=Math.round(_[C]))}}catch(L){S.e(L)}finally{S.f()}}return u}}function $s(t,e,r){var n=x1(t),i=x1(e),o=Yl(r)==="object"?r:{excludeSegment:r,snapEndsToInput:!0},s=o.excludeSegment,l=o.snapEndsToInput;if(!n.length&&!i.length)return function(){return""};var c=nO(n,i,{excludeSegment:s,snapEndsToInput:l});return function(u){if(u===1&&l)return e??"";var f=c(u),h="",p=Tb(f),m;try{for(p.s();!(m=p.n()).done;){var y=m.value;h+=eO(y)}}catch(_){p.e(_)}finally{p.f()}return h}}function uu(t){return Object.prototype.toString.call(t)==="[object Date]"}function u0(t,e,r,n){if(typeof r=="number"||uu(r)){const i=n-r,o=(r-e)/(t.dt||1/60),s=t.opts.stiffness*i,l=t.opts.damping*o,c=(s-l)*t.inv_mass,d=(o+c)*t.dt;return Math.abs(d)<t.opts.precision&&Math.abs(i)<t.opts.precision?n:(t.settled=!1,uu(r)?new Date(r.getTime()+d):r+d)}else{if(Array.isArray(r))return r.map((i,o)=>u0(t,e[o],r[o],n[o]));if(typeof r=="object"){const i={};for(const o in r)i[o]=u0(t,e[o],r[o],n[o]);return i}else throw new Error(`Cannot spring ${typeof r} values`)}}function aO(t,e={}){const r=bt(t),{stiffness:n=.15,damping:i=.8,precision:o=.01}=e;let s,l,c,d=t,u=t,f=1,h=0,p=!1;function m(_,S={}){u=_;const w=c={};return t==null||S.hard||y.stiffness>=1&&y.damping>=1?(p=!0,s=_h.now(),d=_,r.set(t=u),Promise.resolve()):(S.soft&&(h=1/((S.soft===!0?.5:+S.soft)*60),f=0),l||(s=_h.now(),p=!1,l=Ey(C=>{if(p)return p=!1,l=null,!1;f=Math.min(f+h,1);const L=Math.min(C-s,1e3/30),k={inv_mass:f,opts:y,settled:!0,dt:L*60/1e3},P=u0(k,d,t,u);return s=C,d=t,r.set(t=P),k.settled&&(l=null),!k.settled})),new Promise(C=>{l.promise.then(()=>{w===c&&C()})}))}const y={set:m,update:(_,S)=>m(_(u,t),S),subscribe:r.subscribe,stiffness:n,damping:i,precision:o};return y}function f0(t,e){if(t===e||t!==t)return()=>t;const r=typeof t;if(r!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map((i,o)=>f0(t[o],i));return i=>n.map(o=>o(i))}if(r==="object"){if(!t||!e)throw new Error("Object cannot be null");if(uu(t)&&uu(e)){const o=t.getTime(),l=e.getTime()-o;return c=>new Date(o+c*l)}const n=Object.keys(e),i={};return n.forEach(o=>{i[o]=f0(t[o],e[o])}),o=>{const s={};return n.forEach(l=>{s[l]=i[l](o)}),s}}if(r==="number"){const n=e-t;return i=>t+i*n}return()=>e}function iO(t,e={}){const r=bt(t);let n,i=t;function o(s,l){if(i=s,t==null)return r.set(t=s),Promise.resolve();let c=n,d=!1,{delay:u=0,duration:f=400,easing:h=h9,interpolate:p=f0}={...e,...l};if(f===0)return c&&(c.abort(),c=null),r.set(t=i),Promise.resolve();const m=_h.now()+u;let y;return n=Ey(_=>{if(_<m)return!0;d||(y=p(t,s),typeof f=="function"&&(f=f(t,s)),d=!0),c&&(c.abort(),c=null);const S=_-m;return S>f?(r.set(t=s),!1):(r.set(t=y(h(S/f))),!0)}),n.promise}return{set:o,update:(s,l)=>o(s(i,t),l),subscribe:r.subscribe}}function Cn(t,e){return e.spring?aO(t,e.spring===!0?void 0:e.spring):e.tweened?iO(t,e.tweened===!0?void 0:e.tweened):bt(t)}function od(t,e){return{spring:typeof e.spring=="boolean"||e.spring==null?e.spring:t in e.spring?e.spring[t]:Object.keys(e.spring).some(r=>["precision","damping","stiffness"].includes(r))?e.tweened:!1,tweened:typeof e.tweened=="boolean"||e.tweened==null?e.tweened:t in e.tweened?e.tweened[t]:Object.keys(e.tweened).some(r=>["delay","duration","easing"].includes(r))?e.tweened:!1}}function y1(){let t=0;const e=bt(!1),r=function(n){if(t+=1,!n){e.set(!1);return}let i=t;e.set(!0),n.then(()=>{i===t&&e.set(!1)})};return{subscribe:e.subscribe,handle:r}}function oO(t){var i;const e=t.domain(),r=t.step(),n=r*(((i=t.paddingOuter)==null?void 0:i.call(t))??t.padding());return function(o){const s=Math.floor((o-n/2)/r);return e[Math.max(0,Math.min(s,e.length-1))]}}function _r(t){return typeof t.bandwidth=="function"}function Cl(t,e){var r;return _r(t)?oO(t)(e):(r=t.invert)==null?void 0:r.call(t,e)}function uv(t,e,r,n){const i=t.copy();return e&&i.domain(e),typeof r=="function"?i.range(r(n)):i.range(r),i}function ln(t){return Array.isArray(t)?e=>t.map(r=>ln(r)(e)):typeof t=="function"?t:typeof t=="string"||typeof t=="number"?e=>B2(e,t):e=>e}function Xl(t){return t==null?[]:Array.isArray(t)?t:"nodes"in t?t.nodes:t.descendants()}function sO(t,e){if(t!==!1)return{top:t===!0||t==="y"?4:0,left:t===!0||t==="y"?20:0,bottom:(t===!0||t==="x"?20:0)+(e===!0?32:0),right:t===!0||t==="x"?4:0}}function _1(t,e,r){return t.find(n=>{var i,o;return((i=r(n))==null?void 0:i.valueOf())===((o=r(e))==null?void 0:o.valueOf())})}const Ob=Symbol();function En(){return el(Ob)}function lO(t){rs(Ob,t)}function cO(t,e){Xe(e,!1);const[r,n]=ct(),i=()=>ie(K,"$_x1",r),o=()=>ie(te,"$_x1Domain",r),s=()=>ie(Z,"$contextData",r),l=()=>ie(J,"$_x1Scale",r),c=()=>ie(se,"$xScale",r),d=()=>ie(E,"$width",r),u=()=>ie(U,"$height",r),f=()=>ie(re,"$_x1Get",r),h=()=>ie(fe,"$_y1",r),p=()=>ie(xe,"$_y1Domain",r),m=()=>ie(ue,"$_y1Scale",r),y=()=>ie(oe,"$yScale",r),_=()=>ie(me,"$_y1Get",r),S=()=>ie(ce,"$_c",r),w=()=>ie(be,"$_cDomain",r),C=()=>ie(ye,"$_cScale",r),L=()=>ie(Se,"$_cGet",r),k=()=>ie($,"$containerWidth",r),P=()=>ie(ee,"$containerHeight",r),z=()=>ie(Ce,"$config",r),T=Ve();let M=R(e,"x1",8,void 0),D=R(e,"x1Scale",8,void 0),A=R(e,"x1Domain",8,void 0),O=R(e,"x1Range",8,void 0),I=R(e,"y1",8,void 0),B=R(e,"y1Scale",8,void 0),j=R(e,"y1Domain",8,void 0),V=R(e,"y1Range",8,void 0),F=R(e,"c",8,void 0),N=R(e,"cScale",8,void 0),q=R(e,"cDomain",8,void 0),G=R(e,"cRange",8,void 0);const Q=el("LayerCake"),{data:Z,width:E,height:U,containerWidth:$,containerHeight:ee,xScale:se,yScale:oe}=Q,K=bt(ln(M())),J=bt(null),te=bt(A()),X=bt(O()),re=bt(),fe=bt(ln(I())),ue=bt(null),xe=bt(j()),we=bt(V()),me=bt(),ce=bt(ln(F())),ye=bt(sc()),be=bt(q()),ve=bt(G()),Se=bt();let Ee=R(e,"radial",8,!1);const Be=bt(Ee()),Ae=bt(a(T)),Ce=Jr([Q.config,Ae],([Te,ze])=>({...Te,...ze})),_e={...Q,x1:K,x1Domain:te,x1Range:X,x1Scale:J,x1Get:re,y1:fe,y1Domain:xe,y1Range:we,y1Scale:ue,y1Get:me,c:ce,cDomain:be,cRange:ve,cScale:ye,cGet:Se,config:Ce,radial:Be};lO(_e);let ge=R(e,"onresize",8,void 0),Oe=Ve(!1);Zt(()=>{g(Oe,!0)});let Le=R(e,"data",24,()=>[]);De(()=>he(M()),()=>{It(K,ln(M()))}),De(()=>(he(A()),s(),i()),()=>{It(te,A()??Ga(Xl(s()),i()))}),De(()=>(he(D()),he(O()),o(),c(),d(),u()),()=>{It(J,D()&&O()?uv(D(),o(),O(),{xScale:c(),$width:d(),$height:u()}):null)}),De(()=>he(O()),()=>{It(X,O())}),De(()=>(l(),i()),()=>{It(re,Te=>{var ze;return(ze=l())==null?void 0:ze(i()(Te))})}),De(()=>he(I()),()=>{It(fe,ln(I()))}),De(()=>(he(j()),s(),h()),()=>{It(xe,j()??Ga(Xl(s()),h()))}),De(()=>he(V()),()=>{It(we,V())}),De(()=>(he(B()),he(V()),p(),y(),d(),u()),()=>{It(ue,B()&&V()?uv(B(),p(),V(),{yScale:y(),$width:d(),$height:u()}):null)}),De(()=>(m(),h()),()=>{It(me,Te=>{var ze;return(ze=m())==null?void 0:ze(h()(Te))})}),De(()=>he(F()),()=>{It(ce,ln(F()))}),De(()=>(he(q()),s(),S()),()=>{It(be,q()??KL(Xl(s()).map(S())))}),De(()=>he(G()),()=>{It(ve,G())}),De(()=>(he(G()),he(N()),w(),d(),u()),()=>{It(ye,G()?uv(N()??sc(),w(),G(),{$width:d(),$height:u()}):null)}),De(()=>(C(),S()),()=>{It(Se,Te=>{var ze;return(ze=C())==null?void 0:ze(S()(Te))})}),De(()=>he(Ee()),()=>{It(Be,Ee())}),De(()=>(he(M()),he(A()),he(O()),he(D()),he(I()),he(j()),he(V()),he(B()),he(F()),he(q()),he(G()),he(N())),()=>{g(T,{...M()&&{x1:M()},...A()&&{x1Domain:A()},...O()&&{x1Range:O()},...D()&&{x1Scale:D()},...I()&&{y1:I()},...j()&&{y1Domain:j()},...V()&&{y1Range:V()},...B()&&{y1Scale:B()},...F()&&{c:F()},...q()&&{cDomain:q()},...G()&&{cRange:G()},...N()&&{cScale:N()}})}),De(()=>a(T),()=>{It(Ae,a(T))}),De(()=>(a(Oe),he(ge()),d(),u(),k(),P()),()=>{var Te;a(Oe)&&((Te=ge())==null||Te({width:d(),height:u(),containerWidth:k(),containerHeight:P()}))}),Qr(),pr();var Re=ke(),Me=de(Re);$t(Me,e,"default",{get data(){return Le()},get flatData(){return _e.data},get config(){return z()},get x1(){return i()},get x1Scale(){return l()},get x1Get(){return f()},get y1(){return h()},get y1Scale(){return m()},get y1Get(){return _()},get c(){return S()},get cScale(){return C()},get cGet(){return L()}},null),b(t,Re),Ke(),n()}const Rb=Symbol(),b1=bt({x:0,y:0}),w1=bt(1),dO={mode:"none",scale:w1,setScale:w1.set,translate:b1,setTranslate:b1.set,moving:bt(!1),dragging:bt(!1),scrollMode:bt("none"),setScrollMode:()=>{},reset:()=>{},zoomIn:()=>{},zoomOut:()=>{},translateCenter:()=>{},zoomTo:()=>{}};function Gp(){return el(Rb)??dO}function uO(t){rs(Rb,t)}var fO=H('<div class="h-full"><!></div>');function vO(t,e){Xe(e,!1);const[r,n]=ct(),i=()=>ie(A,"$scrollMode",r),o=()=>ie(B,"$translate",r),s=()=>ie(F,"$scale",r),l=()=>ie(h,"$width",r),c=()=>ie(p,"$height",r),d=()=>ie(D,"$dragging",r),u=Ve(),f=Ve(),{width:h,height:p}=En();let m=R(e,"mode",8,"none"),y=R(e,"translateOnScale",8,!1),_=R(e,"spring",8,void 0),S=R(e,"tweened",8,void 0),w=R(e,"processTranslate",8,(ve,Se,Ee,Be,Ae)=>({x:ve+Ee/Ae,y:Se+Be/Ae})),C=R(e,"disablePointer",8,!1),L=R(e,"initialScrollMode",8,"none"),k=R(e,"clickDistance",8,10),P=R(e,"ondragstart",8,void 0),z=R(e,"ondragend",8,void 0),T=R(e,"ontransform",8,void 0),M=!1;const D=bt(!1),A=bt(L()),O={x:0,y:0};let I=R(e,"initialTranslate",8,void 0);const B=Cn(I()??O,{spring:_(),tweened:S()}),j=1;let V=R(e,"initialScale",8,void 0);const F=Cn(V()??j,{spring:_(),tweened:S()});let N={x:0,y:0},q={x:0,y:0};function G(ve){It(A,ve)}function Q(){It(B,I()??O),It(F,V()??j)}function Z(){X(1.25,{x:l()/2,y:c()/2})}function E(){X(.8,{x:l()/2,y:c()/2})}function U(){It(B,{x:0,y:0})}function $(ve,Se){It(B,{x:l()/2-ve.x,y:c()/2-ve.y}),Se&&It(F,l()<c()?l()/Se.width:c()/Se.height)}function ee(ve){var Se;m()==="none"||C()||(ve.preventDefault(),M=!0,It(D,!1),N=me(ve),q=o(),(Se=P())==null||Se())}function se(ve){var Ae;if(!M)return;ve.preventDefault();const Se=me(ve),Ee=Se.x-N.x,Be=Se.y-N.y;d()||It(D,Ee*Ee+Be*Be>k()),d()&&(ve.stopPropagation(),(Ae=ve.currentTarget)==null||Ae.setPointerCapture(ve.pointerId),xe(w()(q.x,q.y,Ee,Be,s()),_()?{hard:!0}:S()?{duration:0}:void 0))}function oe(ve){var Se;M=!1,It(D,!1),(Se=z())==null||Se()}function K(ve){d()&&ve.stopPropagation()}function J(ve){if(m()==="none"||C())return;const Se=me(ve);X(ve.shiftKey?.5:2,Se)}function te(ve){if(m()==="none"||C()||i()==="none")return;ve.preventDefault();const Se=N=me(ve),Ee=ve.ctrlKey;if(i()==="scale"||Ee){const Be=-ve.deltaY*(ve.deltaMode===1?.05:ve.deltaMode?1:.002)*(ve.ctrlKey?10:1);X(Math.pow(2,Be),Se,_()?{hard:!0}:S()?{duration:0}:void 0)}else i()==="translate"&&B.update(Be=>w()(Be.x,Be.y,-ve.deltaX,-ve.deltaY,s()),_()?{hard:!0}:S()?{duration:0}:void 0)}function X(ve,Se,Ee=void 0){const Be=s(),Ae=s()*ve;if(we(Ae,Ee),y()){const Ce={x:(Se.x-o().x)/Be,y:(Se.y-o().y)/Be},_e={x:Se.x-Ce.x*Ae,y:Se.y-Ce.y*Ae};xe(_e,Ee)}}const re=y1(),fe=y1(),ue=Jr([D,re,fe],([ve,Se,Ee])=>ve||Se||Ee);function xe(ve,Se){re.handle(B.set(ve,Se))}function we(ve,Se){fe.handle(F.set(ve,Se))}function me(ve){return{x:ve.offsetX,y:ve.offsetY}}uO({mode:m(),scale:F,setScale:we,translate:B,setTranslate:xe,dragging:D,moving:ue,reset:Q,zoomIn:Z,zoomOut:E,translateCenter:U,zoomTo:$,scrollMode:A,setScrollMode:G}),De(()=>(l(),c()),()=>{g(u,{x:l()/2,y:c()/2})}),De(()=>(a(u),o()),()=>{g(f,{x:a(u).x-o().x,y:a(u).y-o().y})}),De(()=>(he(T()),s(),o()),()=>{var ve;(ve=T())==null||ve({scale:s(),translate:o()})}),Qr(),pr();var ce=fO(),ye=v(ce);$t(ye,e,"default",{get transform(){return{scale:s(),setScale:we,translate:o(),setTranslate:xe,zoomTo:$,reset:Q}}},null),tt("wheel",ce,te),tt("pointerdown",ce,ee),tt("pointermove",ce,se),tt("touchmove",ce,ve=>{m()!=="none"&&!C()&&ve.preventDefault()}),tt("pointerup",ce,oe),tt("dblclick",ce,J),tt("click",ce,K,!0),tt("click",ce,function(ve){ja.call(this,e,ve)}),tt("keydown",ce,function(ve){ja.call(this,e,ve)}),tt("keyup",ce,function(ve){ja.call(this,e,ve)}),tt("keypress",ce,function(ve){ja.call(this,e,ve)}),b(t,ce),fi(e,"translate",B),fi(e,"scale",F),fi(e,"setScrollMode",G),fi(e,"reset",Q),fi(e,"zoomIn",Z),fi(e,"zoomOut",E),fi(e,"translateCenter",U),fi(e,"zoomTo",$),fi(e,"setTranslate",xe),fi(e,"setScale",we);var be=Ke({translate:B,scale:F,setScrollMode:G,reset:Q,zoomIn:Z,zoomOut:E,translateCenter:U,zoomTo:$,setTranslate:xe,setScale:we});return n(),be}const hO="rgb(0, 0, 0)",k1="__layerchart_canvas_styles_id";function pO(t,{styles:e,classes:r}={}){try{let n=document.getElementById(k1);return n||(n=document.createElementNS("http://www.w3.org/2000/svg","svg"),n.setAttribute("id",k1),n.style.display="none",t.after(n)),n=n,n.removeAttribute("style"),n.removeAttribute("class"),e&&Object.assign(n.style,e),r&&n.setAttribute("class",At(r).split(" ").filter(o=>!o.startsWith("transition-")).join(" ")),window.getComputedStyle(n)}catch(n){return console.error("Unable to get computed styles",n),{}}}function uf(t,e,r={}){const n=pO(t.canvas,r),i=(n==null?void 0:n.paintOrder)==="stroke"?["stroke","fill"]:["fill","stroke"];if(n!=null&&n.opacity&&(t.globalAlpha=Number(n==null?void 0:n.opacity)),t.font=`${n.fontSize} ${n.fontFamily}`,n.textAnchor==="middle"?t.textAlign="center":n.textAnchor==="end"?t.textAlign="right":t.textAlign=n.textAlign,n.strokeDasharray.includes(",")){const o=n.strokeDasharray.split(",").map(s=>Number(s.replace("px","")));t.setLineDash(o)}i.forEach(o=>{var s,l,c,d,u,f,h,p,m,y;if(o==="fill"){const _=(s=r.styles)!=null&&s.fill&&(((l=r.styles)==null?void 0:l.fill)instanceof CanvasGradient||!((d=(c=r.styles)==null?void 0:c.fill)!=null&&d.includes("var")))?r.styles.fill:["none",hO].includes(n==null?void 0:n.fill)?null:n==null?void 0:n.fill;if(_){const S=t.globalAlpha,w=Number(n==null?void 0:n.fillOpacity),C=Number(n==null?void 0:n.opacity);t.globalAlpha=w*C,t.fillStyle=_,e.fill(t),t.globalAlpha=S}}else if(o==="stroke"){const _=(u=r.styles)!=null&&u.stroke&&(((f=r.styles)==null?void 0:f.stroke)instanceof CanvasGradient||!((p=(h=r.styles)==null?void 0:h.stroke)!=null&&p.includes("var")))?(m=r.styles)==null?void 0:m.stroke:(n==null?void 0:n.stroke)==="none"?null:n==null?void 0:n.stroke;_&&(t.lineWidth=typeof(n==null?void 0:n.strokeWidth)=="string"?Number((y=n==null?void 0:n.strokeWidth)==null?void 0:y.replace("px","")):(n==null?void 0:n.strokeWidth)??1,t.strokeStyle=_,e.stroke(t))}})}function ff(t,e,r={}){const n=new Path2D(e??"");uf(t,{fill:i=>i.fill(n),stroke:i=>i.stroke(n)},r)}function gO(t,e,r,n={}){e&&uf(t,{fill:i=>i.fillText(e.toString(),r.x,r.y),stroke:i=>i.strokeText(e.toString(),r.x,r.y)},n)}function mO(t,e,r={}){uf(t,{fill:n=>n.fillRect(e.x,e.y,e.width,e.height),stroke:n=>n.strokeRect(e.x,e.y,e.width,e.height)},r)}function xO(t,e,r={}){t.beginPath(),t.arc(e.cx,e.cy,e.r,0,2*Math.PI),uf(t,{fill:n=>{n.fill()},stroke:n=>{n.stroke()}},r),t.closePath()}function S1(t,e,r){const n=window.devicePixelRatio||1;return t.canvas.width=e*n,t.canvas.height=r*n,t.canvas.style.width=`${e}px`,t.canvas.style.height=`${r}px`,t.scale(n,n),{width:t.canvas.width,height:t.canvas.height}}function yO(t,e,r,n,i,o){const s=t.createLinearGradient(e,r,n,i);return o.forEach(({offset:l,color:c})=>{s.addColorStop(l,c)}),s}Tc(yO,(t,e,r,n,i,o)=>JSON.stringify({x0:e,y0:r,x1:n,y1:i,stops:o}));function _O(t,e,r){const n=window.devicePixelRatio??1,i=t.getImageData(e*n,r*n,1,1),[o,s,l,c]=i.data;return{r:o,g:s,b:l,a:c}}function*C1(t=500){let e=0;for(;e<16777216;){const r=e&255,n=(e&65280)>>8,i=(e&16711680)>>16;e+=t,yield{r,g:n,b:i,a:255}}return{r:0,g:0,b:0,a:255}}function A1(t){return t.a!==void 0?`rgba(${t.r},${t.g},${t.b},${t.a})`:`rgb(${t.r},${t.g},${t.b})`}function Kl(t,e){if(!t||!e)return null;const r=bO(e),n=QL(t)?t.ownerSVGElement:t,i=ZL(n)?n.getScreenCTM():null;if(JL(n)&&i){let s=n.createSVGPoint();return s.x=r.x,s.y=r.y,s=s.matrixTransform(i.inverse()),{x:s.x,y:s.y}}const o=t.getBoundingClientRect();return{x:r.x-o.left-t.clientLeft,y:r.y-o.top-t.clientTop}}function bO(t){return t?eE(t)?t.changedTouches.length>0?{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY}:{x:0,y:0}:{x:t.clientX,y:t.clientY}:{x:0,y:0}}function wO(t){const e=+this._x.call(null,t),r=+this._y.call(null,t);return Nb(this.cover(e,r),e,r,t)}function Nb(t,e,r,n){if(isNaN(e)||isNaN(r))return t;var i,o=t._root,s={data:n},l=t._x0,c=t._y0,d=t._x1,u=t._y1,f,h,p,m,y,_,S,w;if(!o)return t._root=s,t;for(;o.length;)if((y=e>=(f=(l+d)/2))?l=f:d=f,(_=r>=(h=(c+u)/2))?c=h:u=h,i=o,!(o=o[S=_<<1|y]))return i[S]=s,t;if(p=+t._x.call(null,o.data),m=+t._y.call(null,o.data),e===p&&r===m)return s.next=o,i?i[S]=s:t._root=s,t;do i=i?i[S]=new Array(4):t._root=new Array(4),(y=e>=(f=(l+d)/2))?l=f:d=f,(_=r>=(h=(c+u)/2))?c=h:u=h;while((S=_<<1|y)===(w=(m>=h)<<1|p>=f));return i[w]=o,i[S]=s,t}function kO(t){var e,r,n=t.length,i,o,s=new Array(n),l=new Array(n),c=1/0,d=1/0,u=-1/0,f=-1/0;for(r=0;r<n;++r)isNaN(i=+this._x.call(null,e=t[r]))||isNaN(o=+this._y.call(null,e))||(s[r]=i,l[r]=o,i<c&&(c=i),i>u&&(u=i),o<d&&(d=o),o>f&&(f=o));if(c>u||d>f)return this;for(this.cover(c,d).cover(u,f),r=0;r<n;++r)Nb(this,s[r],l[r],t[r]);return this}function SO(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var r=this._x0,n=this._y0,i=this._x1,o=this._y1;if(isNaN(r))i=(r=Math.floor(t))+1,o=(n=Math.floor(e))+1;else{for(var s=i-r||1,l=this._root,c,d;r>t||t>=i||n>e||e>=o;)switch(d=(e<n)<<1|t<r,c=new Array(4),c[d]=l,l=c,s*=2,d){case 0:i=r+s,o=n+s;break;case 1:r=i-s,o=n+s;break;case 2:i=r+s,n=o-s;break;case 3:r=i-s,n=o-s;break}this._root&&this._root.length&&(this._root=l)}return this._x0=r,this._y0=n,this._x1=i,this._y1=o,this}function CO(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function AO(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ua(t,e,r,n,i){this.node=t,this.x0=e,this.y0=r,this.x1=n,this.y1=i}function MO(t,e,r){var n,i=this._x0,o=this._y0,s,l,c,d,u=this._x1,f=this._y1,h=[],p=this._root,m,y;for(p&&h.push(new ua(p,i,o,u,f)),r==null?r=1/0:(i=t-r,o=e-r,u=t+r,f=e+r,r*=r);m=h.pop();)if(!(!(p=m.node)||(s=m.x0)>u||(l=m.y0)>f||(c=m.x1)<i||(d=m.y1)<o))if(p.length){var _=(s+c)/2,S=(l+d)/2;h.push(new ua(p[3],_,S,c,d),new ua(p[2],s,S,_,d),new ua(p[1],_,l,c,S),new ua(p[0],s,l,_,S)),(y=(e>=S)<<1|t>=_)&&(m=h[h.length-1],h[h.length-1]=h[h.length-1-y],h[h.length-1-y]=m)}else{var w=t-+this._x.call(null,p.data),C=e-+this._y.call(null,p.data),L=w*w+C*C;if(L<r){var k=Math.sqrt(r=L);i=t-k,o=e-k,u=t+k,f=e+k,n=p.data}}return n}function PO(t){if(isNaN(u=+this._x.call(null,t))||isNaN(f=+this._y.call(null,t)))return this;var e,r=this._root,n,i,o,s=this._x0,l=this._y0,c=this._x1,d=this._y1,u,f,h,p,m,y,_,S;if(!r)return this;if(r.length)for(;;){if((m=u>=(h=(s+c)/2))?s=h:c=h,(y=f>=(p=(l+d)/2))?l=p:d=p,e=r,!(r=r[_=y<<1|m]))return this;if(!r.length)break;(e[_+1&3]||e[_+2&3]||e[_+3&3])&&(n=e,S=_)}for(;r.data!==t;)if(i=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,i?(o?i.next=o:delete i.next,this):e?(o?e[_]=o:delete e[_],(r=e[0]||e[1]||e[2]||e[3])&&r===(e[3]||e[2]||e[1]||e[0])&&!r.length&&(n?n[S]=r:this._root=r),this):(this._root=o,this)}function DO(t){for(var e=0,r=t.length;e<r;++e)this.remove(t[e]);return this}function LO(){return this._root}function EO(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function IO(t){var e=[],r,n=this._root,i,o,s,l,c;for(n&&e.push(new ua(n,this._x0,this._y0,this._x1,this._y1));r=e.pop();)if(!t(n=r.node,o=r.x0,s=r.y0,l=r.x1,c=r.y1)&&n.length){var d=(o+l)/2,u=(s+c)/2;(i=n[3])&&e.push(new ua(i,d,u,l,c)),(i=n[2])&&e.push(new ua(i,o,u,d,c)),(i=n[1])&&e.push(new ua(i,d,s,l,u)),(i=n[0])&&e.push(new ua(i,o,s,d,u))}return this}function TO(t){var e=[],r=[],n;for(this._root&&e.push(new ua(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,s=n.x0,l=n.y0,c=n.x1,d=n.y1,u=(s+c)/2,f=(l+d)/2;(o=i[0])&&e.push(new ua(o,s,l,u,f)),(o=i[1])&&e.push(new ua(o,u,l,c,f)),(o=i[2])&&e.push(new ua(o,s,f,u,d)),(o=i[3])&&e.push(new ua(o,u,f,c,d))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this}function OO(t){return t[0]}function RO(t){return arguments.length?(this._x=t,this):this._x}function NO(t){return t[1]}function zO(t){return arguments.length?(this._y=t,this):this._y}function zb(t,e,r){var n=new $p(e??OO,r??NO,NaN,NaN,NaN,NaN);return t==null?n:n.addAll(t)}function $p(t,e,r,n,i,o){this._x=t,this._y=e,this._x0=r,this._y0=n,this._x1=i,this._y1=o,this._root=void 0}function M1(t){for(var e={data:t.data},r=e;t=t.next;)r=r.next={data:t.data};return e}var va=zb.prototype=$p.prototype;va.copy=function(){var t=new $p(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,r,n;if(!e)return t;if(!e.length)return t._root=M1(e),t;for(r=[{source:e,target:t._root=new Array(4)}];e=r.pop();)for(var i=0;i<4;++i)(n=e.source[i])&&(n.length?r.push({source:n,target:e.target[i]=new Array(4)}):e.target[i]=M1(n));return t};va.add=wO;va.addAll=kO;va.cover=SO;va.data=CO;va.extent=AO;va.find=MO;va.remove=PO;va.removeAll=DO;va.root=LO;va.size=EO;va.visit=IO;va.visitAfter=TO;va.x=RO;va.y=zO;var BO=br("<title> </title>"),jO=br("<g><!></g>"),FO=br('<svg role="figure"><!><defs><!></defs><g class="layercake-layout-svg_g"><!></g></svg>');function Cd(t,e){const r=er(e,["children","$$slots","$$events","$$legacy"]);Xe(e,!1);const[n,i]=ct(),o=()=>ie(M,"$width",n),s=()=>ie(D,"$height",n),l=()=>ie(B,"$translate",n),c=()=>ie(I,"$scale",n),d=()=>ie(z,"$containerWidth",n),u=()=>ie(T,"$containerHeight",n),f=()=>ie(A,"$padding",n),h=Ve();let p=R(e,"element",12,void 0),m=R(e,"innerElement",12,void 0),y=R(e,"zIndex",8,void 0),_=R(e,"pointerEvents",8,void 0),S=R(e,"viewBox",8,void 0),w=R(e,"label",8,void 0),C=R(e,"labelledBy",8,void 0),L=R(e,"describedBy",8,void 0),k=R(e,"title",8,void 0),P=R(e,"center",8,!1);const{containerWidth:z,containerHeight:T,width:M,height:D,padding:A}=En(),{mode:O,scale:I,translate:B}=Gp();De(()=>(he(P()),o(),s()),()=>{g(h,P()?`translate(${P()==="x"||P()===!0?o()/2:0}, ${P()==="y"||P()===!0?s()/2:0})`:"")}),De(()=>(o(),s(),l(),c()),()=>{if(O==="canvas"){const E={x:o()/2,y:s()/2},U={x:l().x*c()+E.x-E.x*c(),y:l().y*c()+E.y-E.y*c()};g(h,`translate(${U.x},${U.y}) scale(${c()})`)}}),Qr(),pr();var j=FO(),V=v(j);$t(V,e,"title",{},E=>{var U=ke(),$=de(U);{var ee=se=>{var oe=BO(),K=v(oe);ae(()=>Y(K,k())),b(se,oe)};W($,se=>{k()&&se(ee)})}b(E,U)});var F=x(V),N=v(F);$t(N,e,"defs",{},null);var q=x(F),G=v(q);{var Q=E=>{var U=jO(),$=v(U);$t($,e,"default",{get element(){return p()}},null),ae(()=>pe(U,"transform",a(h))),b(E,U)},Z=E=>{var U=ke(),$=de(U);$t($,e,"default",{get element(){return p()}},null),b(E,U)};W(G,E=>{a(h)?E(Q):E(Z,!1)})}Ar(q,E=>m(E),()=>m()),Ar(j,E=>p(E),()=>p()),ae(E=>{pe(j,"viewBox",S()),pe(j,"width",d()),pe(j,"height",u()),qa(j,Mr(E)),pe(j,"aria-label",w()),pe(j,"aria-labelledby",C()),pe(j,"aria-describedby",L()),ar(j,"z-index",y()),pe(q,"transform",`translate(${f().left??""}, ${f().top??""})`)},[()=>At("layercake-layout-svg","absolute top-0 left-0 overflow-visible",_()===!1&&"pointer-events-none",r.class)],Ie),tt("click",j,function(E){ja.call(this,e,E)}),b(t,j),Ke(),i()}var UO=br("<use></use>"),VO=br("<g><!></g>"),WO=br("<defs><clipPath><!><!></clipPath></defs><!>",1);function HO(t,e){const r=Cc(e),n=er(e,["children","$$slots","$$events","$$legacy"]),i=er(n,["id","useId","disabled"]);Xe(e,!1);let o=R(e,"id",24,()=>zn("clipPath-")),s=R(e,"useId",8,void 0),l=R(e,"disabled",8,!1);pr();var c=WO(),d=de(c),u=v(d);let f;var h=v(u);$t(h,e,"clip",{get id(){return o()}},null);var p=x(h);{var m=S=>{var w=UO();ae(()=>pe(w,"href",`#${s()??""}`)),b(S,w)};W(p,S=>{s()&&S(m)})}var y=x(d);{var _=S=>{var w=ke(),C=de(w);{var L=P=>{var z=ke(),T=de(z);$t(T,e,"default",{},null),b(P,z)},k=P=>{var z=VO(),T=v(z);$t(T,e,"default",{get id(){return o()},get url(){return`url(#${o()??""})`},get useId(){return s()}},null),ae(()=>ar(z,"clip-path",`url(#${o()??""})`)),b(P,z)};W(C,P=>{l()?P(L):P(k,!1)})}b(S,w)};W(y,S=>{r.default&&S(_)})}ae(()=>f=In(u,f,{id:o(),...i},void 0,!0)),b(t,c),Ke()}var qO=br("<rect></rect>");function Yp(t,e){const r=er(e,["children","$$slots","$$events","$$legacy"]),n=er(r,["element","x","initialX","y","initialY","width","initialWidth","height","initialHeight","fill","fillOpacity","stroke","strokeWidth","class","onclick","ondblclick","onpointerenter","onpointermove","onpointerleave","onpointerover","onpointerout","spring","tweened"]);Xe(e,!1);const[i,o]=ct(),s=()=>ie(q,"$tweened_x",i),l=()=>ie(G,"$tweened_y",i),c=()=>ie(Q,"$tweened_width",i),d=()=>ie(Z,"$tweened_height",i),u=Ve(),f=Ve();let h=R(e,"element",12,void 0),p=R(e,"x",8,0),m=R(e,"initialX",24,p),y=R(e,"y",8,0),_=R(e,"initialY",24,y),S=R(e,"width",8),w=R(e,"initialWidth",24,S),C=R(e,"height",8),L=R(e,"initialHeight",24,C),k=R(e,"fill",8,void 0),P=R(e,"fillOpacity",8,void 0),z=R(e,"stroke",8,void 0),T=R(e,"strokeWidth",8,void 0),M=R(e,"class",8,void 0),D=R(e,"onclick",8,void 0),A=R(e,"ondblclick",8,void 0),O=R(e,"onpointerenter",8,void 0),I=R(e,"onpointermove",8,void 0),B=R(e,"onpointerleave",8,void 0),j=R(e,"onpointerover",8,void 0),V=R(e,"onpointerout",8,void 0),F=R(e,"spring",8,void 0),N=R(e,"tweened",8,void 0),q=Cn(m(),od("x",{spring:F(),tweened:N()})),G=Cn(_(),od("y",{spring:F(),tweened:N()})),Q=Cn(w(),od("width",{spring:F(),tweened:N()})),Z=Cn(L(),od("height",{spring:F(),tweened:N()}));const E=Ji(),U=E?"canvas":"svg";function $(J,te){mO(J,{x:s(),y:l(),width:c(),height:d()},te?us({styles:{strokeWidth:T()}},te):{styles:{fill:k(),fillOpacity:P(),stroke:z(),strokeWidth:T()},classes:M()})}let ee=Ve();Gn(()=>{U==="canvas"&&a(ee)()}),De(()=>(he(p()),he(y()),he(S()),he(C())),()=>{tl().then(()=>{q.set(p()),G.set(y()),Q.set(S()),Z.set(C())})}),De(()=>(he(k()),cn),()=>{g(u,k()&&typeof k()=="object"?cn(k()):k())}),De(()=>(he(z()),cn),()=>{g(f,z()&&typeof z()=="object"?cn(z()):z())}),De(()=>(s(),l(),c(),d(),a(u),a(f),he(T()),he(M())),()=>{U==="canvas"&&(s()&&l()&&c()&&d()&&a(u)&&a(f)&&T()&&M(),E.invalidate())}),De(()=>(he(D()),he(A()),he(O()),he(I()),he(B()),he(j()),he(V())),()=>{U==="canvas"&&g(ee,E.register({name:"Rect",render:$,events:{click:D(),dblclick:A(),pointerenter:O(),pointermove:I(),pointerleave:B(),pointerover:j(),pointerout:V()}}))}),Qr(),pr();var se=ke(),oe=de(se);{var K=J=>{var te=qO();let X;Ar(te,re=>h(re),()=>h()),ae(re=>X=In(te,X,{x:s(),y:l(),width:c(),height:d(),fill:k(),"fill-opacity":P(),stroke:z(),"stroke-width":T(),class:re,...n},void 0,!0),[()=>At(k()==null&&"fill-surface-content",M())],Ie),tt("click",te,function(...re){var fe;(fe=D())==null||fe.apply(this,re)}),tt("dblclick",te,function(...re){var fe;(fe=A())==null||fe.apply(this,re)}),tt("pointerenter",te,function(...re){var fe;(fe=O())==null||fe.apply(this,re)}),tt("pointerover",te,function(...re){var fe;(fe=j())==null||fe.apply(this,re)}),tt("pointermove",te,function(...re){var fe;(fe=I())==null||fe.apply(this,re)}),tt("pointerout",te,function(...re){var fe;(fe=V())==null||fe.apply(this,re)}),tt("pointerleave",te,function(...re){var fe;(fe=B())==null||fe.apply(this,re)}),b(J,te)};W(oe,J=>{U==="svg"&&J(K)})}b(t,se),Ke(),o()}function GO(t,e){const r=er(e,["children","$$slots","$$events","$$legacy"]),n=er(r,["id","x","y","width","height","spring","tweened","disabled"]);Xe(e,!1);let i=R(e,"id",24,()=>zn("clipPath-")),o=R(e,"x",8,0),s=R(e,"y",8,0),l=R(e,"width",8),c=R(e,"height",8),d=R(e,"spring",8,void 0),u=R(e,"tweened",8,void 0),f=R(e,"disabled",8,!1);pr(),HO(t,{get id(){return i()},get disabled(){return f()},children:za,$$slots:{default:(h,p)=>{const m=Ie(()=>p.url);var y=ke(),_=de(y);$t(_,e,"default",{get id(){return i()},get url(){return a(m)}},null),b(h,y)},clip:(h,p)=>{Yp(h,Ot({slot:"clip",get x(){return o()},get y(){return s()},get width(){return l()},get height(){return c()},get spring(){return d()},get tweened(){return u()}},()=>n))}}}),Ke()}function v0(t,e){const r=er(e,["children","$$slots","$$events","$$legacy"]),n=er(r,["full","disabled"]);Xe(e,!1);const[i,o]=ct(),s=()=>ie(f,"$padding",i),l=()=>ie(d,"$width",i),c=()=>ie(u,"$height",i),{width:d,height:u,padding:f}=En();let h=R(e,"full",8,!1),p=R(e,"disabled",8,!1);pr();const m=Ie(()=>h()&&s().left?-s().left:0),y=Ie(()=>h()&&s().top?-s().top:0),_=Ie(()=>{var w,C;return l()+(h()?(((w=s())==null?void 0:w.left)??0)+(((C=s())==null?void 0:C.right)??0):0)}),S=Ie(()=>{var w,C;return c()+(h()?(((w=s())==null?void 0:w.top)??0)+(((C=s())==null?void 0:C.bottom)??0):0)});GO(t,Ot({get x(){return a(m)},get y(){return a(y)},get width(){return a(_)},get height(){return a(S)},get disabled(){return p()}},()=>n,{children:(w,C)=>{var L=ke(),k=de(L);$t(k,e,"default",{},null),b(w,L)},$$slots:{default:!0}})),Ke(),o()}const Wi=11102230246251565e-32,Zn=134217729,$O=(3+8*Wi)*Wi;function fv(t,e,r,n,i){let o,s,l,c,d=e[0],u=n[0],f=0,h=0;u>d==u>-d?(o=d,d=e[++f]):(o=u,u=n[++h]);let p=0;if(f<t&&h<r)for(u>d==u>-d?(s=d+o,l=o-(s-d),d=e[++f]):(s=u+o,l=o-(s-u),u=n[++h]),o=s,l!==0&&(i[p++]=l);f<t&&h<r;)u>d==u>-d?(s=o+d,c=s-o,l=o-(s-c)+(d-c),d=e[++f]):(s=o+u,c=s-o,l=o-(s-c)+(u-c),u=n[++h]),o=s,l!==0&&(i[p++]=l);for(;f<t;)s=o+d,c=s-o,l=o-(s-c)+(d-c),d=e[++f],o=s,l!==0&&(i[p++]=l);for(;h<r;)s=o+u,c=s-o,l=o-(s-c)+(u-c),u=n[++h],o=s,l!==0&&(i[p++]=l);return(o!==0||p===0)&&(i[p++]=o),p}function YO(t,e){let r=e[0];for(let n=1;n<t;n++)r+=e[n];return r}function Uc(t){return new Float64Array(t)}const XO=(3+16*Wi)*Wi,KO=(2+12*Wi)*Wi,QO=(9+64*Wi)*Wi*Wi,bs=Uc(4),P1=Uc(8),D1=Uc(12),L1=Uc(16),ia=Uc(4);function JO(t,e,r,n,i,o,s){let l,c,d,u,f,h,p,m,y,_,S,w,C,L,k,P,z,T;const M=t-i,D=r-i,A=e-o,O=n-o;L=M*O,h=Zn*M,p=h-(h-M),m=M-p,h=Zn*O,y=h-(h-O),_=O-y,k=m*_-(L-p*y-m*y-p*_),P=A*D,h=Zn*A,p=h-(h-A),m=A-p,h=Zn*D,y=h-(h-D),_=D-y,z=m*_-(P-p*y-m*y-p*_),S=k-z,f=k-S,bs[0]=k-(S+f)+(f-z),w=L+S,f=w-L,C=L-(w-f)+(S-f),S=C-P,f=C-S,bs[1]=C-(S+f)+(f-P),T=w+S,f=T-w,bs[2]=w-(T-f)+(S-f),bs[3]=T;let I=YO(4,bs),B=KO*s;if(I>=B||-I>=B||(f=t-M,l=t-(M+f)+(f-i),f=r-D,d=r-(D+f)+(f-i),f=e-A,c=e-(A+f)+(f-o),f=n-O,u=n-(O+f)+(f-o),l===0&&c===0&&d===0&&u===0)||(B=QO*s+$O*Math.abs(I),I+=M*u+O*l-(A*d+D*c),I>=B||-I>=B))return I;L=l*O,h=Zn*l,p=h-(h-l),m=l-p,h=Zn*O,y=h-(h-O),_=O-y,k=m*_-(L-p*y-m*y-p*_),P=c*D,h=Zn*c,p=h-(h-c),m=c-p,h=Zn*D,y=h-(h-D),_=D-y,z=m*_-(P-p*y-m*y-p*_),S=k-z,f=k-S,ia[0]=k-(S+f)+(f-z),w=L+S,f=w-L,C=L-(w-f)+(S-f),S=C-P,f=C-S,ia[1]=C-(S+f)+(f-P),T=w+S,f=T-w,ia[2]=w-(T-f)+(S-f),ia[3]=T;const j=fv(4,bs,4,ia,P1);L=M*u,h=Zn*M,p=h-(h-M),m=M-p,h=Zn*u,y=h-(h-u),_=u-y,k=m*_-(L-p*y-m*y-p*_),P=A*d,h=Zn*A,p=h-(h-A),m=A-p,h=Zn*d,y=h-(h-d),_=d-y,z=m*_-(P-p*y-m*y-p*_),S=k-z,f=k-S,ia[0]=k-(S+f)+(f-z),w=L+S,f=w-L,C=L-(w-f)+(S-f),S=C-P,f=C-S,ia[1]=C-(S+f)+(f-P),T=w+S,f=T-w,ia[2]=w-(T-f)+(S-f),ia[3]=T;const V=fv(j,P1,4,ia,D1);L=l*u,h=Zn*l,p=h-(h-l),m=l-p,h=Zn*u,y=h-(h-u),_=u-y,k=m*_-(L-p*y-m*y-p*_),P=c*d,h=Zn*c,p=h-(h-c),m=c-p,h=Zn*d,y=h-(h-d),_=d-y,z=m*_-(P-p*y-m*y-p*_),S=k-z,f=k-S,ia[0]=k-(S+f)+(f-z),w=L+S,f=w-L,C=L-(w-f)+(S-f),S=C-P,f=C-S,ia[1]=C-(S+f)+(f-P),T=w+S,f=T-w,ia[2]=w-(T-f)+(S-f),ia[3]=T;const F=fv(V,D1,4,ia,L1);return L1[F-1]}function sd(t,e,r,n,i,o){const s=(e-o)*(r-i),l=(t-i)*(n-o),c=s-l,d=Math.abs(s+l);return Math.abs(c)>=XO*d?c:-JO(t,e,r,n,i,o,d)}const E1=Math.pow(2,-52),ld=new Uint32Array(512);class fu{static from(e,r=nR,n=aR){const i=e.length,o=new Float64Array(i*2);for(let s=0;s<i;s++){const l=e[s];o[2*s]=r(l),o[2*s+1]=n(l)}return new fu(o)}constructor(e){const r=e.length>>1;if(r>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*r-5,0);this._triangles=new Uint32Array(n*3),this._halfedges=new Int32Array(n*3),this._hashSize=Math.ceil(Math.sqrt(r)),this._hullPrev=new Uint32Array(r),this._hullNext=new Uint32Array(r),this._hullTri=new Uint32Array(r),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(r),this._dists=new Float64Array(r),this.update()}update(){const{coords:e,_hullPrev:r,_hullNext:n,_hullTri:i,_hullHash:o}=this,s=e.length>>1;let l=1/0,c=1/0,d=-1/0,u=-1/0;for(let M=0;M<s;M++){const D=e[2*M],A=e[2*M+1];D<l&&(l=D),A<c&&(c=A),D>d&&(d=D),A>u&&(u=A),this._ids[M]=M}const f=(l+d)/2,h=(c+u)/2;let p,m,y;for(let M=0,D=1/0;M<s;M++){const A=vv(f,h,e[2*M],e[2*M+1]);A<D&&(p=M,D=A)}const _=e[2*p],S=e[2*p+1];for(let M=0,D=1/0;M<s;M++){if(M===p)continue;const A=vv(_,S,e[2*M],e[2*M+1]);A<D&&A>0&&(m=M,D=A)}let w=e[2*m],C=e[2*m+1],L=1/0;for(let M=0;M<s;M++){if(M===p||M===m)continue;const D=tR(_,S,w,C,e[2*M],e[2*M+1]);D<L&&(y=M,L=D)}let k=e[2*y],P=e[2*y+1];if(L===1/0){for(let A=0;A<s;A++)this._dists[A]=e[2*A]-e[0]||e[2*A+1]-e[1];As(this._ids,this._dists,0,s-1);const M=new Uint32Array(s);let D=0;for(let A=0,O=-1/0;A<s;A++){const I=this._ids[A],B=this._dists[I];B>O&&(M[D++]=I,O=B)}this.hull=M.subarray(0,D),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(sd(_,S,w,C,k,P)<0){const M=m,D=w,A=C;m=y,w=k,C=P,y=M,k=D,P=A}const z=rR(_,S,w,C,k,P);this._cx=z.x,this._cy=z.y;for(let M=0;M<s;M++)this._dists[M]=vv(e[2*M],e[2*M+1],z.x,z.y);As(this._ids,this._dists,0,s-1),this._hullStart=p;let T=3;n[p]=r[y]=m,n[m]=r[p]=y,n[y]=r[m]=p,i[p]=0,i[m]=1,i[y]=2,o.fill(-1),o[this._hashKey(_,S)]=p,o[this._hashKey(w,C)]=m,o[this._hashKey(k,P)]=y,this.trianglesLen=0,this._addTriangle(p,m,y,-1,-1,-1);for(let M=0,D,A;M<this._ids.length;M++){const O=this._ids[M],I=e[2*O],B=e[2*O+1];if(M>0&&Math.abs(I-D)<=E1&&Math.abs(B-A)<=E1||(D=I,A=B,O===p||O===m||O===y))continue;let j=0;for(let G=0,Q=this._hashKey(I,B);G<this._hashSize&&(j=o[(Q+G)%this._hashSize],!(j!==-1&&j!==n[j]));G++);j=r[j];let V=j,F;for(;F=n[V],sd(I,B,e[2*V],e[2*V+1],e[2*F],e[2*F+1])>=0;)if(V=F,V===j){V=-1;break}if(V===-1)continue;let N=this._addTriangle(V,O,n[V],-1,-1,i[V]);i[O]=this._legalize(N+2),i[V]=N,T++;let q=n[V];for(;F=n[q],sd(I,B,e[2*q],e[2*q+1],e[2*F],e[2*F+1])<0;)N=this._addTriangle(q,O,F,i[O],-1,i[q]),i[O]=this._legalize(N+2),n[q]=q,T--,q=F;if(V===j)for(;F=r[V],sd(I,B,e[2*F],e[2*F+1],e[2*V],e[2*V+1])<0;)N=this._addTriangle(F,O,V,-1,i[V],i[F]),this._legalize(N+2),i[F]=N,n[V]=V,T--,V=F;this._hullStart=r[O]=V,n[V]=r[q]=O,n[O]=q,o[this._hashKey(I,B)]=O,o[this._hashKey(e[2*V],e[2*V+1])]=V}this.hull=new Uint32Array(T);for(let M=0,D=this._hullStart;M<T;M++)this.hull[M]=D,D=n[D];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,r){return Math.floor(ZO(e-this._cx,r-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:r,_halfedges:n,coords:i}=this;let o=0,s=0;for(;;){const l=n[e],c=e-e%3;if(s=c+(e+2)%3,l===-1){if(o===0)break;e=ld[--o];continue}const d=l-l%3,u=c+(e+1)%3,f=d+(l+2)%3,h=r[s],p=r[e],m=r[u],y=r[f];if(eR(i[2*h],i[2*h+1],i[2*p],i[2*p+1],i[2*m],i[2*m+1],i[2*y],i[2*y+1])){r[e]=y,r[l]=h;const S=n[f];if(S===-1){let C=this._hullStart;do{if(this._hullTri[C]===f){this._hullTri[C]=e;break}C=this._hullPrev[C]}while(C!==this._hullStart)}this._link(e,S),this._link(l,n[s]),this._link(s,f);const w=d+(l+1)%3;o<ld.length&&(ld[o++]=w)}else{if(o===0)break;e=ld[--o]}}return s}_link(e,r){this._halfedges[e]=r,r!==-1&&(this._halfedges[r]=e)}_addTriangle(e,r,n,i,o,s){const l=this.trianglesLen;return this._triangles[l]=e,this._triangles[l+1]=r,this._triangles[l+2]=n,this._link(l,i),this._link(l+1,o),this._link(l+2,s),this.trianglesLen+=3,l}}function ZO(t,e){const r=t/(Math.abs(t)+Math.abs(e));return(e>0?3-r:1+r)/4}function vv(t,e,r,n){const i=t-r,o=e-n;return i*i+o*o}function eR(t,e,r,n,i,o,s,l){const c=t-s,d=e-l,u=r-s,f=n-l,h=i-s,p=o-l,m=c*c+d*d,y=u*u+f*f,_=h*h+p*p;return c*(f*_-y*p)-d*(u*_-y*h)+m*(u*p-f*h)<0}function tR(t,e,r,n,i,o){const s=r-t,l=n-e,c=i-t,d=o-e,u=s*s+l*l,f=c*c+d*d,h=.5/(s*d-l*c),p=(d*u-l*f)*h,m=(s*f-c*u)*h;return p*p+m*m}function rR(t,e,r,n,i,o){const s=r-t,l=n-e,c=i-t,d=o-e,u=s*s+l*l,f=c*c+d*d,h=.5/(s*d-l*c),p=t+(d*u-l*f)*h,m=e+(s*f-c*u)*h;return{x:p,y:m}}function As(t,e,r,n){if(n-r<=20)for(let i=r+1;i<=n;i++){const o=t[i],s=e[o];let l=i-1;for(;l>=r&&e[t[l]]>s;)t[l+1]=t[l--];t[l+1]=o}else{const i=r+n>>1;let o=r+1,s=n;Al(t,i,o),e[t[r]]>e[t[n]]&&Al(t,r,n),e[t[o]]>e[t[n]]&&Al(t,o,n),e[t[r]]>e[t[o]]&&Al(t,r,o);const l=t[o],c=e[l];for(;;){do o++;while(e[t[o]]<c);do s--;while(e[t[s]]>c);if(s<o)break;Al(t,o,s)}t[r+1]=t[s],t[s]=l,n-o+1>=s-r?(As(t,e,o,n),As(t,e,r,s-1)):(As(t,e,r,s-1),As(t,e,o,n))}}function Al(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function nR(t){return t[0]}function aR(t){return t[1]}const I1=1e-6;class Ro{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,r){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,r){this._+=`L${this._x1=+e},${this._y1=+r}`}arc(e,r,n){e=+e,r=+r,n=+n;const i=e+n,o=r;if(n<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>I1||Math.abs(this._y1-o)>I1)&&(this._+="L"+i+","+o),n&&(this._+=`A${n},${n},0,1,1,${e-n},${r}A${n},${n},0,1,1,${this._x1=i},${this._y1=o}`)}rect(e,r,n,i){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${+n}v${+i}h${-n}Z`}value(){return this._||null}}class h0{constructor(){this._=[]}moveTo(e,r){this._.push([e,r])}closePath(){this._.push(this._[0].slice())}lineTo(e,r){this._.push([e,r])}value(){return this._.length?this._:null}}let iR=class{constructor(e,[r,n,i,o]=[0,0,960,500]){if(!((i=+i)>=(r=+r))||!((o=+o)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=i,this.xmin=r,this.ymax=o,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:r,triangles:n},vectors:i}=this;let o,s;const l=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let y=0,_=0,S=n.length,w,C;y<S;y+=3,_+=2){const L=n[y]*2,k=n[y+1]*2,P=n[y+2]*2,z=e[L],T=e[L+1],M=e[k],D=e[k+1],A=e[P],O=e[P+1],I=M-z,B=D-T,j=A-z,V=O-T,F=(I*V-B*j)*2;if(Math.abs(F)<1e-9){if(o===void 0){o=s=0;for(const q of r)o+=e[q*2],s+=e[q*2+1];o/=r.length,s/=r.length}const N=1e9*Math.sign((o-z)*V-(s-T)*j);w=(z+A)/2-N*V,C=(T+O)/2+N*j}else{const N=1/F,q=I*I+B*B,G=j*j+V*V;w=z+(V*q-B*G)*N,C=T+(I*G-j*q)*N}l[_]=w,l[_+1]=C}let c=r[r.length-1],d,u=c*4,f,h=e[2*c],p,m=e[2*c+1];i.fill(0);for(let y=0;y<r.length;++y)c=r[y],d=u,f=h,p=m,u=c*4,h=e[2*c],m=e[2*c+1],i[d+2]=i[u]=p-m,i[d+3]=i[u+1]=h-f}render(e){const r=e==null?e=new Ro:void 0,{delaunay:{halfedges:n,inedges:i,hull:o},circumcenters:s,vectors:l}=this;if(o.length<=1)return null;for(let u=0,f=n.length;u<f;++u){const h=n[u];if(h<u)continue;const p=Math.floor(u/3)*2,m=Math.floor(h/3)*2,y=s[p],_=s[p+1],S=s[m],w=s[m+1];this._renderSegment(y,_,S,w,e)}let c,d=o[o.length-1];for(let u=0;u<o.length;++u){c=d,d=o[u];const f=Math.floor(i[d]/3)*2,h=s[f],p=s[f+1],m=c*4,y=this._project(h,p,l[m+2],l[m+3]);y&&this._renderSegment(h,p,y[0],y[1],e)}return r&&r.value()}renderBounds(e){const r=e==null?e=new Ro:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),r&&r.value()}renderCell(e,r){const n=r==null?r=new Ro:void 0,i=this._clip(e);if(i===null||!i.length)return;r.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&r.lineTo(i[s],i[s+1]);return r.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let r=0,n=e.length/2;r<n;++r){const i=this.cellPolygon(r);i&&(i.index=r,yield i)}}cellPolygon(e){const r=new h0;return this.renderCell(e,r),r.value()}_renderSegment(e,r,n,i,o){let s;const l=this._regioncode(e,r),c=this._regioncode(n,i);l===0&&c===0?(o.moveTo(e,r),o.lineTo(n,i)):(s=this._clipSegment(e,r,n,i,l,c))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(e,r,n){return r=+r,r!==r||(n=+n,n!==n)?!1:this.delaunay._step(e,r,n)===e}*neighbors(e){const r=this._clip(e);if(r)for(const n of this.delaunay.neighbors(e)){const i=this._clip(n);if(i){e:for(let o=0,s=r.length;o<s;o+=2)for(let l=0,c=i.length;l<c;l+=2)if(r[o]===i[l]&&r[o+1]===i[l+1]&&r[(o+2)%s]===i[(l+c-2)%c]&&r[(o+3)%s]===i[(l+c-1)%c]){yield n;break e}}}}_cell(e){const{circumcenters:r,delaunay:{inedges:n,halfedges:i,triangles:o}}=this,s=n[e];if(s===-1)return null;const l=[];let c=s;do{const d=Math.floor(c/3);if(l.push(r[d*2],r[d*2+1]),c=c%3===2?c-2:c+1,o[c]!==e)break;c=i[c]}while(c!==s&&c!==-1);return l}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const r=this._cell(e);if(r===null)return null;const{vectors:n}=this,i=e*4;return this._simplify(n[i]||n[i+1]?this._clipInfinite(e,r,n[i],n[i+1],n[i+2],n[i+3]):this._clipFinite(e,r))}_clipFinite(e,r){const n=r.length;let i=null,o,s,l=r[n-2],c=r[n-1],d,u=this._regioncode(l,c),f,h=0;for(let p=0;p<n;p+=2)if(o=l,s=c,l=r[p],c=r[p+1],d=u,u=this._regioncode(l,c),d===0&&u===0)f=h,h=0,i?i.push(l,c):i=[l,c];else{let m,y,_,S,w;if(d===0){if((m=this._clipSegment(o,s,l,c,d,u))===null)continue;[y,_,S,w]=m}else{if((m=this._clipSegment(l,c,o,s,u,d))===null)continue;[S,w,y,_]=m,f=h,h=this._edgecode(y,_),f&&h&&this._edge(e,f,h,i,i.length),i?i.push(y,_):i=[y,_]}f=h,h=this._edgecode(S,w),f&&h&&this._edge(e,f,h,i,i.length),i?i.push(S,w):i=[S,w]}if(i)f=h,h=this._edgecode(i[0],i[1]),f&&h&&this._edge(e,f,h,i,i.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(e,r,n,i,o,s){const l=o<s;for(l&&([e,r,n,i,o,s]=[n,i,e,r,s,o]);;){if(o===0&&s===0)return l?[n,i,e,r]:[e,r,n,i];if(o&s)return null;let c,d,u=o||s;u&8?(c=e+(n-e)*(this.ymax-r)/(i-r),d=this.ymax):u&4?(c=e+(n-e)*(this.ymin-r)/(i-r),d=this.ymin):u&2?(d=r+(i-r)*(this.xmax-e)/(n-e),c=this.xmax):(d=r+(i-r)*(this.xmin-e)/(n-e),c=this.xmin),o?(e=c,r=d,o=this._regioncode(e,r)):(n=c,i=d,s=this._regioncode(n,i))}}_clipInfinite(e,r,n,i,o,s){let l=Array.from(r),c;if((c=this._project(l[0],l[1],n,i))&&l.unshift(c[0],c[1]),(c=this._project(l[l.length-2],l[l.length-1],o,s))&&l.push(c[0],c[1]),l=this._clipFinite(e,l))for(let d=0,u=l.length,f,h=this._edgecode(l[u-2],l[u-1]);d<u;d+=2)f=h,h=this._edgecode(l[d],l[d+1]),f&&h&&(d=this._edge(e,f,h,l,d),u=l.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(l=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return l}_edge(e,r,n,i,o){for(;r!==n;){let s,l;switch(r){case 5:r=4;continue;case 4:r=6,s=this.xmax,l=this.ymin;break;case 6:r=2;continue;case 2:r=10,s=this.xmax,l=this.ymax;break;case 10:r=8;continue;case 8:r=9,s=this.xmin,l=this.ymax;break;case 9:r=1;continue;case 1:r=5,s=this.xmin,l=this.ymin;break}(i[o]!==s||i[o+1]!==l)&&this.contains(e,s,l)&&(i.splice(o,0,s,l),o+=2)}return o}_project(e,r,n,i){let o=1/0,s,l,c;if(i<0){if(r<=this.ymin)return null;(s=(this.ymin-r)/i)<o&&(c=this.ymin,l=e+(o=s)*n)}else if(i>0){if(r>=this.ymax)return null;(s=(this.ymax-r)/i)<o&&(c=this.ymax,l=e+(o=s)*n)}if(n>0){if(e>=this.xmax)return null;(s=(this.xmax-e)/n)<o&&(l=this.xmax,c=r+(o=s)*i)}else if(n<0){if(e<=this.xmin)return null;(s=(this.xmin-e)/n)<o&&(l=this.xmin,c=r+(o=s)*i)}return[l,c]}_edgecode(e,r){return(e===this.xmin?1:e===this.xmax?2:0)|(r===this.ymin?4:r===this.ymax?8:0)}_regioncode(e,r){return(e<this.xmin?1:e>this.xmax?2:0)|(r<this.ymin?4:r>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let r=0;r<e.length;r+=2){const n=(r+2)%e.length,i=(r+4)%e.length;(e[r]===e[n]&&e[n]===e[i]||e[r+1]===e[n+1]&&e[n+1]===e[i+1])&&(e.splice(n,2),r-=2)}e.length||(e=null)}return e}};const oR=2*Math.PI,ws=Math.pow;function sR(t){return t[0]}function lR(t){return t[1]}function cR(t){const{triangles:e,coords:r}=t;for(let n=0;n<e.length;n+=3){const i=2*e[n],o=2*e[n+1],s=2*e[n+2];if((r[s]-r[i])*(r[o+1]-r[i+1])-(r[o]-r[i])*(r[s+1]-r[i+1])>1e-10)return!1}return!0}function dR(t,e,r){return[t+Math.sin(t+e)*r,e+Math.cos(t-e)*r]}class vf{static from(e,r=sR,n=lR,i){return new vf("length"in e?uR(e,r,n,i):Float64Array.from(fR(e,r,n,i)))}constructor(e){this._delaunator=new fu(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,r=this.points;if(e.hull&&e.hull.length>2&&cR(e)){this.collinear=Int32Array.from({length:r.length/2},(h,p)=>p).sort((h,p)=>r[2*h]-r[2*p]||r[2*h+1]-r[2*p+1]);const c=this.collinear[0],d=this.collinear[this.collinear.length-1],u=[r[2*c],r[2*c+1],r[2*d],r[2*d+1]],f=1e-8*Math.hypot(u[3]-u[1],u[2]-u[0]);for(let h=0,p=r.length/2;h<p;++h){const m=dR(r[2*h],r[2*h+1],f);r[2*h]=m[0],r[2*h+1]=m[1]}this._delaunator=new fu(r)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),l=this._hullIndex.fill(-1);for(let c=0,d=n.length;c<d;++c){const u=o[c%3===2?c-2:c+1];(n[c]===-1||s[u]===-1)&&(s[u]=c)}for(let c=0,d=i.length;c<d;++c)l[i[c]]=c;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],s[i[0]]=1,i.length===2&&(s[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(e){return new iR(this,e)}*neighbors(e){const{inedges:r,hull:n,_hullIndex:i,halfedges:o,triangles:s,collinear:l}=this;if(l){const f=l.indexOf(e);f>0&&(yield l[f-1]),f<l.length-1&&(yield l[f+1]);return}const c=r[e];if(c===-1)return;let d=c,u=-1;do{if(yield u=s[d],d=d%3===2?d-2:d+1,s[d]!==e)return;if(d=o[d],d===-1){const f=n[(i[e]+1)%n.length];f!==u&&(yield f);return}}while(d!==c)}find(e,r,n=0){if(e=+e,e!==e||(r=+r,r!==r))return-1;const i=n;let o;for(;(o=this._step(n,e,r))>=0&&o!==n&&o!==i;)n=o;return o}_step(e,r,n){const{inedges:i,hull:o,_hullIndex:s,halfedges:l,triangles:c,points:d}=this;if(i[e]===-1||!d.length)return(e+1)%(d.length>>1);let u=e,f=ws(r-d[e*2],2)+ws(n-d[e*2+1],2);const h=i[e];let p=h;do{let m=c[p];const y=ws(r-d[m*2],2)+ws(n-d[m*2+1],2);if(y<f&&(f=y,u=m),p=p%3===2?p-2:p+1,c[p]!==e)break;if(p=l[p],p===-1){if(p=o[(s[e]+1)%o.length],p!==m&&ws(r-d[p*2],2)+ws(n-d[p*2+1],2)<f)return p;break}}while(p!==h);return u}render(e){const r=e==null?e=new Ro:void 0,{points:n,halfedges:i,triangles:o}=this;for(let s=0,l=i.length;s<l;++s){const c=i[s];if(c<s)continue;const d=o[s]*2,u=o[c]*2;e.moveTo(n[d],n[d+1]),e.lineTo(n[u],n[u+1])}return this.renderHull(e),r&&r.value()}renderPoints(e,r){r===void 0&&(!e||typeof e.moveTo!="function")&&(r=e,e=null),r=r==null?2:+r;const n=e==null?e=new Ro:void 0,{points:i}=this;for(let o=0,s=i.length;o<s;o+=2){const l=i[o],c=i[o+1];e.moveTo(l+r,c),e.arc(l,c,r,0,oR)}return n&&n.value()}renderHull(e){const r=e==null?e=new Ro:void 0,{hull:n,points:i}=this,o=n[0]*2,s=n.length;e.moveTo(i[o],i[o+1]);for(let l=1;l<s;++l){const c=2*n[l];e.lineTo(i[c],i[c+1])}return e.closePath(),r&&r.value()}hullPolygon(){const e=new h0;return this.renderHull(e),e.value()}renderTriangle(e,r){const n=r==null?r=new Ro:void 0,{points:i,triangles:o}=this,s=o[e*=3]*2,l=o[e+1]*2,c=o[e+2]*2;return r.moveTo(i[s],i[s+1]),r.lineTo(i[l],i[l+1]),r.lineTo(i[c],i[c+1]),r.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:e}=this;for(let r=0,n=e.length/3;r<n;++r)yield this.trianglePolygon(r)}trianglePolygon(e){const r=new h0;return this.renderTriangle(e,r),r.value()}}function uR(t,e,r,n){const i=t.length,o=new Float64Array(i*2);for(let s=0;s<i;++s){const l=t[s];o[s*2]=e.call(n,l,s,t),o[s*2+1]=r.call(n,l,s,t)}return o}function*fR(t,e,r,n){let i=0;for(const o of t)yield e.call(n,o,i,t),yield r.call(n,o,i,t),++i}var hn=1e-6,T1=1e-12,qr=Math.PI,Ha=qr/2,O1=qr/4,Ya=qr*2,oa=180/qr,Hr=qr/180,bn=Math.abs,Bb=Math.atan,$i=Math.atan2,zr=Math.cos,p0=Math.hypot,Br=Math.sin,vR=Math.sign||function(t){return t>0?1:t<0?-1:0},Ai=Math.sqrt;function hR(t){return t>1?0:t<-1?qr:Math.acos(t)}function yo(t){return t>1?Ha:t<-1?-Ha:Math.asin(t)}function Bn(){}function vu(t,e){t&&N1.hasOwnProperty(t.type)&&N1[t.type](t,e)}var R1={Feature:function(t,e){vu(t.geometry,e)},FeatureCollection:function(t,e){for(var r=t.features,n=-1,i=r.length;++n<i;)vu(r[n].geometry,e)}},N1={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var r=t.coordinates,n=-1,i=r.length;++n<i;)t=r[n],e.point(t[0],t[1],t[2])},LineString:function(t,e){g0(t.coordinates,e,0)},MultiLineString:function(t,e){for(var r=t.coordinates,n=-1,i=r.length;++n<i;)g0(r[n],e,0)},Polygon:function(t,e){z1(t.coordinates,e)},MultiPolygon:function(t,e){for(var r=t.coordinates,n=-1,i=r.length;++n<i;)z1(r[n],e)},GeometryCollection:function(t,e){for(var r=t.geometries,n=-1,i=r.length;++n<i;)vu(r[n],e)}};function g0(t,e,r){var n=-1,i=t.length-r,o;for(e.lineStart();++n<i;)o=t[n],e.point(o[0],o[1],o[2]);e.lineEnd()}function z1(t,e){var r=-1,n=t.length;for(e.polygonStart();++r<n;)g0(t[r],e,1);e.polygonEnd()}function io(t,e){t&&R1.hasOwnProperty(t.type)?R1[t.type](t,e):vu(t,e)}function m0(t){return[$i(t[1],t[0]),yo(t[2])]}function Ys(t){var e=t[0],r=t[1],n=zr(r);return[n*zr(e),n*Br(e),Br(r)]}function cd(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function hu(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function hv(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function dd(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function x0(t){var e=Ai(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Bl,pu,gu,mu,xu,yu,_u,bu,y0,_0,b0,jb,Fb,sa,la,ca,oi={sphere:Bn,point:Xp,lineStart:B1,lineEnd:j1,polygonStart:function(){oi.lineStart=mR,oi.lineEnd=xR},polygonEnd:function(){oi.lineStart=B1,oi.lineEnd=j1}};function Xp(t,e){t*=Hr,e*=Hr;var r=zr(e);Vc(r*zr(t),r*Br(t),Br(e))}function Vc(t,e,r){++Bl,gu+=(t-gu)/Bl,mu+=(e-mu)/Bl,xu+=(r-xu)/Bl}function B1(){oi.point=pR}function pR(t,e){t*=Hr,e*=Hr;var r=zr(e);sa=r*zr(t),la=r*Br(t),ca=Br(e),oi.point=gR,Vc(sa,la,ca)}function gR(t,e){t*=Hr,e*=Hr;var r=zr(e),n=r*zr(t),i=r*Br(t),o=Br(e),s=$i(Ai((s=la*o-ca*i)*s+(s=ca*n-sa*o)*s+(s=sa*i-la*n)*s),sa*n+la*i+ca*o);pu+=s,yu+=s*(sa+(sa=n)),_u+=s*(la+(la=i)),bu+=s*(ca+(ca=o)),Vc(sa,la,ca)}function j1(){oi.point=Xp}function mR(){oi.point=yR}function xR(){Ub(jb,Fb),oi.point=Xp}function yR(t,e){jb=t,Fb=e,t*=Hr,e*=Hr,oi.point=Ub;var r=zr(e);sa=r*zr(t),la=r*Br(t),ca=Br(e),Vc(sa,la,ca)}function Ub(t,e){t*=Hr,e*=Hr;var r=zr(e),n=r*zr(t),i=r*Br(t),o=Br(e),s=la*o-ca*i,l=ca*n-sa*o,c=sa*i-la*n,d=p0(s,l,c),u=yo(d),f=d&&-u/d;y0.add(f*s),_0.add(f*l),b0.add(f*c),pu+=u,yu+=u*(sa+(sa=n)),_u+=u*(la+(la=i)),bu+=u*(ca+(ca=o)),Vc(sa,la,ca)}function F1(t){Bl=pu=gu=mu=xu=yu=_u=bu=0,y0=new si,_0=new si,b0=new si,io(t,oi);var e=+y0,r=+_0,n=+b0,i=p0(e,r,n);return i<T1&&(e=yu,r=_u,n=bu,pu<hn&&(e=gu,r=mu,n=xu),i=p0(e,r,n),i<T1)?[NaN,NaN]:[$i(r,e)*oa,yo(n/i)*oa]}function w0(t,e){function r(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(r.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),r}function k0(t,e){return bn(t)>qr&&(t-=Math.round(t/Ya)*Ya),[t,e]}k0.invert=k0;function Vb(t,e,r){return(t%=Ya)?e||r?w0(V1(t),W1(e,r)):V1(t):e||r?W1(e,r):k0}function U1(t){return function(e,r){return e+=t,bn(e)>qr&&(e-=Math.round(e/Ya)*Ya),[e,r]}}function V1(t){var e=U1(t);return e.invert=U1(-t),e}function W1(t,e){var r=zr(t),n=Br(t),i=zr(e),o=Br(e);function s(l,c){var d=zr(c),u=zr(l)*d,f=Br(l)*d,h=Br(c),p=h*r+u*n;return[$i(f*i-p*o,u*r-h*n),yo(p*i+f*o)]}return s.invert=function(l,c){var d=zr(c),u=zr(l)*d,f=Br(l)*d,h=Br(c),p=h*i-f*o;return[$i(f*i+h*o,u*r+p*n),yo(p*r-u*n)]},s}function _R(t){t=Vb(t[0]*Hr,t[1]*Hr,t.length>2?t[2]*Hr:0);function e(r){return r=t(r[0]*Hr,r[1]*Hr),r[0]*=oa,r[1]*=oa,r}return e.invert=function(r){return r=t.invert(r[0]*Hr,r[1]*Hr),r[0]*=oa,r[1]*=oa,r},e}function bR(t,e,r,n,i,o){if(r){var s=zr(e),l=Br(e),c=n*r;i==null?(i=e+n*Ya,o=e-c/2):(i=H1(s,i),o=H1(s,o),(n>0?i<o:i>o)&&(i+=n*Ya));for(var d,u=i;n>0?u>o:u<o;u-=c)d=m0([s,-l*zr(u),-l*Br(u)]),t.point(d[0],d[1])}}function H1(t,e){e=Ys(e),e[0]-=t,x0(e);var r=hR(-e[1]);return((-e[2]<0?-r:r)+Ya-hn)%Ya}function Wb(){var t=[],e;return{point:function(r,n,i){e.push([r,n,i])},lineStart:function(){t.push(e=[])},lineEnd:Bn,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],e=null,r}}}function Ad(t,e){return bn(t[0]-e[0])<hn&&bn(t[1]-e[1])<hn}function ud(t,e,r,n){this.x=t,this.z=e,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function Hb(t,e,r,n,i){var o=[],s=[],l,c;if(t.forEach(function(m){if(!((y=m.length-1)<=0)){var y,_=m[0],S=m[y],w;if(Ad(_,S)){if(!_[2]&&!S[2]){for(i.lineStart(),l=0;l<y;++l)i.point((_=m[l])[0],_[1]);i.lineEnd();return}S[0]+=2*hn}o.push(w=new ud(_,m,null,!0)),s.push(w.o=new ud(_,null,w,!1)),o.push(w=new ud(S,m,null,!1)),s.push(w.o=new ud(S,null,w,!0))}}),!!o.length){for(s.sort(e),q1(o),q1(s),l=0,c=s.length;l<c;++l)s[l].e=r=!r;for(var d=o[0],u,f;;){for(var h=d,p=!0;h.v;)if((h=h.n)===d)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(l=0,c=u.length;l<c;++l)i.point((f=u[l])[0],f[1]);else n(h.x,h.n.x,1,i);h=h.n}else{if(p)for(u=h.p.z,l=u.length-1;l>=0;--l)i.point((f=u[l])[0],f[1]);else n(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,p=!p}while(!h.v);i.lineEnd()}}}function q1(t){if(e=t.length){for(var e,r=0,n=t[0],i;++r<e;)n.n=i=t[r],i.p=n,n=i;n.n=i=t[0],i.p=n}}function pv(t){return bn(t[0])<=qr?t[0]:vR(t[0])*((bn(t[0])+qr)%Ya-qr)}function wR(t,e){var r=pv(e),n=e[1],i=Br(n),o=[Br(r),-zr(r),0],s=0,l=0,c=new si;i===1?n=Ha+hn:i===-1&&(n=-Ha-hn);for(var d=0,u=t.length;d<u;++d)if(h=(f=t[d]).length)for(var f,h,p=f[h-1],m=pv(p),y=p[1]/2+O1,_=Br(y),S=zr(y),w=0;w<h;++w,m=L,_=P,S=z,p=C){var C=f[w],L=pv(C),k=C[1]/2+O1,P=Br(k),z=zr(k),T=L-m,M=T>=0?1:-1,D=M*T,A=D>qr,O=_*P;if(c.add($i(O*M*Br(D),S*z+O*zr(D))),s+=A?T+M*Ya:T,A^m>=r^L>=r){var I=hu(Ys(p),Ys(C));x0(I);var B=hu(o,I);x0(B);var j=(A^T>=0?-1:1)*yo(B[2]);(n>j||n===j&&(I[0]||I[1]))&&(l+=A^T>=0?1:-1)}}return(s<-1e-6||s<hn&&c<-1e-12)^l&1}function qb(t,e,r,n){return function(i){var o=e(i),s=Wb(),l=e(s),c=!1,d,u,f,h={point:p,lineStart:y,lineEnd:_,polygonStart:function(){h.point=S,h.lineStart=w,h.lineEnd=C,u=[],d=[]},polygonEnd:function(){h.point=p,h.lineStart=y,h.lineEnd=_,u=$_(u);var L=wR(d,n);u.length?(c||(i.polygonStart(),c=!0),Hb(u,SR,L,r,i)):L&&(c||(i.polygonStart(),c=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),u=d=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(L,k){t(L,k)&&i.point(L,k)}function m(L,k){o.point(L,k)}function y(){h.point=m,o.lineStart()}function _(){h.point=p,o.lineEnd()}function S(L,k){f.push([L,k]),l.point(L,k)}function w(){l.lineStart(),f=[]}function C(){S(f[0][0],f[0][1]),l.lineEnd();var L=l.clean(),k=s.result(),P,z=k.length,T,M,D;if(f.pop(),d.push(f),f=null,!!z){if(L&1){if(M=k[0],(T=M.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),P=0;P<T;++P)i.point((D=M[P])[0],D[1]);i.lineEnd()}return}z>1&&L&2&&k.push(k.pop().concat(k.shift())),u.push(k.filter(kR))}}return h}}function kR(t){return t.length>1}function SR(t,e){return((t=t.x)[0]<0?t[1]-Ha-hn:Ha-t[1])-((e=e.x)[0]<0?e[1]-Ha-hn:Ha-e[1])}const G1=qb(function(){return!0},CR,MR,[-qr,-Ha]);function CR(t){var e=NaN,r=NaN,n=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,s){var l=o>0?qr:-qr,c=bn(o-e);bn(c-qr)<hn?(t.point(e,r=(r+s)/2>0?Ha:-Ha),t.point(n,r),t.lineEnd(),t.lineStart(),t.point(l,r),t.point(o,r),i=0):n!==l&&c>=qr&&(bn(e-n)<hn&&(e-=n*hn),bn(o-l)<hn&&(o-=l*hn),r=AR(e,r,o,s),t.point(n,r),t.lineEnd(),t.lineStart(),t.point(l,r),i=0),t.point(e=o,r=s),n=l},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-i}}}function AR(t,e,r,n){var i,o,s=Br(t-r);return bn(s)>hn?Bb((Br(e)*(o=zr(n))*Br(r)-Br(n)*(i=zr(e))*Br(t))/(i*o*s)):(e+n)/2}function MR(t,e,r,n){var i;if(t==null)i=r*Ha,n.point(-qr,i),n.point(0,i),n.point(qr,i),n.point(qr,0),n.point(qr,-i),n.point(0,-i),n.point(-qr,-i),n.point(-qr,0),n.point(-qr,i);else if(bn(t[0]-e[0])>hn){var o=t[0]<e[0]?qr:-qr;i=r*o/2,n.point(-o,i),n.point(0,i),n.point(o,i)}else n.point(e[0],e[1])}function PR(t){var e=zr(t),r=2*Hr,n=e>0,i=bn(e)>hn;function o(u,f,h,p){bR(p,t,r,h,u,f)}function s(u,f){return zr(u)*zr(f)>e}function l(u){var f,h,p,m,y;return{lineStart:function(){m=p=!1,y=1},point:function(_,S){var w=[_,S],C,L=s(_,S),k=n?L?0:d(_,S):L?d(_+(_<0?qr:-qr),S):0;if(!f&&(m=p=L)&&u.lineStart(),L!==p&&(C=c(f,w),(!C||Ad(f,C)||Ad(w,C))&&(w[2]=1)),L!==p)y=0,L?(u.lineStart(),C=c(w,f),u.point(C[0],C[1])):(C=c(f,w),u.point(C[0],C[1],2),u.lineEnd()),f=C;else if(i&&f&&n^L){var P;!(k&h)&&(P=c(w,f,!0))&&(y=0,n?(u.lineStart(),u.point(P[0][0],P[0][1]),u.point(P[1][0],P[1][1]),u.lineEnd()):(u.point(P[1][0],P[1][1]),u.lineEnd(),u.lineStart(),u.point(P[0][0],P[0][1],3)))}L&&(!f||!Ad(f,w))&&u.point(w[0],w[1]),f=w,p=L,h=k},lineEnd:function(){p&&u.lineEnd(),f=null},clean:function(){return y|(m&&p)<<1}}}function c(u,f,h){var p=Ys(u),m=Ys(f),y=[1,0,0],_=hu(p,m),S=cd(_,_),w=_[0],C=S-w*w;if(!C)return!h&&u;var L=e*S/C,k=-e*w/C,P=hu(y,_),z=dd(y,L),T=dd(_,k);hv(z,T);var M=P,D=cd(z,M),A=cd(M,M),O=D*D-A*(cd(z,z)-1);if(!(O<0)){var I=Ai(O),B=dd(M,(-D-I)/A);if(hv(B,z),B=m0(B),!h)return B;var j=u[0],V=f[0],F=u[1],N=f[1],q;V<j&&(q=j,j=V,V=q);var G=V-j,Q=bn(G-qr)<hn,Z=Q||G<hn;if(!Q&&N<F&&(q=F,F=N,N=q),Z?Q?F+N>0^B[1]<(bn(B[0]-j)<hn?F:N):F<=B[1]&&B[1]<=N:G>qr^(j<=B[0]&&B[0]<=V)){var E=dd(M,(-D+I)/A);return hv(E,z),[B,m0(E)]}}}function d(u,f){var h=n?t:qr-t,p=0;return u<-h?p|=1:u>h&&(p|=2),f<-h?p|=4:f>h&&(p|=8),p}return qb(s,l,o,n?[0,-t]:[-qr,t-qr])}function DR(t,e,r,n,i,o){var s=t[0],l=t[1],c=e[0],d=e[1],u=0,f=1,h=c-s,p=d-l,m;if(m=r-s,!(!h&&m>0)){if(m/=h,h<0){if(m<u)return;m<f&&(f=m)}else if(h>0){if(m>f)return;m>u&&(u=m)}if(m=i-s,!(!h&&m<0)){if(m/=h,h<0){if(m>f)return;m>u&&(u=m)}else if(h>0){if(m<u)return;m<f&&(f=m)}if(m=n-l,!(!p&&m>0)){if(m/=p,p<0){if(m<u)return;m<f&&(f=m)}else if(p>0){if(m>f)return;m>u&&(u=m)}if(m=o-l,!(!p&&m<0)){if(m/=p,p<0){if(m>f)return;m>u&&(u=m)}else if(p>0){if(m<u)return;m<f&&(f=m)}return u>0&&(t[0]=s+u*h,t[1]=l+u*p),f<1&&(e[0]=s+f*h,e[1]=l+f*p),!0}}}}}var fd=1e9,vd=-1e9;function LR(t,e,r,n){function i(d,u){return t<=d&&d<=r&&e<=u&&u<=n}function o(d,u,f,h){var p=0,m=0;if(d==null||(p=s(d,f))!==(m=s(u,f))||c(d,u)<0^f>0)do h.point(p===0||p===3?t:r,p>1?n:e);while((p=(p+f+4)%4)!==m);else h.point(u[0],u[1])}function s(d,u){return bn(d[0]-t)<hn?u>0?0:3:bn(d[0]-r)<hn?u>0?2:1:bn(d[1]-e)<hn?u>0?1:0:u>0?3:2}function l(d,u){return c(d.x,u.x)}function c(d,u){var f=s(d,1),h=s(u,1);return f!==h?f-h:f===0?u[1]-d[1]:f===1?d[0]-u[0]:f===2?d[1]-u[1]:u[0]-d[0]}return function(d){var u=d,f=Wb(),h,p,m,y,_,S,w,C,L,k,P,z={point:T,lineStart:O,lineEnd:I,polygonStart:D,polygonEnd:A};function T(j,V){i(j,V)&&u.point(j,V)}function M(){for(var j=0,V=0,F=p.length;V<F;++V)for(var N=p[V],q=1,G=N.length,Q=N[0],Z,E,U=Q[0],$=Q[1];q<G;++q)Z=U,E=$,Q=N[q],U=Q[0],$=Q[1],E<=n?$>n&&(U-Z)*(n-E)>($-E)*(t-Z)&&++j:$<=n&&(U-Z)*(n-E)<($-E)*(t-Z)&&--j;return j}function D(){u=f,h=[],p=[],P=!0}function A(){var j=M(),V=P&&j,F=(h=$_(h)).length;(V||F)&&(d.polygonStart(),V&&(d.lineStart(),o(null,null,1,d),d.lineEnd()),F&&Hb(h,l,j,o,d),d.polygonEnd()),u=d,h=p=m=null}function O(){z.point=B,p&&p.push(m=[]),k=!0,L=!1,w=C=NaN}function I(){h&&(B(y,_),S&&L&&f.rejoin(),h.push(f.result())),z.point=T,L&&u.lineEnd()}function B(j,V){var F=i(j,V);if(p&&m.push([j,V]),k)y=j,_=V,S=F,k=!1,F&&(u.lineStart(),u.point(j,V));else if(F&&L)u.point(j,V);else{var N=[w=Math.max(vd,Math.min(fd,w)),C=Math.max(vd,Math.min(fd,C))],q=[j=Math.max(vd,Math.min(fd,j)),V=Math.max(vd,Math.min(fd,V))];DR(N,q,t,e,r,n)?(L||(u.lineStart(),u.point(N[0],N[1])),u.point(q[0],q[1]),F||u.lineEnd(),P=!1):F&&(u.lineStart(),u.point(j,V),P=!1)}w=j,C=V,L=F}return z}}var S0,C0,Md,Pd,Xs={sphere:Bn,point:Bn,lineStart:ER,lineEnd:Bn,polygonStart:Bn,polygonEnd:Bn};function ER(){Xs.point=TR,Xs.lineEnd=IR}function IR(){Xs.point=Xs.lineEnd=Bn}function TR(t,e){t*=Hr,e*=Hr,C0=t,Md=Br(e),Pd=zr(e),Xs.point=OR}function OR(t,e){t*=Hr,e*=Hr;var r=Br(e),n=zr(e),i=bn(t-C0),o=zr(i),s=Br(i),l=n*s,c=Pd*r-Md*n*o,d=Md*r+Pd*n*o;S0.add($i(Ai(l*l+c*c),d)),C0=t,Md=r,Pd=n}function RR(t){return S0=new si,io(t,Xs),+S0}var A0=[null,null],NR={type:"LineString",coordinates:A0};function $1(t,e){return A0[0]=t,A0[1]=e,RR(NR)}const M0=t=>t;var gv=new si,P0=new si,Gb,$b,D0,L0,zi={point:Bn,lineStart:Bn,lineEnd:Bn,polygonStart:function(){zi.lineStart=zR,zi.lineEnd=jR},polygonEnd:function(){zi.lineStart=zi.lineEnd=zi.point=Bn,gv.add(bn(P0)),P0=new si},result:function(){var t=gv/2;return gv=new si,t}};function zR(){zi.point=BR}function BR(t,e){zi.point=Yb,Gb=D0=t,$b=L0=e}function Yb(t,e){P0.add(L0*t-D0*e),D0=t,L0=e}function jR(){Yb(Gb,$b)}var Ks=1/0,wu=Ks,xc=-Ks,ku=xc,Su={point:FR,lineStart:Bn,lineEnd:Bn,polygonStart:Bn,polygonEnd:Bn,result:function(){var t=[[Ks,wu],[xc,ku]];return xc=ku=-(wu=Ks=1/0),t}};function FR(t,e){t<Ks&&(Ks=t),t>xc&&(xc=t),e<wu&&(wu=e),e>ku&&(ku=e)}var E0=0,I0=0,jl=0,Cu=0,Au=0,Ms=0,T0=0,O0=0,Fl=0,Xb,Kb,pi,gi,Va={point:Zo,lineStart:Y1,lineEnd:X1,polygonStart:function(){Va.lineStart=WR,Va.lineEnd=HR},polygonEnd:function(){Va.point=Zo,Va.lineStart=Y1,Va.lineEnd=X1},result:function(){var t=Fl?[T0/Fl,O0/Fl]:Ms?[Cu/Ms,Au/Ms]:jl?[E0/jl,I0/jl]:[NaN,NaN];return E0=I0=jl=Cu=Au=Ms=T0=O0=Fl=0,t}};function Zo(t,e){E0+=t,I0+=e,++jl}function Y1(){Va.point=UR}function UR(t,e){Va.point=VR,Zo(pi=t,gi=e)}function VR(t,e){var r=t-pi,n=e-gi,i=Ai(r*r+n*n);Cu+=i*(pi+t)/2,Au+=i*(gi+e)/2,Ms+=i,Zo(pi=t,gi=e)}function X1(){Va.point=Zo}function WR(){Va.point=qR}function HR(){Qb(Xb,Kb)}function qR(t,e){Va.point=Qb,Zo(Xb=pi=t,Kb=gi=e)}function Qb(t,e){var r=t-pi,n=e-gi,i=Ai(r*r+n*n);Cu+=i*(pi+t)/2,Au+=i*(gi+e)/2,Ms+=i,i=gi*t-pi*e,T0+=i*(pi+t),O0+=i*(gi+e),Fl+=i*3,Zo(pi=t,gi=e)}function Jb(t){this._context=t}Jb.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Ya);break}}},result:Bn};var R0=new si,mv,Zb,ew,Ul,Vl,yc={point:Bn,lineStart:function(){yc.point=GR},lineEnd:function(){mv&&tw(Zb,ew),yc.point=Bn},polygonStart:function(){mv=!0},polygonEnd:function(){mv=null},result:function(){var t=+R0;return R0=new si,t}};function GR(t,e){yc.point=tw,Zb=Ul=t,ew=Vl=e}function tw(t,e){Ul-=t,Vl-=e,R0.add(Ai(Ul*Ul+Vl*Vl)),Ul=t,Vl=e}let K1,Mu,Q1,J1;class Z1{constructor(e){this._append=e==null?rw:$R(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,r){switch(this._point){case 0:{this._append`M${e},${r}`,this._point=1;break}case 1:{this._append`L${e},${r}`;break}default:{if(this._append`M${e},${r}`,this._radius!==Q1||this._append!==Mu){const n=this._radius,i=this._;this._="",this._append`m0,${n}a${n},${n} 0 1,1 0,${-2*n}a${n},${n} 0 1,1 0,${2*n}z`,Q1=n,Mu=this._append,J1=this._,this._=i}this._+=J1;break}}}result(){const e=this._;return this._="",e.length?e:null}}function rw(t){let e=1;this._+=t[0];for(const r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function $R(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return rw;if(e!==K1){const r=10**e;K1=e,Mu=function(i){let o=1;this._+=i[0];for(const s=i.length;o<s;++o)this._+=Math.round(arguments[o]*r)/r+i[o]}}return Mu}function YR(t,e){let r=3,n=4.5,i,o;function s(l){return l&&(typeof n=="function"&&o.pointRadius(+n.apply(this,arguments)),io(l,i(o))),o.result()}return s.area=function(l){return io(l,i(zi)),zi.result()},s.measure=function(l){return io(l,i(yc)),yc.result()},s.bounds=function(l){return io(l,i(Su)),Su.result()},s.centroid=function(l){return io(l,i(Va)),Va.result()},s.projection=function(l){return arguments.length?(i=l==null?(t=null,M0):(t=l).stream,s):t},s.context=function(l){return arguments.length?(o=l==null?(e=null,new Z1(r)):new Jb(e=l),typeof n!="function"&&o.pointRadius(n),s):e},s.pointRadius=function(l){return arguments.length?(n=typeof l=="function"?l:(o.pointRadius(+l),+l),s):n},s.digits=function(l){if(!arguments.length)return r;if(l==null)r=null;else{const c=Math.floor(l);if(!(c>=0))throw new RangeError(`invalid digits: ${l}`);r=c}return e===null&&(o=new Z1(r)),s},s.projection(t).digits(r).context(e)}function XR(t){return{stream:hf(t)}}function hf(t){return function(e){var r=new N0;for(var n in t)r[n]=t[n];return r.stream=e,r}}function N0(){}N0.prototype={constructor:N0,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Kp(t,e,r){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),n!=null&&t.clipExtent(null),io(r,t.stream(Su)),e(Su.result()),n!=null&&t.clipExtent(n),t}function nw(t,e,r){return Kp(t,function(n){var i=e[1][0]-e[0][0],o=e[1][1]-e[0][1],s=Math.min(i/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),l=+e[0][0]+(i-s*(n[1][0]+n[0][0]))/2,c=+e[0][1]+(o-s*(n[1][1]+n[0][1]))/2;t.scale(150*s).translate([l,c])},r)}function KR(t,e,r){return nw(t,[[0,0],e],r)}function QR(t,e,r){return Kp(t,function(n){var i=+e,o=i/(n[1][0]-n[0][0]),s=(i-o*(n[1][0]+n[0][0]))/2,l=-o*n[0][1];t.scale(150*o).translate([s,l])},r)}function JR(t,e,r){return Kp(t,function(n){var i=+e,o=i/(n[1][1]-n[0][1]),s=-o*n[0][0],l=(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([s,l])},r)}var ex=16,ZR=zr(30*Hr);function tx(t,e){return+e?tN(t,e):eN(t)}function eN(t){return hf({point:function(e,r){e=t(e,r),this.stream.point(e[0],e[1])}})}function tN(t,e){function r(n,i,o,s,l,c,d,u,f,h,p,m,y,_){var S=d-n,w=u-i,C=S*S+w*w;if(C>4*e&&y--){var L=s+h,k=l+p,P=c+m,z=Ai(L*L+k*k+P*P),T=yo(P/=z),M=bn(bn(P)-1)<hn||bn(o-f)<hn?(o+f)/2:$i(k,L),D=t(M,T),A=D[0],O=D[1],I=A-n,B=O-i,j=w*I-S*B;(j*j/C>e||bn((S*I+w*B)/C-.5)>.3||s*h+l*p+c*m<ZR)&&(r(n,i,o,s,l,c,A,O,M,L/=z,k/=z,P,y,_),_.point(A,O),r(A,O,M,L,k,P,d,u,f,h,p,m,y,_))}}return function(n){var i,o,s,l,c,d,u,f,h,p,m,y,_={point:S,lineStart:w,lineEnd:L,polygonStart:function(){n.polygonStart(),_.lineStart=k},polygonEnd:function(){n.polygonEnd(),_.lineStart=w}};function S(T,M){T=t(T,M),n.point(T[0],T[1])}function w(){f=NaN,_.point=C,n.lineStart()}function C(T,M){var D=Ys([T,M]),A=t(T,M);r(f,h,u,p,m,y,f=A[0],h=A[1],u=T,p=D[0],m=D[1],y=D[2],ex,n),n.point(f,h)}function L(){_.point=S,n.lineEnd()}function k(){w(),_.point=P,_.lineEnd=z}function P(T,M){C(i=T,M),o=f,s=h,l=p,c=m,d=y,_.point=C}function z(){r(f,h,u,p,m,y,o,s,i,l,c,d,ex,n),_.lineEnd=L,L()}return _}}var rN=hf({point:function(t,e){this.stream.point(t*Hr,e*Hr)}});function nN(t){return hf({point:function(e,r){var n=t(e,r);return this.stream.point(n[0],n[1])}})}function aN(t,e,r,n,i){function o(s,l){return s*=n,l*=i,[e+t*s,r-t*l]}return o.invert=function(s,l){return[(s-e)/t*n,(r-l)/t*i]},o}function rx(t,e,r,n,i,o){if(!o)return aN(t,e,r,n,i);var s=zr(o),l=Br(o),c=s*t,d=l*t,u=s/t,f=l/t,h=(l*r-s*e)/t,p=(l*e+s*r)/t;function m(y,_){return y*=n,_*=i,[c*y-d*_+e,r-d*y-c*_]}return m.invert=function(y,_){return[n*(u*y-f*_+h),i*(p-f*y-u*_)]},m}function iN(t){return oN(function(){return t})()}function oN(t){var e,r=150,n=480,i=250,o=0,s=0,l=0,c=0,d=0,u,f=0,h=1,p=1,m=null,y=G1,_=null,S,w,C,L=M0,k=.5,P,z,T,M,D;function A(j){return T(j[0]*Hr,j[1]*Hr)}function O(j){return j=T.invert(j[0],j[1]),j&&[j[0]*oa,j[1]*oa]}A.stream=function(j){return M&&D===j?M:M=rN(nN(u)(y(P(L(D=j)))))},A.preclip=function(j){return arguments.length?(y=j,m=void 0,B()):y},A.postclip=function(j){return arguments.length?(L=j,_=S=w=C=null,B()):L},A.clipAngle=function(j){return arguments.length?(y=+j?PR(m=j*Hr):(m=null,G1),B()):m*oa},A.clipExtent=function(j){return arguments.length?(L=j==null?(_=S=w=C=null,M0):LR(_=+j[0][0],S=+j[0][1],w=+j[1][0],C=+j[1][1]),B()):_==null?null:[[_,S],[w,C]]},A.scale=function(j){return arguments.length?(r=+j,I()):r},A.translate=function(j){return arguments.length?(n=+j[0],i=+j[1],I()):[n,i]},A.center=function(j){return arguments.length?(o=j[0]%360*Hr,s=j[1]%360*Hr,I()):[o*oa,s*oa]},A.rotate=function(j){return arguments.length?(l=j[0]%360*Hr,c=j[1]%360*Hr,d=j.length>2?j[2]%360*Hr:0,I()):[l*oa,c*oa,d*oa]},A.angle=function(j){return arguments.length?(f=j%360*Hr,I()):f*oa},A.reflectX=function(j){return arguments.length?(h=j?-1:1,I()):h<0},A.reflectY=function(j){return arguments.length?(p=j?-1:1,I()):p<0},A.precision=function(j){return arguments.length?(P=tx(z,k=j*j),B()):Ai(k)},A.fitExtent=function(j,V){return nw(A,j,V)},A.fitSize=function(j,V){return KR(A,j,V)},A.fitWidth=function(j,V){return QR(A,j,V)},A.fitHeight=function(j,V){return JR(A,j,V)};function I(){var j=rx(r,0,0,h,p,f).apply(null,e(o,s)),V=rx(r,n-j[0],i-j[1],h,p,f);return u=Vb(l,c,d),z=w0(e,V),T=w0(u,z),P=tx(z,k),B()}function B(){return M=D=null,A}return function(){return e=t.apply(this,arguments),A.invert=e.invert&&O,I()}}function sN(t){return function(e,r){var n=Ai(e*e+r*r),i=t(n),o=Br(i),s=zr(i);return[$i(e*o,n*s),yo(n&&r*o/n)]}}function aw(t,e){var r=zr(e),n=1+zr(t)*r;return[r*Br(t)/n,Br(e)/n]}aw.invert=sN(function(t){return 2*Bb(t)});function lN(){return iN(aw).scale(250).clipAngle(142)}const Qp=Math.PI,nx=Qp/2,ax=180/Qp,ix=Qp/180,cN=Math.atan2,ox=Math.cos,dN=Math.max,uN=Math.min,sx=Math.sin,fN=Math.sign||function(t){return t>0?1:t<0?-1:0},iw=Math.sqrt;function vN(t){return t>1?nx:t<-1?-nx:Math.asin(t)}function ow(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ma(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Pu(t,e){return[t[0]+e[0],t[1]+e[1],t[2]+e[2]]}function Du(t){var e=iw(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return[t[0]/e,t[1]/e,t[2]/e]}function Jp(t){return[cN(t[1],t[0])*ax,vN(dN(-1,uN(1,t[2])))*ax]}function wi(t){const e=t[0]*ix,r=t[1]*ix,n=ox(r);return[n*ox(e),n*sx(e),sx(r)]}function Zp(t){return t=t.map(e=>wi(e)),ow(t[0],Ma(t[2],t[1]))}function hN(t){const e=gN(t),r=xN(e),n=mN(r,t),i=_N(r,t.length),o=pN(i,t),s=yN(r,t),{polygons:l,centers:c}=bN(s,r,t),d=wN(l),u=SN(r,t),f=kN(n,r);return{delaunay:e,edges:n,triangles:r,centers:c,neighbors:i,polygons:l,mesh:d,hull:u,urquhart:f,find:o}}function pN(t,e){function r(n,i){let o=n[0]-i[0],s=n[1]-i[1],l=n[2]-i[2];return o*o+s*s+l*l}return function(i,o,s){s===void 0&&(s=0);let l,c,d=s;const u=wi([i,o]);do l=s,s=null,c=r(u,wi(e[l])),t[l].forEach(f=>{let h=r(u,wi(e[f]));if(h<c){c=h,s=f,d=f;return}});while(s!==null);return d}}function gN(t){if(t.length<2)return{};let e=0;for(;isNaN(t[e][0]+t[e][1])&&e++<t.length;);const r=_R(t[e]),n=lN().translate([0,0]).scale(1).rotate(r.invert([180,0]));t=t.map(n);const i=[];let o=1;for(let f=0,h=t.length;f<h;f++){let p=t[f][0]**2+t[f][1]**2;!isFinite(p)||p>1e32?i.push(f):p>o&&(o=p)}const s=1e6*iw(o);i.forEach(f=>t[f]=[s,0]),t.push([0,s]),t.push([-s,0]),t.push([0,-s]);const l=vf.from(t);l.projection=n;const{triangles:c,halfedges:d,inedges:u}=l;for(let f=0,h=d.length;f<h;f++)if(d[f]<0){const p=f%3==2?f-2:f+1,m=f%3==0?f+2:f-1,y=d[p],_=d[m];d[y]=_,d[_]=y,d[p]=d[m]=-1,c[f]=c[p]=c[m]=e,u[c[y]]=y%3==0?y+2:y-1,u[c[_]]=_%3==0?_+2:_-1,f+=2-f%3}else c[f]>t.length-3-1&&(c[f]=e);return l}function mN(t,e){const r=new Set;return e.length===2?[[0,1]]:(t.forEach(n=>{if(n[0]!==n[1]&&!(Zp(n.map(i=>e[i]))<0))for(let i=0,o;i<3;i++)o=(i+1)%3,r.add(Ga([n[i],n[o]]).join("-"))}),Array.from(r,n=>n.split("-").map(Number)))}function xN(t){const{triangles:e}=t;if(!e)return[];const r=[];for(let n=0,i=e.length/3;n<i;n++){const o=e[3*n],s=e[3*n+1],l=e[3*n+2];o!==s&&s!==l&&r.push([o,l,s])}return r}function yN(t,e){return t.map(r=>{const n=r.map(o=>e[o]).map(wi),i=Pu(Pu(Ma(n[1],n[0]),Ma(n[2],n[1])),Ma(n[0],n[2]));return Jp(Du(i))})}function _N(t,e){const r=[];return t.forEach(n=>{for(let i=0;i<3;i++){const o=n[i],s=n[(i+1)%3];r[o]=r[o]||[],r[o].push(s)}}),t.length===0&&(e===2?(r[0]=[1],r[1]=[0]):e===1&&(r[0]=[])),r}function bN(t,e,r){const n=[],i=t.slice();if(e.length===0){if(r.length<2)return{polygons:n,centers:i};if(r.length===2){const l=wi(r[0]),c=wi(r[1]),d=Du(Pu(l,c)),u=Du(Ma(l,c)),f=Ma(d,u),h=[d,Ma(d,f),Ma(Ma(d,f),f),Ma(Ma(Ma(d,f),f),f)].map(Jp).map(s);return n.push(h),n.push(h.slice().reverse()),{polygons:n,centers:i}}}e.forEach((l,c)=>{for(let d=0;d<3;d++){const u=l[d],f=l[(d+1)%3],h=l[(d+2)%3];n[u]=n[u]||[],n[u].push([f,h,c,[u,f,h]])}});const o=n.map(l=>{const c=[l[0][2]];let d=l[0][1];for(let u=1;u<l.length;u++)for(let f=0;f<l.length;f++)if(l[f][0]==d){d=l[f][1],c.push(l[f][2]);break}if(c.length>2)return c;if(c.length==2){const u=lx(r[l[0][3][0]],r[l[0][3][1]],i[c[0]]),f=lx(r[l[0][3][2]],r[l[0][3][0]],i[c[0]]),h=s(u),p=s(f);return[c[0],p,c[1],h]}});function s(l){let c=-1;return i.slice(e.length,1/0).forEach((d,u)=>{d[0]===l[0]&&d[1]===l[1]&&(c=u+e.length)}),c<0&&(c=i.length,i.push(l)),c}return{polygons:o,centers:i}}function lx(t,e,r){t=wi(t),e=wi(e),r=wi(r);const n=fN(ow(Ma(e,t),r));return Jp(Du(Pu(t,e)).map(i=>n*i))}function wN(t){const e=[];return t.forEach(r=>{if(!r)return;let n=r[r.length-1];for(let i of r)i>n&&e.push([n,i]),n=i}),e}function kN(t,e){return function(r){const n=new Map,i=new Map;return t.forEach((o,s)=>{const l=o.join("-");n.set(l,r[s]),i.set(l,!0)}),e.forEach(o=>{let s=0,l=-1;for(let c=0;c<3;c++){let d=Ga([o[c],o[(c+1)%3]]).join("-");n.get(d)>s&&(s=n.get(d),l=d)}i.set(l,!1)}),t.map(o=>i.get(o.join("-")))}}function SN(t,e){const r=new Set,n=[];t.map(l=>{if(!(Zp(l.map(c=>e[c>e.length?0:c]))>1e-12))for(let c=0;c<3;c++){let d=[l[c],l[(c+1)%3]],u=`${d[0]}-${d[1]}`;r.has(u)?r.delete(u):r.add(`${d[1]}-${d[0]}`)}});const i=new Map;let o;if(r.forEach(l=>{l=l.split("-").map(Number),i.set(l[0],l[1]),o=l[0]}),o===void 0)return n;let s=o;do{n.push(s);let l=i.get(s);i.set(s,-1),s=l}while(s>-1&&s!==o);return n}function CN(t){const e=function(r){if(e.delaunay=null,e._data=r,typeof e._data=="object"&&e._data.type==="FeatureCollection"&&(e._data=e._data.features),typeof e._data=="object"){const n=e._data.map(i=>[e._vx(i),e._vy(i),i]).filter(i=>isFinite(i[0]+i[1]));e.points=n.map(i=>[i[0],i[1]]),e.valid=n.map(i=>i[2]),e.delaunay=hN(e.points)}return e};return e._vx=function(r){if(typeof r=="object"&&"type"in r)return F1(r)[0];if(0 in r)return r[0]},e._vy=function(r){if(typeof r=="object"&&"type"in r)return F1(r)[1];if(1 in r)return r[1]},e.x=function(r){return r?(e._vx=r,e):e._vx},e.y=function(r){return r?(e._vy=r,e):e._vy},e.polygons=function(r){if(r!==void 0&&e(r),!e.delaunay)return!1;const n={type:"FeatureCollection",features:[]};return e.valid.length===0||(e.delaunay.polygons.forEach((i,o)=>n.features.push({type:"Feature",geometry:i?{type:"Polygon",coordinates:[[...i,i[0]].map(s=>e.delaunay.centers[s])]}:null,properties:{site:e.valid[o],sitecoordinates:e.points[o],neighbours:e.delaunay.neighbors[o]}})),e.valid.length===1&&n.features.push({type:"Feature",geometry:{type:"Sphere"},properties:{site:e.valid[0],sitecoordinates:e.points[0],neighbours:[]}})),n},e.triangles=function(r){return r!==void 0&&e(r),e.delaunay?{type:"FeatureCollection",features:e.delaunay.triangles.map((n,i)=>(n=n.map(o=>e.points[o]),n.center=e.delaunay.centers[i],n)).filter(n=>Zp(n)>0).map(n=>({type:"Feature",properties:{circumcenter:n.center},geometry:{type:"Polygon",coordinates:[[...n,n[0]]]}}))}:!1},e.links=function(r){if(r!==void 0&&e(r),!e.delaunay)return!1;const n=e.delaunay.edges.map(o=>$1(e.points[o[0]],e.points[o[1]])),i=e.delaunay.urquhart(n);return{type:"FeatureCollection",features:e.delaunay.edges.map((o,s)=>({type:"Feature",properties:{source:e.valid[o[0]],target:e.valid[o[1]],length:n[s],urquhart:!!i[s]},geometry:{type:"LineString",coordinates:[e.points[o[0]],e.points[o[1]]]}}))}},e.mesh=function(r){return r!==void 0&&e(r),e.delaunay?{type:"MultiLineString",coordinates:e.delaunay.edges.map(n=>[e.points[n[0]],e.points[n[1]]])}:!1},e.cellMesh=function(r){if(r!==void 0&&e(r),!e.delaunay)return!1;const{centers:n,polygons:i}=e.delaunay,o=[];for(const s of i)if(s)for(let l=s.length,c=s[l-1],d=s[0],u=0;u<l;c=d,d=s[++u])d>c&&o.push([n[c],n[d]]);return{type:"MultiLineString",coordinates:o}},e._found=void 0,e.find=function(r,n,i){if(e._found=e.delaunay.find(r,n,e._found),!i||$1([r,n],e.points[e._found])<i)return e._found},e.hull=function(r){r!==void 0&&e(r);const n=e.delaunay.hull,i=e.points;return n.length===0?null:{type:"Polygon",coordinates:[[...n.map(o=>i[o]),i[n[0]]]]}},t?e(t):e}const sw=Symbol();function lw(){return el(sw)}function AN(t){rs(sw,t)}function MN(t,e){Xe(e,!1);const[r,n]=ct(),i=()=>ie(u,"$width",r),o=()=>ie(f,"$height",r),s=()=>ie(M,"$transformScale",r),l=()=>ie(D,"$transformTranslate",r),c=()=>ie(T(),"$geo",r),d=Ve(),{width:u,height:f}=En();let h=R(e,"projection",8,void 0),p=R(e,"fitGeojson",8,void 0),m=R(e,"fixedAspectRatio",8,void 0),y=R(e,"clipAngle",8,void 0),_=R(e,"clipExtent",8,void 0),S=R(e,"rotate",8,void 0),w=R(e,"scale",8,void 0),C=R(e,"translate",8,void 0),L=R(e,"center",8,void 0),k=R(e,"applyTransform",24,()=>[]),P=R(e,"reflectX",8,void 0),z=R(e,"reflectY",8,void 0),T=R(e,"geo",24,()=>{var I;return bt((I=h())==null?void 0:I())});AN(T());const{scale:M,translate:D}=Gp();De(()=>(he(m()),i(),o()),()=>{g(d,m()?[100,100/m()]:[i(),o()])}),De(()=>(he(h()),he(p()),a(d),he(w()),he(k()),s(),he(S()),l(),he(C()),he(L()),he(P()),he(z()),he(y()),he(_()),he(T())),()=>{if(h()){const I=h()();p()&&"fitSize"in I&&I.fitSize(a(d),p()),"scale"in I&&(w()&&I.scale(w()),k().includes("scale")&&I.scale(s())),"rotate"in I&&(S()&&I.rotate([S().yaw,S().pitch,S().roll]),k().includes("rotate")&&I.rotate([l().x,l().y])),"translate"in I&&(C()&&I.translate(C()),k().includes("translate")&&I.translate([l().x,l().y])),L()&&"center"in I&&I.center(L()),P()&&I.reflectX(P()),z()&&I.reflectY(z()),y()&&"clipAngle"in I&&I.clipAngle(y()),_()&&"clipExtent"in I&&I.clipExtent(_()),T().set(I)}}),Qr(),pr();var A=ke(),O=de(A);$t(O,e,"default",{get projection(){return c()}},null),b(t,A),Ke(),n()}function cx(t,e,r){const n=r===void 0?p2():r,i=YR(t,PN(e(n))),o=s=>(i(s),r===void 0?n+"":void 0);return Object.setPrototypeOf(o,i),o}function PN(t){return{beginPath(){},moveTo(e,r){t.lineStart(),t.point(e,r)},arc(e,r,n,i,o,s){},lineTo(e,r){t.point(e,r)},closePath(){t.lineEnd()}}}function DN(t,e,r){const n=t.fitSize(e,r),i=n.translate();return{translate:{x:i[0],y:i[1]},scale:n.scale()}}var LN=br("<path></path>");function EN(t,e){const r=er(e,["children","$$slots","$$events","$$legacy"]),n=er(r,["geojson","fill","stroke","strokeWidth","tooltip","onclick","onpointerenter","onpointermove","onpointerleave","onpointerdown","ontouchmove","curve","class","geoTransform"]);Xe(e,!1);const[i,o]=ct(),s=()=>ie(T,"$geo",i),l=Ve(),c=Ve(),d=Ve(),u=Ve();let f=R(e,"geojson",8,void 0),h=R(e,"fill",8,void 0),p=R(e,"stroke",8,void 0),m=R(e,"strokeWidth",8,void 0),y=R(e,"tooltip",8,void 0),_=R(e,"onclick",8,void 0),S=R(e,"onpointerenter",8,void 0),w=R(e,"onpointermove",8,void 0),C=R(e,"onpointerleave",8,void 0),L=R(e,"onpointerdown",8,void 0),k=R(e,"ontouchmove",8,void 0),P=R(e,"curve",8,Gh),z=R(e,"class",8,void 0);const T=lw();let M=R(e,"geoTransform",8,void 0);const D=Ji(),A=D?"canvas":"svg";function O(G,Q){if(f()){const Z=a(c)(f());ff(G,Z,Q?us({styles:{strokeWidth:m()}},Q):{styles:{fill:h(),stroke:p(),strokeWidth:m()},classes:z()})}}function I(G){var Q;(Q=_())==null||Q(G,a(c))}function B(G){var Q,Z;(Q=S())==null||Q(G),(Z=y())==null||Z.show(G,f())}function j(G){var Q,Z;(Q=w())==null||Q(G),(Z=y())==null||Z.show(G,f())}function V(G){var Q,Z;(Q=C())==null||Q(G),(Z=y())==null||Z.hide()}let F=Ve();Gn(()=>{A==="canvas"&&a(F)()}),De(()=>(he(M()),s()),()=>{g(l,M()?XR(M()(s())):s())}),De(()=>(a(l),he(P())),()=>{g(c,cx(a(l),P()))}),De(()=>(he(f()),a(l),he(P())),()=>{f(),g(c,cx(a(l),P()))}),De(()=>(he(h()),cn),()=>{g(d,h()&&typeof h()=="object"?cn(h()):h())}),De(()=>(he(p()),cn),()=>{g(u,p()&&typeof p()=="object"?cn(p()):p())}),De(()=>(he(f()),a(l),a(d),a(u),he(m()),he(z())),()=>{A==="canvas"&&(f()&&a(l)&&a(d)&&a(u)&&m()&&z(),D.invalidate())}),De(()=>(he(L()),he(k())),()=>{A==="canvas"&&g(F,D.register({name:"GeoPath",render:O,events:{click:I,pointerenter:B,pointermove:j,pointerleave:V,pointerdown:L(),touchmove:k()}}))}),Qr(),pr();var N=ke(),q=de(N);$t(q,e,"default",{get geoPath(){return a(c)}},G=>{var Q=ke(),Z=de(Q);{var E=U=>{var $=LN();let ee;ae((se,oe)=>ee=In($,ee,{...n,d:se,fill:h(),stroke:p(),"stroke-width":m(),class:oe},void 0,!0),[()=>f()?a(c)(f()):"",()=>At(h()==null&&"fill-transparent",z())],Ie),tt("click",$,I),tt("pointerenter",$,B),tt("pointermove",$,j),tt("pointerleave",$,V),tt("pointerdown",$,function(...se){var oe;(oe=L())==null||oe.apply(this,se)}),tt("touchmove",$,function(...se){var oe;(oe=k())==null||oe.apply(this,se)}),b(U,$)};W(Z,U=>{A==="svg"&&U(E)})}b(G,Q)}),b(t,N),Ke(),o()}var IN=br("<g><!></g>");function TN(t,e){const r=er(e,["children","$$slots","$$events","$$legacy"]),n=er(r,["data","classes","onclick","onpointerenter","onpointermove","onpointerleave","onpointerdown"]);Xe(e,!1);const[i,o]=ct(),s=()=>ie(w,"$flatData",i),l=()=>ie(D,"$geo",i),c=()=>ie(k,"$xContext",i),d=()=>ie(C,"$xGet",i),u=()=>ie(P,"$yContext",i),f=()=>ie(L,"$yGet",i),h=()=>ie(M,"$radial",i),p=()=>ie(z,"$width",i),m=()=>ie(T,"$height",i),y=Ve(),_=Ve(),S=Ve(),{flatData:w,xGet:C,yGet:L,x:k,y:P,width:z,height:T,radial:M}=En(),D=lw();let A=R(e,"data",8,void 0),O=R(e,"classes",24,()=>({})),I=R(e,"onclick",8,void 0),B=R(e,"onpointerenter",8,void 0),j=R(e,"onpointermove",8,void 0),V=R(e,"onpointerleave",8,void 0),F=R(e,"onpointerdown",8,void 0);De(()=>(he(A()),s(),l(),c(),d(),u(),f(),h(),p(),m()),()=>{g(y,(A()??s()).map(E=>{const U=l()?c()(E):d()(E),$=l()?u()(E):f()(E),ee=Array.isArray(U)?nn(U):U,se=Array.isArray($)?nn($):$;let oe;if(h()){const K=yi(ee,se);oe=[K[0]+p()/2,K[1]+m()/2]}else oe=[ee,se];return oe.data=E,oe}))}),De(()=>p(),()=>{g(_,Math.max(p(),0))}),De(()=>m(),()=>{g(S,Math.max(m(),0))}),Qr(),pr();var N=IN();let q;var G=v(N);{var Q=E=>{var U=ke();const $=Ie(()=>CN().polygons(a(y)));var ee=de(U);St(ee,1,()=>a($).features,zt,(se,oe)=>{const K=Ie(()=>At("fill-transparent stroke-transparent",O().path));EN(se,{get geojson(){return a(oe)},get class(){return a(K)},onclick:J=>{var te;return(te=I())==null?void 0:te(J,{data:a(oe).properties.site.data,feature:a(oe)})},onpointerenter:J=>{var te;return(te=B())==null?void 0:te(J,{data:a(oe).properties.site.data,feature:a(oe)})},onpointermove:J=>{var te;return(te=j())==null?void 0:te(J,{data:a(oe).properties.site.data,feature:a(oe)})},onpointerdown:J=>{var te;return(te=F())==null?void 0:te(J,{data:a(oe).properties.site.data,feature:a(oe)})},get onpointerleave(){return V()},ontouchmove:J=>{J.preventDefault()}})}),b(E,U)},Z=E=>{var U=ke();const $=Ie(()=>vf.from(a(y)).voronoi([0,0,a(_),a(S)]));var ee=de(U);St(ee,1,()=>a(y),zt,(se,oe,K)=>{var J=ke();const te=Ie(()=>a($).renderCell(K));var X=de(J);{var re=fe=>{const ue=Ie(()=>At("fill-transparent stroke-transparent",O().path));Qs(fe,{get pathData(){return a(te)},get class(){return a(ue)},onclick:xe=>{var we;return(we=I())==null?void 0:we(xe,{data:a(oe).data,point:a(oe)})},onpointerenter:xe=>{var we;return(we=B())==null?void 0:we(xe,{data:a(oe).data,point:a(oe)})},onpointermove:xe=>{var we;return(we=j())==null?void 0:we(xe,{data:a(oe).data,point:a(oe)})},get onpointerleave(){return V()},onpointerdown:xe=>{var we;return(we=F())==null?void 0:we(xe,{data:a(oe).data,point:a(oe)})},ontouchmove:xe=>{xe.preventDefault()}})};W(X,fe=>{a(te)&&fe(re)})}b(se,J)}),b(E,U)};W(G,E=>{l()?E(Q):E(Z,!1)})}ae(E=>q=In(N,q,{...n,class:E},void 0,!0),[()=>At(O().root,r.class)],Ie),b(t,N),Ke(),o()}function ON(t,e){let r=Math.atan2(e,t);return r+=Math.PI/2,r<0&&(r+=2*Math.PI),{radius:Math.sqrt(t**2+e**2),radians:r}}function hd(t,e){return t instanceof Date?new Date(t.getTime()+e):t+e}function RN(t,e=!0){const r=[];return t.visit((n,i,o,s,l)=>{(e||Array.isArray(n))&&r.push({x:i,y:o,width:s-i,height:l-o})}),r}const cw=Symbol(),NN=bt({x:0,y:0,data:null,show:()=>{},hide:()=>{},mode:"manual"});function eg(){return el(cw)??NN}function zN(t){rs(cw,t)}var BN=br("<rect></rect>"),jN=br('<g class="tooltip-rects"></g>'),FN=br("<rect></rect>"),UN=br('<g class="tooltip-quadtree"></g>'),VN=H('<div><div class="absolute"><!> <!></div></div>');function WN(t,e){Xe(e,!1);const[r,n]=ct(),i=()=>ie(T,"$x",r),o=()=>ie(O,"$y",r),s=()=>ie(Q,"$radial",r),l=()=>ie(V,"$width",r),c=()=>ie(F,"$height",r),d=()=>ie(M,"$xScale",r),u=()=>ie(G,"$padding",r),f=()=>ie(z,"$flatData",r),h=()=>ie(I,"$yScale",r),p=()=>ie(K(),"$tooltip",r),m=()=>ie(D,"$xGet",r),y=()=>ie(B,"$yGet",r),_=()=>ie(A,"$xRange",r),S=()=>ie(j,"$yRange",r),w=()=>ie(N,"$containerWidth",r),C=()=>ie(q,"$containerHeight",r),L=Ve(),k=Ve(),P=Ve(),{flatData:z,x:T,xScale:M,xGet:D,xRange:A,y:O,yScale:I,yGet:B,yRange:j,width:V,height:F,containerWidth:N,containerHeight:q,padding:G,radial:Q}=En();let Z=R(e,"mode",8,"manual"),E=R(e,"findTooltipData",8,"closest"),U=R(e,"raiseTarget",8,!1),$=R(e,"locked",8,!1),ee=R(e,"radius",8,1/0),se=R(e,"debug",8,!1),oe=R(e,"onclick",8,()=>{}),K=R(e,"tooltip",24,()=>bt({x:0,y:0,data:null,show:fe,hide:ue,mode:Z()}));zN(K());let J=R(e,"hideDelay",8,0),te=Ve(!1),X;function re(Ee,Be,Ae,Ce){switch(E()){case"closest":return Be===void 0?Ee:Ee===void 0||Number(Ae)-Number(Ce(Ee))>Number(Ce(Be))-Number(Ae)?Be:Ee;case"left":return Ee;case"right":default:return Be}}function fe(Ee,Be){var Oe,Le,Re,Me,Te,ze;if(X&&clearTimeout(X),$())return;const Ae=Ee.target.closest(".layercake-container"),Ce=Kl(Ae,Ee),_e=(Ce==null?void 0:Ce.x)??0,ge=(Ce==null?void 0:Ce.y)??0;if(_e<((Oe=Ee.currentTarget)==null?void 0:Oe.offsetLeft)||_e>((Le=Ee.currentTarget)==null?void 0:Le.offsetLeft)+((Re=Ee.currentTarget)==null?void 0:Re.offsetWidth)||ge<((Me=Ee.currentTarget)==null?void 0:Me.offsetTop)||ge>((Te=Ee.currentTarget)==null?void 0:Te.offsetTop)+((ze=Ee.currentTarget)==null?void 0:ze.offsetHeight)){ue();return}if(Be==null)switch(Z()){case"bisect-x":{let Fe;if(s()){const{radians:Ze}=ON(_e-l()/2,ge-c()/2);Fe=Cl(d(),Ze)}else Fe=Cl(d(),_e-u().left);const Ye=a(L)(f(),Fe,1),Je=f()[Ye-1],et=f()[Ye];Be=re(Je,et,Fe,i());break}case"bisect-y":{const Fe=Cl(h(),ge-u().top),Ye=a(k)(f(),Fe,1),Je=f()[Ye-1],et=f()[Ye];Be=re(Je,et,Fe,o());break}case"bisect-band":{const Fe=Cl(d(),_e),Ye=Cl(h(),ge);if(_r(d())){const Je=f().filter(Pe=>i()(Pe)===Fe).sort(nd(o())),et=a(k)(Je,Ye,1),Ze=Je[et-1],Ge=Je[et];Be=re(Ze,Ge,Ye,o())}else if(_r(h())){const Je=f().filter(Pe=>o()(Pe)===Ye).sort(nd(i())),et=a(L)(Je,Fe,1),Ze=Je[et-1],Ge=Je[et];Be=re(Ze,Ge,Fe,i())}break}case"quadtree":{Be=a(xe).find(_e,ge,ee());break}}Be?(U()&&HM(Ee.target),It(K(),{...p(),x:_e,y:ge,data:Be})):ue()}function ue(){$()||(X=setTimeout(()=>{a(te)||It(K(),{...p(),data:null})},J()))}let xe=Ve(),we=Ve([]);De(()=>i(),()=>{g(L,ic(Ee=>{const Be=i()(Ee);return Array.isArray(Be)?Be[0]:Be}).left)}),De(()=>o(),()=>{g(k,ic(Ee=>{const Be=o()(Ee);return Array.isArray(Be)?Be[0]:Be}).left)}),De(()=>(he(Z()),l(),c(),m(),y(),f()),()=>{Z()==="quadtree"&&g(xe,zb().extent([[0,0],[l(),c()]]).x(Ee=>{const Be=m()(Ee);return Array.isArray(Be)?nn(Be):Be}).y(Ee=>{const Be=y()(Ee);return Array.isArray(Be)?nn(Be):Be}).addAll(f()))}),De(()=>(he(Z()),f(),m(),y(),d(),h(),_(),S(),nd),()=>{(Z()==="bounds"||Z()==="band")&&g(we,f().map(Ee=>{const Be=m()(Ee),Ae=y()(Ee),Ce=Array.isArray(Be)?Be[0]:Be,_e=Array.isArray(Ae)?Ae[0]:Ae,ge=_r(d())?d().padding()*d().step()/2:0,Oe=_r(h())?h().padding()*h().step()/2:0,Le=sn(_())-nn(_()),Re=sn(S())-nn(S());if(Z()==="band")return{x:_r(d())?Ce-ge:nn(_()),y:_r(h())?_e-Oe:nn(S()),width:_r(d())?d().step():Le,height:_r(h())?h().step():Re,data:Ee};if(Z()==="bounds")return{x:_r(d())||Array.isArray(Be)?Ce-ge:nn(_()),y:_e-Oe,width:Array.isArray(Be)?Be[1]-Be[0]:_r(d())?d().step():nn(_())+Ce,height:Array.isArray(Ae)?Ae[1]-Ae[0]:_r(h())?h().step():sn(S())-_e,data:Ee}}).sort(nd("x")))}),De(()=>he(Z()),()=>{g(P,["bisect-x","bisect-y","bisect-band","quadtree"].includes(Z()))}),Qr(),pr();var me=VN(),ce=v(me),ye=v(ce);$t(ye,e,"default",{get tooltip(){return p()}},null);var be=x(ye,2);{var ve=Ee=>{Cd(Ee,{children:(Be,Ae)=>{const Ce=Ie(()=>({path:At(se()&&"fill-danger/10 stroke-danger")}));TN(Be,{onpointerenter:(_e,{data:ge})=>{fe(_e,ge)},onpointermove:(_e,{data:ge})=>{fe(_e,ge)},onpointerleave:ue,onpointerdown:_e=>{var ge;(ge=_e.target)!=null&&ge.hasPointerCapture(_e.pointerId)&&_e.target.releasePointerCapture(_e.pointerId)},onclick:(_e,{data:ge})=>{oe()(_e,{data:ge})},get classes(){return a(Ce)}})},$$slots:{default:!0}})},Se=Ee=>{var Be=ke(),Ae=de(Be);{var Ce=ge=>{Cd(ge,{children:(Oe,Le)=>{var Re=jN();St(Re,5,()=>a(we),zt,(Me,Te)=>{var ze=BN();ae(Fe=>{pe(ze,"x",a(Te).x),pe(ze,"y",a(Te).y),pe(ze,"width",a(Te).width),pe(ze,"height",a(Te).height),qa(ze,Mr(Fe))},[()=>At(se()?"fill-danger/10 stroke-danger":"fill-transparent")],Ie),tt("pointerenter",ze,Fe=>fe(Fe,a(Te).data)),tt("pointermove",ze,Fe=>fe(Fe,a(Te).data)),tt("pointerleave",ze,ue),tt("pointerdown",ze,Fe=>{var Ye;(Ye=Fe.target)!=null&&Ye.hasPointerCapture(Fe.pointerId)&&Fe.target.releasePointerCapture(Fe.pointerId)}),tt("click",ze,Fe=>{oe()(Fe,{data:a(Te).data})}),b(Me,ze)}),b(Oe,Re)},$$slots:{default:!0}})},_e=ge=>{var Oe=ke(),Le=de(Oe);{var Re=Me=>{Cd(Me,{pointerEvents:!1,children:(Te,ze)=>{v0(Te,{children:(Fe,Ye)=>{var Je=UN();St(Je,5,()=>RN(a(xe),!1),zt,(et,Ze)=>{var Ge=FN();ae(Pe=>{pe(Ge,"x",a(Ze).x),pe(Ge,"y",a(Ze).y),pe(Ge,"width",a(Ze).width),pe(Ge,"height",a(Ze).height),qa(Ge,Mr(Pe))},[()=>At(se()?"fill-danger/10 stroke-danger":"fill-transparent")],Ie),b(et,Ge)}),b(Fe,Je)},$$slots:{default:!0}})},$$slots:{default:!0}})};W(Le,Me=>{Z()==="quadtree"&&se()&&Me(Re)},!0)}b(ge,Oe)};W(Ae,ge=>{Z()==="bounds"||Z()==="band"?ge(Ce):ge(_e,!1)},!0)}b(Ee,Be)};W(be,Ee=>{Z()==="voronoi"?Ee(ve):Ee(Se,!1)})}ae(Ee=>{$e(me,Mr(Ee)),ar(me,"top",`${u().top??""}px`),ar(me,"left",`${u().left??""}px`),ar(me,"width",`${l()??""}px`),ar(me,"height",`${c()??""}px`),ar(ce,"top",`-${u().top??0}px`),ar(ce,"left",`-${u().left??0}px`),ar(ce,"width",`${w()??""}px`),ar(ce,"height",`${C()??""}px`)},[()=>At("TooltipContext absolute touch-none",se()&&a(P)&&"bg-danger/10 outline outline-danger")],Ie),tt("pointerenter",me,Ee=>{g(te,!0),a(P)&&fe(Ee)}),tt("pointermove",me,function(...Ee){var Be;(Be=a(P)?fe:void 0)==null||Be.apply(this,Ee)}),tt("pointerleave",me,Ee=>{g(te,!1),a(P)&&ue()}),tt("click",me,Ee=>{var Be;a(P)&&oe()(Ee,{data:(Be=p())==null?void 0:Be.data})}),b(t,me),Ke(),n()}const dw=Symbol();function Ji(){return el(dw)}function HN(t){rs(dw,t)}var qN=H("<canvas><!></canvas> <canvas></canvas> <!>",1);function GN(t,e){const r=er(e,["children","$$slots","$$events","$$legacy"]);Xe(e,!1);const[n,i]=ct(),o=()=>ie(_,"$containerWidth",n),s=()=>ie(S,"$containerHeight",n),l=()=>ie(w,"$padding",n),c=()=>ie(m,"$width",n),d=()=>ie(y,"$height",n),u=()=>ie(G,"$translate",n),f=()=>ie(q,"$scale",n),h=()=>ie(Z,"$moving",n),p=()=>ie(Q,"$dragging",n),{width:m,height:y,containerWidth:_,containerHeight:S,padding:w}=En();let C=R(e,"element",12,void 0),L=R(e,"context",12,void 0),k=R(e,"willReadFrequently",8,!1),P=R(e,"zIndex",8,void 0),z=R(e,"pointerEvents",8,void 0),T=R(e,"fallback",8,""),M=R(e,"label",8,void 0),D=R(e,"labelledBy",8,void 0),A=R(e,"describedBy",8,void 0),O=R(e,"center",8,!1),I=R(e,"debug",8,!1);const B=new $2("Canvas");let j=new Map,V=!1,F;const{mode:N,scale:q,translate:G,dragging:Q,moving:Z}=Gp();eg();let E=Ve(void 0),U,$=C1(),ee=!1,se=Ve();const oe=new Map;function K(ce){const{x:ye,y:be}=Kl(ce.target,ce)??{x:0,y:0},ve=_O(U,ye,be),Se=A1(ve),Ee=oe.get(Se);return B.debug({colorKey:Se,component:Ee,componentByColor:oe}),Ee}function J(ce){var be,ve,Se,Ee,Be,Ae,Ce,_e,ge,Oe,Le,Re,Me,Te;ee=!0;const ye=K(ce);a(se)==null?((ve=(be=ye==null?void 0:ye.events)==null?void 0:be.pointerenter)==null||ve.call(be,ce),(Ee=(Se=ye==null?void 0:ye.events)==null?void 0:Se.pointerover)==null||Ee.call(Se,ce)):a(se)!=ye?((Ce=(Ae=(Be=a(se))==null?void 0:Be.events)==null?void 0:Ae.pointerleave)==null||Ce.call(Ae,ce),(Oe=(ge=(_e=a(se))==null?void 0:_e.events)==null?void 0:ge.pointerout)==null||Oe.call(ge,ce),(Re=(Le=ye==null?void 0:ye.events)==null?void 0:Le.pointermove)==null||Re.call(Le,ce)):(Te=(Me=ye==null?void 0:ye.events)==null?void 0:Me.pointermove)==null||Te.call(Me,ce),g(se,ye)}function te(ce){var ye,be,ve,Se,Ee,Be;(ve=(be=(ye=a(se))==null?void 0:ye.events)==null?void 0:be.pointerleave)==null||ve.call(be,ce),(Be=(Ee=(Se=a(se))==null?void 0:Se.events)==null?void 0:Ee.pointerout)==null||Be.call(Ee,ce),g(se,null),ee=!1}Zt(()=>{var ce,ye;L((ce=C())==null?void 0:ce.getContext("2d",{willReadFrequently:k()})),U=(ye=a(E))==null?void 0:ye.getContext("2d",{willReadFrequently:!1})}),Gn(()=>{F&&cancelAnimationFrame(F)});function X(){if(L()){if(S1(L(),o(),s()),L().clearRect(0,0,o(),s()),L().translate(l().left??0,l().top??0),O()){const ce={x:O()==="x"||O()===!0?c()/2:0,y:O()==="y"||O()===!0?d()/2:0};L().translate(ce.x,ce.y)}else if(N==="canvas"){const ce={x:c()/2,y:d()/2},ye={x:u().x*f()+ce.x-ce.x*f(),y:u().y*f()+ce.y-ce.y*f()};L().translate(ye.x,ye.y),L().scale(f(),f())}U&&(S1(U,o(),s()),U.clearRect(0,0,o(),s()),U.setTransform(L().getTransform()),$=C1()),j.forEach(ce=>{ce.retainState?ce.render(L()):(L().save(),ce.render(L()),L().restore());const ye=!ee&&h(),be=ce.events&&Object.values(ce.events).filter(ve=>ve).length>0;if(U&&be&&!ye&&!p()){const ve=A1($.next().value),Se={styles:{fill:ve,stroke:ve,_fillOpacity:.1}};ce.retainState?ce.render(U,Se):(U.save(),ce.render(U,Se),U.restore()),oe.set(ve,ce)}}),V=!1}}const re={register(ce){const ye=Symbol();return j.set(ye,ce),this.invalidate(),()=>{j.delete(ye),this.invalidate()}},invalidate(){V||(V=!0,F=requestAnimationFrame(X))}};HN(re),De(()=>(o(),s(),p()),()=>{o(),s()&&p(),re.invalidate()}),Qr(),pr();var fe=qN(),ue=de(fe),xe=v(ue);$t(xe,e,"fallback",{},ce=>{var ye=Wt();ae(()=>Y(ye,T()||"")),b(ce,ye)}),Ar(ue,ce=>C(ce),()=>C());var we=x(ue,2);Ar(we,ce=>g(E,ce),()=>a(E));var me=x(we,2);$t(me,e,"default",{get element(){return C()},get context(){return L()}},null),ae((ce,ye)=>{$e(ue,Mr(ce)),pe(ue,"aria-label",M()),pe(ue,"aria-labelledby",D()),pe(ue,"aria-describedby",A()),ar(ue,"z-index",P()),$e(we,Mr(ye))},[()=>At("layercake-layout-canvas","absolute top-0 left-0 w-full h-full",z()===!1&&"pointer-events-none",r.class),()=>At("layerchart-hitcanvas","absolute top-0 left-0 w-full h-full","pointer-events-none","border border-danger",!I()&&"opacity-0")],Ie),tt("click",ue,ce=>{var be,ve;const ye=K(ce);(ve=(be=ye==null?void 0:ye.events)==null?void 0:be.click)==null||ve.call(be,ce)}),tt("click",ue,function(ce){ja.call(this,e,ce)}),tt("dblclick",ue,ce=>{var be,ve;const ye=K(ce);(ve=(be=ye==null?void 0:ye.events)==null?void 0:be.dblclick)==null||ve.call(be,ce)}),tt("pointerdown",ue,ce=>{var be,ve;const ye=K(ce);(ve=(be=ye==null?void 0:ye.events)==null?void 0:be.pointerdown)==null||ve.call(be,ce)}),tt("pointerenter",ue,J),tt("pointerenter",ue,function(ce){ja.call(this,e,ce)}),tt("pointermove",ue,J),tt("pointermove",ue,function(ce){ja.call(this,e,ce)}),tt("pointerleave",ue,te),tt("pointerleave",ue,function(ce){ja.call(this,e,ce)}),tt("touchmove",ue,ce=>{var be,ve;a(se)&&ce.preventDefault();const ye=K(ce);(ve=(be=ye==null?void 0:ye.events)==null?void 0:be.touchmove)==null||ve.call(be,ce)}),tt("touchmove",ue,function(ce){ja.call(this,e,ce)}),b(t,fe),Ke(),i()}var $N=br("<g><!></g>");function dx(t,e){const r=er(e,["children","$$slots","$$events","$$legacy"]),n=er(r,["x","initialX","y","initialY","center","preventTouchMove","onclick","ondblclick","onpointerenter","onpointermove","onpointerleave","onpointerdown","spring","tweened"]);Xe(e,!1);const[i,o]=ct(),s=()=>ie(u,"$width",i),l=()=>ie(f,"$height",i),c=()=>ie(D,"$tweened_x",i),d=()=>ie(A,"$tweened_y",i),{width:u,height:f}=En();let h=R(e,"x",8,void 0),p=R(e,"initialX",24,h),m=R(e,"y",8,void 0),y=R(e,"initialY",24,m),_=R(e,"center",8,!1),S=R(e,"preventTouchMove",8,!1),w=R(e,"onclick",8,void 0),C=R(e,"ondblclick",8,void 0),L=R(e,"onpointerenter",8,void 0),k=R(e,"onpointermove",8,void 0),P=R(e,"onpointerleave",8,void 0),z=R(e,"onpointerdown",8,void 0),T=R(e,"spring",8,void 0),M=R(e,"tweened",8,void 0),D=Cn(p(),{spring:T(),tweened:M()}),A=Cn(y(),{spring:T(),tweened:M()}),O=Ve(void 0);const I=Ji(),B=I?"canvas":"svg";function j(Q){Q.translate(c()??0,d()??0)}let V=Ve();Gn(()=>{B==="canvas"&&a(V)()}),De(()=>(he(h()),he(_()),s(),he(m()),l()),()=>{tl().then(()=>{D.set(h()??(_()==="x"||_()===!0?s()/2:0)),A.set(m()??(_()==="y"||_()===!0?l()/2:0))})}),De(()=>(he(_()),he(h()),he(m()),c(),d()),()=>{(_()||h()!=null||m()!=null)&&g(O,`translate(${c()??0}, ${d()??0})`)}),De(()=>(c(),d()),()=>{B==="canvas"&&(c()&&d(),I.invalidate())}),De(()=>(he(w()),he(C()),he(L()),he(k()),he(P()),he(z())),()=>{B==="canvas"&&g(V,I.register({name:"Group",render:j,retainState:!0,events:{click:w(),dblclick:C(),pointerenter:L(),pointermove:k(),pointerleave:P(),pointerdown:z()}}))}),Qr(),pr();var F=ke(),N=de(F);{var q=Q=>{var Z=ke(),E=de(Z);$t(E,e,"default",{},null),b(Q,Z)},G=Q=>{var Z=ke(),E=de(Z);{var U=$=>{var ee=$N();let se;var oe=v(ee);$t(oe,e,"default",{},null),ae(()=>se=In(ee,se,{transform:a(O),...n},void 0,!0)),tt("click",ee,function(...K){var J;(J=w())==null||J.apply(this,K)}),tt("dblclick",ee,function(...K){var J;(J=C())==null||J.apply(this,K)}),tt("pointerenter",ee,function(...K){var J;(J=L())==null||J.apply(this,K)}),tt("pointermove",ee,function(...K){var J;(J=k())==null||J.apply(this,K)}),tt("pointerleave",ee,function(...K){var J;(J=P())==null||J.apply(this,K)}),tt("pointerdown",ee,function(...K){var J;(J=z())==null||J.apply(this,K)}),tt("touchmove",ee,K=>{S()&&K.preventDefault()}),b($,ee)};W(E,$=>{B==="svg"&&$(U)},!0)}b(Q,Z)};W(N,Q=>{B==="canvas"?Q(q):Q(G,!1)})}b(t,F),Ke(),o()}var YN=br('<path d="M 0 0 L 10 5 L 0 10 z"></path>'),XN=br('<polyline points="0 0, 10 5, 0 10"></polyline>'),KN=br("<circle></circle>"),QN=br('<polyline points="5 0, 5 10"></polyline>'),JN=br("<defs><marker><!></marker></defs>");function vo(t,e){const r=er(e,["children","$$slots","$$events","$$legacy"]),n=er(r,["type","id","size","markerWidth","markerHeight","markerUnits","orient","refX","refY","viewBox"]);Xe(e,!1);let i=R(e,"type",8,void 0),o=R(e,"id",24,()=>zn("marker-")),s=R(e,"size",8,10),l=R(e,"markerWidth",24,s),c=R(e,"markerHeight",24,s),d=R(e,"markerUnits",8,"userSpaceOnUse"),u=R(e,"orient",8,"auto-start-reverse"),f=R(e,"refX",24,()=>["arrow","triangle"].includes(i()??"")?9:5),h=R(e,"refY",8,5),p=R(e,"viewBox",8,"0 0 10 10");pr();var m=JN(),y=v(m);let _;var S=v(y);$t(S,e,"default",{},w=>{var C=ke(),L=de(C);{var k=z=>{var T=YN();b(z,T)},P=z=>{var T=ke(),M=de(T);{var D=O=>{var I=XN();b(O,I)},A=O=>{var I=ke(),B=de(I);{var j=F=>{var N=KN();pe(N,"cx",5),pe(N,"cy",5),pe(N,"r",5),b(F,N)},V=F=>{var N=ke(),q=de(N);{var G=Q=>{var Z=QN();b(Q,Z)};W(q,Q=>{i()==="line"&&Q(G)},!0)}b(F,N)};W(B,F=>{i()==="circle"||i()==="circle-stroke"||i()==="dot"?F(j):F(V,!1)},!0)}b(O,I)};W(M,O=>{i()==="arrow"?O(D):O(A,!1)},!0)}b(z,T)};W(L,z=>{i()==="triangle"?z(k):z(P,!1)})}b(w,C)}),ae(w=>_=In(y,_,{id:o(),markerWidth:l(),markerHeight:c(),markerUnits:d(),orient:u(),refX:f(),refY:h(),viewBox:p(),...n,class:w},void 0,!0),[()=>At("overflow-visible",r.stroke==null&&(["arrow","circle-stroke","line"].includes(i()??"")?"stroke-[context-stroke]":i()==="circle"?"stroke-surface-100":"stroke-none"),"[stroke-linecap:round] [stroke-linejoin:round]",r.fill==null&&(["triangle","dot","circle"].includes(i()??"")?"fill-[context-stroke]":i()==="circle-stroke"?"fill-surface-100":"fill-none"),r.class)],Ie),b(t,m),Ke()}function ZN(t,e=0){let r=t;return r=r.replace(/([MLTQCSAZ])(-?\d*\.?\d+),(-?\d*\.?\d+)/g,(n,i,o,s)=>`${i}${o},${e}`),r=r.replace(/([v])(-?\d*\.?\d+)/g,(n,i,o)=>`${i}0`),r}var ez=br("<path></path><!><!><!><!><!>",1);function Qs(t,e){const r=Cc(e),n=er(e,["children","$$slots","$$events","$$legacy"]),i=er(n,["data","pathData","x","y","tweened","draw","curve","defined","fill","stroke","strokeWidth","opacity","class","onclick","onpointerenter","onpointermove","onpointerleave","onpointerdown","ontouchmove","onpointerover","onpointerout","marker","markerStart","markerMid","markerEnd"]);Xe(e,!1);const[o,s]=ct(),l=()=>ie(N,"$contextX",o),c=()=>ie(q,"$contextY",o),d=()=>ie(V,"$xScale",o),u=()=>ie(F,"$yScale",o),f=()=>ie(G,"$yRange",o),h=()=>ie(Z,"$config",o),p=()=>ie(Q,"$radial",o),m=()=>ie(j,"$contextData",o),y=()=>ie(a(D),"$tweened_d",o),_=()=>ie(Ye,"$startPoint",o),S=()=>ie(a(B),"$endPoint",o),w=Ve(),C=Ve(),L=Ve(),k=Ve(),P=Ve(),z=Ve(),T=Ve(),M=Ve(),D=Ve(),A=Ve(),O=Ve(),I=Ve(),B=Ve(),{data:j,xScale:V,yScale:F,x:N,y:q,yRange:G,radial:Q,config:Z}=En();let E=R(e,"data",8,void 0),U=R(e,"pathData",8,void 0),$=R(e,"x",8,void 0),ee=R(e,"y",8,void 0),se=R(e,"tweened",8,void 0),oe=R(e,"draw",8,void 0),K=R(e,"curve",8,void 0),J=R(e,"defined",8,void 0),te=R(e,"fill",8,void 0),X=R(e,"stroke",8,void 0),re=R(e,"strokeWidth",8,void 0),fe=R(e,"opacity",8,void 0),ue=R(e,"class",8,void 0),xe=R(e,"onclick",8,void 0),we=R(e,"onpointerenter",8,void 0),me=R(e,"onpointermove",8,void 0),ce=R(e,"onpointerleave",8,void 0),ye=R(e,"onpointerdown",8,void 0),be=R(e,"ontouchmove",8,void 0),ve=R(e,"onpointerover",8,void 0),Se=R(e,"onpointerout",8,void 0),Ee=R(e,"marker",8,void 0),Be=R(e,"markerStart",24,Ee),Ae=R(e,"markerMid",24,Ee),Ce=R(e,"markerEnd",24,Ee);function _e(Ge,Pe,We){let He=We(Ge);return Array.isArray(He)&&(He=sn(He)),Pe.domain().length?Pe(He):He}function ge(){if(U())return ZN(U(),Math.min(u()(0),f()[0]));if(h().x){const Ge=p()?hm().angle(Pe=>d()(a(k)(Pe))).radius(Pe=>Math.min(u()(0),f()[0])):Jd().x(Pe=>d()(a(k)(Pe))+a(z)).y(Pe=>Math.min(u()(0),f()[0]));return Ge.defined(J()??(Pe=>a(k)(Pe)!=null&&a(P)(Pe)!=null)),K()&&Ge.curve(K()),Ge(E()??m())}}let Oe=Ve(""),Le=Ve(Symbol());const Re=Ji(),Me=Re?"canvas":"svg";function Te(Ge,Pe){ff(Ge,y(),Pe?us({styles:{strokeWidth:re()}},Pe):{styles:{fill:te(),stroke:X(),strokeWidth:re(),opacity:fe()},classes:ue()})}let ze=Ve();Gn(()=>{Me==="canvas"&&a(ze)()});let Fe=Ve(void 0);const Ye=bt(void 0);De(()=>(he(Be()),zn),()=>{g(w,Be()||r.markerStart?zn("marker-"):"")}),De(()=>(he(Ae()),zn),()=>{g(C,Ae()||r.markerMid?zn("marker-"):"")}),De(()=>(he(Ce()),zn),()=>{g(L,Ce()||r.markerEnd?zn("marker-"):"")}),De(()=>(he($()),l()),()=>{g(k,$()?ln($()):l())}),De(()=>(he(ee()),c()),()=>{g(P,ee()?ln(ee()):c())}),De(()=>d(),()=>{g(z,_r(d())?d().bandwidth()/2:0)}),De(()=>u(),()=>{g(T,_r(u())?u().bandwidth()/2:0)}),De(()=>(he(se()),$s),()=>{g(M,se()?{interpolate:$s,...se()}:!1)}),De(()=>a(M),()=>{Zl(g(D,Cn(ge(),{tweened:a(M)})),"$tweened_d",o)}),De(()=>(p(),d(),a(k),u(),a(P),a(z),a(T),he(J()),he(K()),a(Oe),he(U()),he(E()),m(),a(D)),()=>{const Ge=p()?hm().angle(Pe=>_e(Pe,d(),a(k))).radius(Pe=>_e(Pe,u(),a(P))):Jd().x(Pe=>_e(Pe,d(),a(k))+a(z)).y(Pe=>_e(Pe,u(),a(P))+a(T));Ge.defined(J()??(Pe=>a(k)(Pe)!=null&&a(P)(Pe)!=null)),K()&&Ge.curve(K()),g(Oe,U()??Ge(E()??m())??""),a(D).set(a(Oe))}),De(()=>(he(oe()),pg),()=>{g(A,oe()?pg:()=>({}))}),De(()=>(he(oe()),y()),()=>{oe()&&(y(),g(Le,Symbol()))}),De(()=>(he(te()),cn),()=>{g(O,te()&&typeof te()=="object"?cn(te()):te())}),De(()=>(he(X()),cn),()=>{g(I,X()&&typeof X()=="object"?cn(X()):X())}),De(()=>(y(),a(O),a(I),he(re()),he(ue())),()=>{Me==="canvas"&&(y()&&a(O)&&a(I)&&re()&&ue(),Re.invalidate())}),De(()=>(he(xe()),he(we()),he(me()),he(ce()),he(ye()),he(ve()),he(Se()),he(be())),()=>{Me==="canvas"&&g(ze,Re.register({name:"Spline",render:Te,events:{click:xe(),pointerenter:we(),pointermove:me(),pointerleave:ce(),pointerdown:ye(),pointerover:ve(),pointerout:Se(),touchmove:be()}}))}),De(()=>(he(oe()),a(Fe)),()=>{Zl(g(B,Cn(void 0,{tweened:oe()?{duration:typeof oe()=="object"&&oe().duration||800,easing:typeof oe()=="object"&&oe().easing||p9,interpolate(Ge,Pe){return We=>{var Qe,rt;const He=((Qe=a(Fe))==null?void 0:Qe.getTotalLength())??0;return(rt=a(Fe))==null?void 0:rt.getPointAtLength(He*We)}}}:!1})),"$endPoint",o)}),De(()=>(a(Oe),a(Fe),a(B)),()=>{(r.start||r.end)&&(a(Oe),tl().then(()=>{if(a(Fe)){Ye.set(a(Fe).getPointAtLength(0));const Ge=a(Fe).getTotalLength();a(B).set(a(Fe).getPointAtLength(Ge))}}))}),Qr(),pr();var Je=ke(),et=de(Je);{var Ze=Ge=>{var Pe=ke(),We=de(Pe);Vu(We,()=>a(Le),He=>{var nt=ez(),Qe=de(nt);let rt;Ar(Qe,at=>g(Fe,at),()=>a(Fe));var ot=x(Qe);$t(ot,e,"markerStart",{get id(){return a(w)}},at=>{var gt=ke(),Gt=de(gt);{var Kt=sr=>{const wr=Ie(()=>typeof Be()=="string"?Be():void 0);vo(sr,Ot({get id(){return a(w)},get type(){return a(wr)}},()=>typeof Be()=="object"?Be():null))};W(Gt,sr=>{Be()&&sr(Kt)})}b(at,gt)});var Lt=x(ot);$t(Lt,e,"markerMid",{get id(){return a(C)}},at=>{const gt=Ie(()=>typeof Ae()=="string"?Ae():void 0);vo(at,Ot({get id(){return a(C)},get type(){return a(gt)}},()=>typeof Ae()=="object"?Ae():null))});var Et=x(Lt);$t(Et,e,"markerEnd",{get id(){return a(L)}},at=>{const gt=Ie(()=>typeof Ce()=="string"?Ce():void 0);vo(at,Ot({get id(){return a(L)},get type(){return a(gt)}},()=>typeof Ce()=="object"?Ce():null))});var dt=x(Et);{var wt=at=>{dx(at,{get x(){return _().x},get y(){return _().y},children:(gt,Gt)=>{var Kt=ke(),sr=de(Kt);$t(sr,e,"start",{get point(){return _()}},null),b(gt,Kt)},$$slots:{default:!0}})};W(dt,at=>{r.start&&_()&&at(wt)})}var it=x(dt);{var ht=at=>{dx(at,{get x(){return S().x},get y(){return S().y},children:(gt,Gt)=>{var Kt=ke(),sr=de(Kt);$t(sr,e,"end",{get point(){return S()}},null),b(gt,Kt)},$$slots:{default:!0}})};W(it,at=>{r.end&&S()&&at(ht)})}ae(at=>rt=In(Qe,rt,{d:y(),...i,class:at,fill:te(),stroke:X(),"stroke-width":re(),opacity:fe(),"marker-start":a(w)?`url(#${a(w)})`:void 0,"marker-mid":a(C)?`url(#${a(C)})`:void 0,"marker-end":a(L)?`url(#${a(L)})`:void 0},void 0,!0),[()=>At("path-line",!te()&&"fill-none",!X()&&"stroke-surface-content",ue())],Ie),Rt(5,Qe,()=>a(A),()=>typeof oe()=="object"?oe():void 0),tt("click",Qe,function(...at){var gt;(gt=xe())==null||gt.apply(this,at)}),tt("pointerenter",Qe,function(...at){var gt;(gt=we())==null||gt.apply(this,at)}),tt("pointermove",Qe,function(...at){var gt;(gt=me())==null||gt.apply(this,at)}),tt("pointerleave",Qe,function(...at){var gt;(gt=ce())==null||gt.apply(this,at)}),tt("pointerdown",Qe,function(...at){var gt;(gt=ye())==null||gt.apply(this,at)}),tt("pointerover",Qe,function(...at){var gt;(gt=ve())==null||gt.apply(this,at)}),tt("pointerout",Qe,function(...at){var gt;(gt=Se())==null||gt.apply(this,at)}),tt("touchmove",Qe,function(...at){var gt;(gt=be())==null||gt.apply(this,at)}),b(He,nt)}),b(Ge,Pe)};W(et,Ge=>{Me==="svg"&&Ge(Ze)})}b(t,Je),Ke(),s()}var tz=br("<path></path>"),rz=br("<!><!>",1);function nz(t,e){const r=er(e,["children","$$slots","$$events","$$legacy"]),n=er(r,["data","pathData","x","y0","y1","tweened","clipPath","curve","defined","line","fill","fillOpacity","stroke","strokeWidth","class","onclick","onpointerenter","onpointermove","onpointerleave"]);Xe(e,!1);const[i,o]=ct(),s=()=>ie(O,"$contextX",i),l=()=>ie(B,"$yDomain",i),c=()=>ie(I,"$y",i),d=()=>ie(D,"$xScale",i),u=()=>ie(A,"$yScale",i),f=()=>ie(V,"$radial",i),h=()=>ie(j,"$yRange",i),p=()=>ie(M,"$contextData",i),m=()=>ie(F,"$config",i),y=()=>ie(a(P),"$tweened_d",i),_=Ve(),S=Ve(),w=Ve(),C=Ve(),L=Ve(),k=Ve(),P=Ve(),z=Ve(),T=Ve(),{data:M,xScale:D,yScale:A,x:O,y:I,yDomain:B,yRange:j,radial:V,config:F}=En();let N=R(e,"data",8,void 0),q=R(e,"pathData",8,void 0),G=R(e,"x",8,void 0),Q=R(e,"y0",8,void 0),Z=R(e,"y1",8,void 0),E=R(e,"tweened",8,void 0),U=R(e,"clipPath",8,void 0),$=R(e,"curve",8,void 0),ee=R(e,"defined",8,void 0),se=R(e,"line",8,!1),oe=R(e,"fill",8,void 0),K=R(e,"fillOpacity",8,void 0),J=R(e,"stroke",8,void 0),te=R(e,"strokeWidth",8,void 0),X=R(e,"class",8,void 0),re=R(e,"onclick",8,void 0),fe=R(e,"onpointerenter",8,void 0),ue=R(e,"onpointermove",8,void 0),xe=R(e,"onpointerleave",8,void 0);function we(){const Ce=f()?pm().angle(_e=>d()(a(_)(_e))).innerRadius(_e=>Math.min(u()(0),h()[0])).outerRadius(_e=>Math.min(u()(0),h()[0])):qh().x(_e=>d()(a(_)(_e))+a(C)).y0(_e=>Math.min(u()(0),h()[0])).y1(_e=>Math.min(u()(0),h()[0]));return Ce.defined(ee()??(_e=>a(_)(_e)!=null&&a(w)(_e)!=null)),$()&&Ce.curve($()),Ce(N()??p())}const me=Ji(),ce=me?"canvas":"svg";function ye(Ce,_e){ff(Ce,y(),_e?us({styles:{strokeWidth:te()}},_e):{styles:{fill:oe(),fillOpacity:K(),stroke:J(),strokeWidth:te()},classes:X()})}let be=Ve();Gn(()=>{ce==="canvas"&&a(be)()}),De(()=>(he(G()),s()),()=>{g(_,G()?ln(G()):s())}),De(()=>(he(Q()),l()),()=>{g(S,Q()?ln(Q()):Ce=>nn(l()))}),De(()=>(he(Z()),c()),()=>{g(w,Z()?ln(Z()):c())}),De(()=>d(),()=>{g(C,_r(d())?d().bandwidth()/2:0)}),De(()=>u(),()=>{g(L,_r(u())?u().bandwidth()/2:0)}),De(()=>(he(E()),$s),()=>{g(k,E()?{interpolate:$s,...typeof E()=="object"?E():null}:!1)}),De(()=>a(k),()=>{Zl(g(P,Cn(we(),{tweened:a(k)})),"$tweened_d",i)}),De(()=>(f(),d(),a(_),u(),a(S),a(w),a(C),h(),he(Q()),m(),c(),a(L),he(Z()),he(ee()),he($()),he(q()),he(N()),p(),a(P)),()=>{const Ce=f()?pm().angle(ge=>d()(a(_)(ge))).innerRadius(ge=>u()(a(S)(ge))).outerRadius(ge=>u()(a(w)(ge))):qh().x(ge=>d()(a(_)(ge))+a(C)).y0(ge=>{let Oe=sn(h());return Q()?Oe=u()(a(S)(ge)):Array.isArray(m().y)&&m().y[0]===0&&(Oe=u()(c()(ge)[0])),Oe+a(L)}).y1(ge=>{let Oe=sn(h());return Z()?Oe=u()(a(w)(ge)):Array.isArray(m().y)&&m().y[1]===1?Oe=u()(c()(ge)[1]):Oe=u()(c()(ge)),Oe+a(L)});Ce.defined(ee()??(ge=>a(_)(ge)!=null&&a(w)(ge)!=null)),$()&&Ce.curve($());const _e=q()??Ce(N()??p());a(P).set(_e??"")}),De(()=>(he(oe()),cn),()=>{g(z,oe()&&typeof oe()=="object"?cn(oe()):oe())}),De(()=>(he(J()),cn),()=>{g(T,J()&&typeof J()=="object"?cn(J()):J())}),De(()=>(a(z),he(K()),a(T),he(te()),he(X())),()=>{ce==="canvas"&&(a(z)&&K()&&a(T)&&te()&&X(),me.invalidate())}),De(()=>(he(re()),he(fe()),he(ue()),he(xe()),a(P)),()=>{ce==="canvas"&&(g(be,me.register({name:"Area",render:ye,events:{click:re(),pointerenter:fe(),pointermove:ue(),pointerleave:xe()}})),a(P).subscribe(()=>{me.invalidate()}))}),Qr(),pr();var ve=rz(),Se=de(ve);{var Ee=Ce=>{Qs(Ce,Ot({get data(){return N()},get x(){return G()},get y(){return Z()},get curve(){return $()},get defined(){return ee()},get tweened(){return E()}},()=>typeof se()=="object"?se():null))};W(Se,Ce=>{se()&&Ce(Ee)})}var Be=x(Se);{var Ae=Ce=>{var _e=tz();let ge;ae(Oe=>ge=In(_e,ge,{d:y(),"clip-path":U(),fill:oe(),"fill-opacity":K(),stroke:J(),"stroke-width":te(),...n,class:Oe},void 0,!0),[()=>At("path-area",X())],Ie),tt("click",_e,function(...Oe){var Le;(Le=re())==null||Le.apply(this,Oe)}),tt("pointerenter",_e,function(...Oe){var Le;(Le=fe())==null||Le.apply(this,Oe)}),tt("pointermove",_e,function(...Oe){var Le;(Le=ue())==null||Le.apply(this,Oe)}),tt("pointerleave",_e,function(...Oe){var Le;(Le=xe())==null||Le.apply(this,Oe)}),b(Ce,_e)};W(Be,Ce=>{ce==="svg"&&Ce(Ae)})}b(t,ve),Ke(),o()}var az=br("<line></line><!><!>",1);function Wo(t,e){const r=Cc(e),n=er(e,["children","$$slots","$$events","$$legacy"]),i=er(n,["x1","initialX1","y1","initialY1","x2","initialX2","y2","initialY2","fill","stroke","strokeWidth","class","onclick","onpointerenter","onpointermove","onpointerleave","marker","markerStart","markerEnd","spring","tweened"]);Xe(e,!1);const[o,s]=ct(),l=()=>ie(G,"$tweened_x1",o),c=()=>ie(Q,"$tweened_y1",o),d=()=>ie(Z,"$tweened_x2",o),u=()=>ie(E,"$tweened_y2",o),f=Ve(),h=Ve(),p=Ve(),m=Ve();let y=R(e,"x1",8),_=R(e,"initialX1",24,y),S=R(e,"y1",8),w=R(e,"initialY1",24,S),C=R(e,"x2",8),L=R(e,"initialX2",24,C),k=R(e,"y2",8),P=R(e,"initialY2",24,k),z=R(e,"fill",8,void 0),T=R(e,"stroke",8,void 0),M=R(e,"strokeWidth",8,void 0),D=R(e,"class",8,void 0),A=R(e,"onclick",8,void 0),O=R(e,"onpointerenter",8,void 0),I=R(e,"onpointermove",8,void 0),B=R(e,"onpointerleave",8,void 0),j=R(e,"marker",8,void 0),V=R(e,"markerStart",24,j),F=R(e,"markerEnd",24,j),N=R(e,"spring",8,void 0),q=R(e,"tweened",8,void 0),G=Cn(_(),{spring:N(),tweened:q()}),Q=Cn(w(),{spring:N(),tweened:q()}),Z=Cn(L(),{spring:N(),tweened:q()}),E=Cn(P(),{spring:N(),tweened:q()});const U=Ji(),$=U?"canvas":"svg";function ee(te,X){const re=`M ${l()},${c()} L ${d()},${u()}`;ff(te,re,X?us({styles:{strokeWidth:M()}},X):{styles:{fill:z(),stroke:T(),strokeWidth:M()},classes:D()})}let se=Ve();Gn(()=>{$==="canvas"&&a(se)()}),De(()=>(he(V()),zn),()=>{g(f,V()||r.markerStart?zn("marker-"):"")}),De(()=>(he(F()),zn),()=>{g(h,F()||r.markerEnd?zn("marker-"):"")}),De(()=>(he(y()),he(S()),he(C()),he(k())),()=>{tl().then(()=>{G.set(y()),Q.set(S()),Z.set(C()),E.set(k())})}),De(()=>(he(z()),cn),()=>{g(p,z()&&typeof z()=="object"?cn(z()):z())}),De(()=>(he(T()),cn),()=>{g(m,T()&&typeof T()=="object"?cn(T()):T())}),De(()=>(l(),c(),d(),u(),a(p),a(m),he(M()),he(D())),()=>{$==="canvas"&&(l()&&c()&&d()&&u()&&a(p)&&a(m)&&M()&&D(),U.invalidate())}),De(()=>(he(A()),he(O()),he(I()),he(B())),()=>{$==="canvas"&&g(se,U.register({name:"Line",render:ee,events:{click:A(),pointerenter:O(),pointermove:I(),pointerleave:B()}}))}),Qr(),pr();var oe=ke(),K=de(oe);{var J=te=>{var X=az(),re=de(X);let fe;var ue=x(re);$t(ue,e,"markerStart",{get id(){return a(f)}},we=>{var me=ke(),ce=de(me);{var ye=be=>{const ve=Ie(()=>typeof V()=="string"?V():void 0);vo(be,Ot({get id(){return a(f)},get type(){return a(ve)}},()=>typeof V()=="object"?V():null))};W(ce,be=>{V()&&be(ye)})}b(we,me)});var xe=x(ue);$t(xe,e,"markerEnd",{get id(){return a(h)}},we=>{const me=Ie(()=>typeof F()=="string"?F():void 0);vo(we,Ot({get id(){return a(h)},get type(){return a(me)}},()=>typeof F()=="object"?F():null))}),ae(we=>fe=In(re,fe,{x1:l(),y1:c(),x2:d(),y2:u(),fill:z(),stroke:T(),"stroke-width":M(),"marker-start":a(f)?`url(#${a(f)})`:void 0,"marker-end":a(h)?`url(#${a(h)})`:void 0,class:we,...i},void 0,!0),[()=>At(T()===void 0&&"stroke-surface-content",D())],Ie),tt("click",re,function(...we){var me;(me=A())==null||me.apply(this,we)}),tt("pointerenter",re,function(...we){var me;(me=O())==null||me.apply(this,we)}),tt("pointermove",re,function(...we){var me;(me=I())==null||me.apply(this,we)}),tt("pointerleave",re,function(...we){var me;(me=B())==null||me.apply(this,we)}),b(te,X)};W(K,te=>{$==="svg"&&te(J)})}b(t,oe),Ke(),s()}var iz=br("<circle></circle>");function pf(t,e){const r=er(e,["children","$$slots","$$events","$$legacy"]),n=er(r,["cx","initialCx","cy","initialCy","r","initialR","spring","tweened","fill","fillOpacity","stroke","strokeWidth","class","onclick","onpointerdown","onpointerenter","onpointermove","onpointerleave"]);Xe(e,!1);const[i,o]=ct(),s=()=>ie(I,"$tweened_cx",i),l=()=>ie(B,"$tweened_cy",i),c=()=>ie(j,"$tweened_r",i),d=Ve(),u=Ve();let f=R(e,"cx",8,0),h=R(e,"initialCx",24,f),p=R(e,"cy",8,0),m=R(e,"initialCy",24,p),y=R(e,"r",8,1),_=R(e,"initialR",24,y),S=R(e,"spring",8,void 0),w=R(e,"tweened",8,void 0),C=R(e,"fill",8,void 0),L=R(e,"fillOpacity",8,void 0),k=R(e,"stroke",8,void 0),P=R(e,"strokeWidth",8,void 0),z=R(e,"class",8,void 0),T=R(e,"onclick",8,void 0),M=R(e,"onpointerdown",8,void 0),D=R(e,"onpointerenter",8,void 0),A=R(e,"onpointermove",8,void 0),O=R(e,"onpointerleave",8,void 0),I=Cn(h(),{spring:S(),tweened:w()}),B=Cn(m(),{spring:S(),tweened:w()}),j=Cn(_(),{spring:S(),tweened:w()});const V=Ji(),F=V?"canvas":"svg";function N(E,U){xO(E,{cx:s(),cy:l(),r:c()},U?us({styles:{strokeWidth:P()}},U):{styles:{fill:C(),fillOpacity:L(),stroke:k(),strokeWidth:P()},classes:z()})}let q=Ve();Gn(()=>{F==="canvas"&&a(q)()}),De(()=>(he(f()),he(p()),he(y())),()=>{tl().then(()=>{I.set(f()),B.set(p()),j.set(y())})}),De(()=>(he(C()),cn),()=>{g(d,C()&&typeof C()=="object"?cn(C()):C())}),De(()=>(he(k()),cn),()=>{g(u,k()&&typeof k()=="object"?cn(k()):k())}),De(()=>(s(),l(),c(),a(d),he(L()),a(u),he(P()),he(z())),()=>{F==="canvas"&&(s()&&l()&&c()&&a(d)&&L()&&a(u)&&P()&&z(),V.invalidate())}),De(()=>(he(T()),he(M()),he(D()),he(A()),he(O())),()=>{F==="canvas"&&g(q,V.register({name:"Circle",render:N,events:{click:T(),pointerdown:M(),pointerenter:D(),pointermove:A(),pointerleave:O()}}))}),Qr(),pr();var G=ke(),Q=de(G);{var Z=E=>{var U=iz();let $;ae(ee=>$=In(U,$,{cx:s(),cy:l(),r:c(),fill:C(),"fill-opacity":L(),stroke:k(),"stroke-width":P(),class:ee,...n},void 0,!0),[()=>At(C()==null&&"fill-surface-content",z())],Ie),tt("click",U,function(...ee){var se;(se=T())==null||se.apply(this,ee)}),tt("pointerdown",U,function(...ee){var se;(se=M())==null||se.apply(this,ee)}),tt("pointerenter",U,function(...ee){var se;(se=D())==null||se.apply(this,ee)}),tt("pointermove",U,function(...ee){var se;(se=A())==null||se.apply(this,ee)}),tt("pointerleave",U,function(...ee){var se;(se=O())==null||se.apply(this,ee)}),b(E,U)};W(Q,E=>{F==="svg"&&E(Z)})}b(t,G),Ke(),o()}var oz=br('<g class="rule"><!><!></g>');function No(t,e){const r=er(e,["children","$$slots","$$events","$$legacy"]),n=er(r,["x","xOffset","y","yOffset"]);Xe(e,!1);const[i,o]=ct(),s=()=>ie(w,"$xRange",i),l=()=>ie(C,"$yRange",i),c=()=>ie(_,"$xScale",i),d=()=>ie(S,"$yScale",i),u=()=>ie(L,"$radial",i),f=Ve(),h=Ve(),p=Ve(),m=Ve(),y=Ve(),{xScale:_,yScale:S,xRange:w,yRange:C,radial:L}=En();let k=R(e,"x",8,!1),P=R(e,"xOffset",8,0),z=R(e,"y",8,!1),T=R(e,"yOffset",8,0);De(()=>(a(f),a(h),s()),()=>{(B=>(g(f,B[0]),g(h,B[1])))(Ga(s()))}),De(()=>(a(p),a(m),l()),()=>{(B=>(g(p,B[0]),g(m,B[1])))(Ga(l()))}),De(()=>(c(),a(f),a(h),d(),a(p),a(m)),()=>{g(y,(B,j)=>{switch(typeof B){case"boolean":return B;case"string":return!0;default:return j==="x"?c()(B)>=a(f)&&c()(B)<=a(h):d()(B)>=a(p)&&d()(B)<=a(m)}})}),Qr(),pr();var M=oz(),D=v(M);{var A=B=>{var j=ke();const V=Ie(()=>k()===!0||k()==="left"?a(f):k()==="right"?a(h):c()(k())+P());var F=de(j);{var N=G=>{const Q=Ie(()=>{const[U,$]=yi(a(V),Number(a(p)));return{x1:U,y1:$}}),Z=Ie(()=>{const[U,$]=yi(a(V),Number(a(m)));return{x2:U,y2:$}}),E=Ie(()=>At("stroke-surface-content/10",r.class));Wo(G,Ot({get x1(){return a(Q).x1},get y1(){return a(Q).y1},get x2(){return a(Z).x2},get y2(){return a(Z).y2}},()=>n,{get class(){return a(E)}}))},q=G=>{const Q=Ie(()=>l()[0]||0),Z=Ie(()=>l()[1]||0),E=Ie(()=>At("stroke-surface-content/50",r.class));Wo(G,Ot({get x1(){return a(V)},get x2(){return a(V)},get y1(){return a(Q)},get y2(){return a(Z)}},()=>n,{get class(){return a(E)}}))};W(F,G=>{u()?G(N):G(q,!1)})}b(B,j)};W(D,B=>{a(y)(k(),"x")&&B(A)})}var O=x(D);{var I=B=>{var j=ke(),V=de(j);{var F=q=>{const G=Ie(()=>z()===!0||z()==="bottom"?a(m):z()==="top"?a(p):d()(z())+T()),Q=Ie(()=>At("fill-none stroke-surface-content/50",r.class));pf(q,{get r(){return a(G)},get class(){return a(Q)}})},N=q=>{const G=Ie(()=>s()[0]||0),Q=Ie(()=>s()[1]||0),Z=Ie(()=>z()===!0||z()==="bottom"?a(m):z()==="top"?a(p):d()(z())+T()),E=Ie(()=>z()===!0||z()==="bottom"?a(m):z()==="top"?a(p):d()(z())+T()),U=Ie(()=>At("stroke-surface-content/50",r.class));Wo(q,Ot({get x1(){return a(G)},get x2(){return a(Q)},get y1(){return a(Z)},get y2(){return a(E)}},()=>n,{get class(){return a(U)}}))};W(V,q=>{u()?q(F):q(N,!1)})}b(B,j)};W(O,B=>{a(y)(z(),"y")&&B(I)})}b(t,M),Ke(),o()}const ux="__text_measurement_id";function sz(t,e){try{let r=document.getElementById(ux);if(!r){const n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.style.width="0",n.style.height="0",n.style.position="absolute",n.style.top="-100%",n.style.left="-100%",r=document.createElementNS("http://www.w3.org/2000/svg","text"),r.setAttribute("id",ux),n.appendChild(r),document.body.appendChild(n)}return Object.assign(r.style,e),r.textContent=t,r.getComputedTextLength()}catch{return null}}const pd=Tc(sz,(t,e)=>`${t}_${JSON.stringify(e)}`);var lz=br("<tspan> </tspan>"),cz=br("<text></text>"),dz=br('<svg class="overflow-visible [paint-order:stroke]"><!></svg>');function z0(t,e){const r=er(e,["children","$$slots","$$events","$$legacy"]),n=er(r,["value","width","x","initialX","y","initialY","dx","dy","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","rotate","fill","fillOpacity","stroke","strokeWidth","class","spring","tweened"]);Xe(e,!1);const[i,o]=ct(),s=()=>ie(se,"$tweened_x",i),l=()=>ie(oe,"$tweened_y",i),c=Ve(),d=Ve(),u=Ve(),f=Ve(),h=Ve(),p=Ve();let m=R(e,"value",8,0),y=R(e,"width",8,void 0),_=R(e,"x",8,0),S=R(e,"initialX",24,_),w=R(e,"y",8,0),C=R(e,"initialY",24,w),L=R(e,"dx",8,0),k=R(e,"dy",8,0),P=R(e,"lineHeight",8,"1em"),z=R(e,"capHeight",8,"0.71em"),T=R(e,"scaleToFit",8,!1),M=R(e,"textAnchor",8,"start"),D=R(e,"verticalAnchor",8,"end"),A=R(e,"rotate",8,void 0),O=R(e,"fill",8,void 0),I=R(e,"fillOpacity",8,void 0),B=R(e,"stroke",8,void 0),j=R(e,"strokeWidth",8,void 0),V=R(e,"class",8,void 0),F=Ve([]),N=Ve([]),q=Ve(0),G;function Q(xe){if(typeof xe=="number")return xe;const[we,me,ce]=xe.match(/([\d.]+)(\D+)/),ye=Number(me);switch(ce){case"px":return ye;case"em":case"rem":return ye*16;default:return 0}}let Z=Ve(0),E=Ve("");function U(xe){return typeof xe=="number"&&Number.isFinite(xe)||typeof xe=="string"}let $=R(e,"spring",8,void 0),ee=R(e,"tweened",8,void 0),se=Cn(S(),{spring:$(),tweened:ee()}),oe=Cn(C(),{spring:$(),tweened:ee()});const K=Ji(),J=K?"canvas":"svg";function te(xe,we){a(F).forEach((me,ce)=>{gO(xe,me.words.join(" "),{x:Q(s())+Q(L()),y:Q(l())+Q(k())+(ce===0?a(Z):Q(P()))},we?us({styles:{strokeWidth:j()}},we):{styles:{fill:O(),fillOpacity:I(),stroke:B(),strokeWidth:j(),paintOrder:"stroke",textAnchor:M()},classes:At(O()===void 0&&"fill-surface-content",V())})})}let X=Ve();Gn(()=>{J==="canvas"&&a(X)()}),De(()=>he(m()),()=>{g(c,m()!=null?m().toString().split(/(?:(?!\u00A0+)\s+)/):[])}),De(()=>(a(c),pd),()=>{g(N,a(c).map(xe=>({word:xe,width:pd(xe,G)||0})))}),De(()=>pd,()=>{g(q,pd("Â ",G)||0)}),De(()=>(a(N),he(y()),he(T()),a(q)),()=>{g(F,a(N).reduce((xe,we)=>{const me=xe[xe.length-1];if(me&&(y()==null||T()||(me.width||0)+we.width+a(q)<y()))me.words.push(we.word),me.width=me.width||0,me.width+=we.width+a(q);else{const ce={words:[we.word],width:we.width};xe.push(ce)}return xe},[]))}),De(()=>a(F),()=>{g(d,a(F).length)}),De(()=>(he(D()),he(z()),a(d),he(P())),()=>{D()==="start"?g(Z,Q(z())):D()==="middle"?g(Z,(a(d)-1)/2*-Q(P())+Q(z())/2):g(Z,(a(d)-1)*-Q(P()))}),De(()=>(he(T()),a(d),he(_()),he(w()),he(y()),a(F)),()=>{if(T()&&a(d)>0&&typeof _()=="number"&&typeof w()=="number"&&typeof y()=="number"){const xe=a(F)[0].width||1,we=y()/xe,me=we,ce=_()-we*_(),ye=w()-me*w();g(E,`matrix(${we}, 0, 0, ${me}, ${ce}, ${ye})`)}else g(E,"")}),De(()=>(he(A()),he(_()),he(w())),()=>{g(u,A()?`rotate(${A()}, ${_()}, ${w()})`:"")}),De(()=>(a(E),a(u)),()=>{g(f,`${a(E)} ${a(u)}`)}),De(()=>(he(_()),he(w())),()=>{tl().then(()=>{se.set(_()),oe.set(w())})}),De(()=>(he(O()),cn),()=>{g(h,O()&&typeof O()=="object"?cn(O()):O())}),De(()=>(he(B()),cn),()=>{g(p,B()&&typeof B()=="object"?cn(B()):B())}),De(()=>(he(m()),s(),l(),a(h),a(p),he(j()),he(V())),()=>{J==="canvas"&&(m()&&s()&&l()&&a(h)&&a(p)&&j()&&V(),K.invalidate())}),De(()=>{},()=>{J==="canvas"&&g(X,K.register({name:"Text",render:te}))}),Qr(),pr();var re=ke(),fe=de(re);{var ue=xe=>{var we=dz(),me=v(we);{var ce=ye=>{var be=cz();let ve;St(be,5,()=>a(F),zt,(Se,Ee,Be)=>{var Ae=lz(),Ce=v(Ae);ae(_e=>{pe(Ae,"x",s()),pe(Ae,"dy",Be===0?a(Z):P()),Y(Ce,_e)},[()=>a(Ee).words.join(" ")],Ie),b(Se,Ae)}),ae(Se=>ve=In(be,ve,{x:s(),y:l(),transform:a(f),"text-anchor":M(),...n,fill:O(),"fill-opacity":I(),stroke:B(),"stroke-width":j(),class:Se},void 0,!0),[()=>At(O()===void 0&&"fill-surface-content",V())],Ie),b(ye,be)};W(me,ye=>{U(_())&&U(w())&&ye(ce)})}ae(()=>{pe(we,"x",L()),pe(we,"y",k())}),b(xe,we)};W(fe,xe=>{J==="svg"&&xe(ue)})}b(t,re),Ke(),o()}var uz=br("<g><!><!><!></g>"),fz=br("<g><!><!><!></g>");function fx(t,e){const r=er(e,["children","$$slots","$$events","$$legacy"]);Xe(e,!1);const[n,i]=ct(),o=()=>ie(L,"$xScale",n),s=()=>ie(k,"$yScale",n),l=()=>ie(P,"$xRange",n),c=()=>ie(z,"$yRange",n),d=()=>ie(D,"$padding",n),u=()=>ie(T,"$width",n),f=()=>ie(M,"$height",n),h=Ve(),p=Ve(),m=Ve(),y=Ve(),_=Ve(),S=Ve(),w=Ve(),C=Ve(),{xScale:L,yScale:k,xRange:P,yRange:z,width:T,height:M,padding:D}=En();let A=R(e,"placement",8),O=R(e,"label",8,""),I=R(e,"labelPlacement",8,"middle"),B=R(e,"labelProps",8,void 0),j=R(e,"rule",8,!1),V=R(e,"grid",8,!1),F=R(e,"ticks",8,void 0),N=R(e,"tickLength",8,4),q=R(e,"format",8,void 0),G=R(e,"tickLabelProps",8,void 0),Q=R(e,"spring",8,void 0),Z=R(e,"tweened",8,void 0),E=R(e,"transitionIn",24,()=>Z()?es:()=>({})),U=R(e,"transitionInParams",24,()=>({easing:N_})),$=R(e,"scale",8,void 0),ee=R(e,"classes",24,()=>({}));function se(ue){switch(A()){case"top":return{x:a(p)(ue)+(_r(a(p))?a(p).bandwidth()/2:0),y:a(_)};case"bottom":return{x:a(p)(ue)+(_r(a(p))?a(p).bandwidth()/2:0),y:a(S)};case"left":return{x:a(m),y:a(p)(ue)+(_r(a(p))?a(p).bandwidth()/2:0)};case"right":return{x:a(y),y:a(p)(ue)+(_r(a(p))?a(p).bandwidth()/2:0)};case"angle":return{x:a(p)(ue),y:a(S)};case"radius":return{x:a(m),y:a(p)(ue)}}}function oe(ue){switch(A()){case"top":return{textAnchor:"middle",verticalAnchor:"end",dy:-N()-2};case"bottom":return{textAnchor:"middle",verticalAnchor:"start",dy:N()};case"left":return{textAnchor:"end",verticalAnchor:"middle",dx:-N(),dy:-2};case"right":return{textAnchor:"start",verticalAnchor:"middle",dx:N(),dy:-2};case"angle":const xe=a(p)(ue);return{textAnchor:xe===0||Math.abs(xe-Math.PI)<.01||Math.abs(xe-Math.PI*2)<.01?"middle":xe>Math.PI?"end":"start",verticalAnchor:"middle",dx:Math.sin(xe)*(N()+2),dy:-Math.cos(xe)*(N()+4)};case"radius":return{textAnchor:"middle",verticalAnchor:"middle",dx:2,dy:-2}}}De(()=>he(A()),()=>{g(h,A()==="angle"?"angle":A()==="radius"?"radius":["top","bottom"].includes(A())?"horizontal":"vertical")}),De(()=>(he($()),a(h),o(),s()),()=>{g(p,$()??(["horizontal","angle"].includes(a(h))?o():s()))}),De(()=>(a(m),a(y),l()),()=>{(ue=>(g(m,ue[0]),g(y,ue[1])))(Ga(l()))}),De(()=>(a(_),a(S),c()),()=>{(ue=>(g(_,ue[0]),g(S,ue[1])))(Ga(c()))}),De(()=>(he(F()),a(p),he(A())),()=>{g(w,Array.isArray(F())?F():typeof F()=="function"?F()(a(p)):GL(F())?a(p).ticks(F().interval):_r(a(p))?F()?a(p).domain().filter((ue,xe)=>xe%F()===0):a(p).domain():a(p).ticks(F()??(A()==="left"||A()==="right"?4:void 0)))}),De(()=>(he(O()),he(A()),a(h),he(I()),d(),u(),f(),he(B()),he(ee())),()=>{var ue;g(C,{value:O(),x:A()==="left"||a(h)==="horizontal"&&I()==="start"?-d().left:A()==="right"||a(h)==="horizontal"&&I()==="end"?u()+d().right:u()/2,y:A()==="top"||a(h)==="vertical"&&I()==="start"?-d().top:a(h)==="vertical"&&I()==="middle"?f()/2:A()==="bottom"||I()==="end"?f()+d().bottom:0,textAnchor:I()==="middle"?"middle":A()==="right"||a(h)==="horizontal"&&I()==="end"?"end":"start",verticalAnchor:A()==="top"||a(h)==="vertical"&&I()==="start"||A()==="left"&&I()==="middle"?"start":"end",rotate:a(h)==="vertical"&&I()==="middle"?-90:0,capHeight:".5rem",...B(),class:At("label text-[10px] stroke-surface-100 [stroke-width:2px] font-light",ee().label,(ue=B())==null?void 0:ue.class)})}),Qr(),pr();var K=fz(),J=v(K);{var te=ue=>{const xe=Ie(()=>typeof j()=="object"?j():null),we=Ie(()=>A()==="left"||A()==="right"?A():A()==="angle"),me=Ie(()=>A()==="top"||A()==="bottom"?A():A()==="radius"),ce=Ie(()=>{var ye;return At("rule stroke-surface-content/50",ee().rule,(ye=a(xe))==null?void 0:ye.class)});No(ue,Ot({get x(){return a(we)},get y(){return a(me)},get tweened(){return Z()},get spring(){return Q()}},()=>a(xe),{get class(){return a(ce)}}))};W(J,ue=>{j()!==!1&&ue(te)})}var X=x(J);{var re=ue=>{z0(ue,Ot(()=>a(C)))};W(X,ue=>{O()&&ue(re)})}var fe=x(X);St(fe,3,()=>a(w),ue=>ue,(ue,xe,we)=>{var me=uz();const ce=Ie(()=>se(a(xe))),ye=Ie(()=>{const[ge,Oe]=yi(a(ce).x,a(ce).y);return{radialTickCoordsX:ge,radialTickCoordsY:Oe}}),be=Ie(()=>{const[ge,Oe]=yi(a(ce).x,a(ce).y+N());return{radialTickMarkCoordsX:ge,radialTickMarkCoordsY:Oe}}),ve=Ie(()=>{var ge,Oe,Le;return{x:a(h)==="angle"?a(ye).radialTickCoordsX:a(ce).x,y:a(h)==="angle"?a(ye).radialTickCoordsY:a(ce).y,value:Ua(a(xe),q()??((Oe=(ge=a(p)).tickFormat)==null?void 0:Oe.call(ge))??(Re=>Re)),...oe(a(xe)),tweened:Z(),spring:Q(),...G(),class:At("tickLabel text-[10px] stroke-surface-100 [stroke-width:2px] font-light",ee().tickLabel,(Le=G())==null?void 0:Le.class)}});var Se=v(me);{var Ee=ge=>{const Oe=Ie(()=>typeof V()=="object"?V():null),Le=Ie(()=>a(h)==="horizontal"||a(h)==="angle"?a(xe):!1),Re=Ie(()=>a(h)==="vertical"||a(h)==="radius"?a(xe):!1),Me=Ie(()=>{var Te;return At("grid stroke-surface-content/10",ee().rule,(Te=a(Oe))==null?void 0:Te.class)});No(ge,Ot({get x(){return a(Le)},get y(){return a(Re)},get tweened(){return Z()},get spring(){return Q()}},()=>a(Oe),{get class(){return a(Me)}}))};W(Se,ge=>{V()!==!1&&ge(Ee)})}var Be=x(Se);{var Ae=ge=>{const Oe=Ie(()=>a(ce).y+(A()==="top"?-N():N())),Le=Ie(()=>At("tick stroke-surface-content/50",ee().tick));Wo(ge,{get x1(){return a(ce).x},get y1(){return a(ce).y},get x2(){return a(ce).x},get y2(){return a(Oe)},get tweened(){return Z()},get spring(){return Q()},get class(){return a(Le)}})},Ce=ge=>{var Oe=ke(),Le=de(Oe);{var Re=Te=>{const ze=Ie(()=>a(ce).x+(A()==="left"?-N():N())),Fe=Ie(()=>At("tick stroke-surface-content/50",ee().tick));Wo(Te,{get x1(){return a(ce).x},get y1(){return a(ce).y},get x2(){return a(ze)},get y2(){return a(ce).y},get tweened(){return Z()},get spring(){return Q()},get class(){return a(Fe)}})},Me=Te=>{var ze=ke(),Fe=de(ze);{var Ye=Je=>{const et=Ie(()=>At("tick stroke-surface-content/50",ee().tick));Wo(Je,{get x1(){return a(ye).radialTickCoordsX},get y1(){return a(ye).radialTickCoordsY},get x2(){return a(be).radialTickMarkCoordsX},get y2(){return a(be).radialTickMarkCoordsY},get tweened(){return Z()},get spring(){return Q()},get class(){return a(et)}})};W(Fe,Je=>{a(h)==="angle"&&Je(Ye)},!0)}b(Te,ze)};W(Le,Te=>{a(h)==="vertical"?Te(Re):Te(Me,!1)},!0)}b(ge,Oe)};W(Be,ge=>{a(h)==="horizontal"?ge(Ae):ge(Ce,!1)})}var _e=x(Be);$t(_e,e,"tickLabel",{get labelProps(){return a(ve)},get index(){return a(we)}},ge=>{z0(ge,Ot(()=>a(ve)))}),Rt(1,me,E,U),b(ue,me)}),ae(ue=>qa(K,Mr(ue)),[()=>At("Axis placement-{placement}",ee().root,r.class)],Ie),b(t,K),Ke(),i()}const vz=Symbol();function hz(t){rs(vz,t)}var pz=H("<div></div> <div></div>",1),gz=H("<div></div> <div></div>",1),mz=H("<div></div> <!> <!>",1),xz=H('<div><div class="absolute"><!></div> <!></div>');function yz(t,e){Xe(e,!1);const[r,n]=ct(),i=()=>ie(P,"$xScale",r),o=()=>ie(z,"$yScale",r),s=()=>ie(I,"$config",r),l=()=>ie(T,"$width",r),c=()=>ie(M,"$height",r),d=()=>ie(J(),"$brush",r),u=()=>ie(D,"$padding",r),f=()=>ie(A,"$containerWidth",r),h=()=>ie(O,"$containerHeight",r),p=Ve(),m=Ve(),y=Ve(),_=Ve(),S=Ve(),w=Ve(),C=Ve(),L=Ve(),k=Ve(),{xScale:P,yScale:z,width:T,height:M,padding:D,containerWidth:A,containerHeight:O,config:I}=En();let B=R(e,"axis",8,"x"),j=R(e,"handleSize",8,5),V=R(e,"resetOnEnd",8,!1),F=R(e,"xDomain",28,()=>i().domain()),N=R(e,"yDomain",28,()=>o().domain()),q=R(e,"mode",8,"integrated"),G=R(e,"disabled",8,!1);const Q=s().xDomain,Z=s().yDomain;let E=R(e,"range",8,void 0),U=R(e,"handle",8,void 0),$=R(e,"classes",24,()=>({})),ee=R(e,"onchange",8,()=>{}),se=R(e,"onbrushstart",8,()=>{}),oe=R(e,"onbrushend",8,()=>{}),K=R(e,"onreset",8,()=>{}),J=R(e,"brush",24,()=>bt({xDomain:null,yDomain:null,isActive:!1,range:{x:0,y:0,width:0,height:0},handleSize:0}));hz(J());let te=Ve();const X=new $2("BrushContext"),re=1;function fe(_e){return ge=>{var Te,ze,Fe,Ye,Je,et,Ze,Ge;X.debug("drag start"),ge.stopPropagation();const Oe=Kl(a(te),ge);if(Oe&&(Oe.x<0||Oe.x>l()||Oe.y<0||Oe.y>c())){X.debug("ignoring click as outside of chart bounds",{startPoint:Oe,$width:l(),$height:c()});return}const Le={xDomain:[((Te=F())==null?void 0:Te[0])??a(p),((ze=F())==null?void 0:ze[1])??a(m)],yDomain:[((Fe=N())==null?void 0:Fe[0])??a(y),((Ye=N())==null?void 0:Ye[1])??a(_)],value:{x:(et=(Je=i()).invert)==null?void 0:et.call(Je,(Oe==null?void 0:Oe.x)??0),y:(Ge=(Ze=o()).invert)==null?void 0:Ge.call(Ze,(Oe==null?void 0:Oe.y)??0)}};se()({xDomain:F(),yDomain:N()});const Re=Pe=>{var He,nt,Qe,rt;const We=Kl(a(te),Pe);_e(Le,{x:(nt=(He=i()).invert)==null?void 0:nt.call(He,(We==null?void 0:We.x)??0),y:(rt=(Qe=o()).invert)==null?void 0:rt.call(Qe,(We==null?void 0:We.y)??0)}),ee()({xDomain:F(),yDomain:N()})},Me=Pe=>{const We=Kl(a(te),Pe),He=Math.abs(((Oe==null?void 0:Oe.x)??0)-((We==null?void 0:We.x)??0)),nt=Math.abs(((Oe==null?void 0:Oe.y)??0)-((We==null?void 0:We.y)??0));!Array.from(Pe.target.classList).some(rt=>["range","handle"].includes(rt))&&He<re&&nt<re||a(k).width<re||a(k).height<re?(X.debug("resetting due to frame click"),be(),ee()({xDomain:F(),yDomain:N()})):X.debug("drag end",{target:Pe.target,xPointDelta:He,yPointDelta:nt,rangeWidth:a(k).width,rangeHeight:a(k).height}),oe()({xDomain:F(),yDomain:N()}),V()&&be(),window.removeEventListener("pointermove",Re),window.removeEventListener("pointerup",Me)};window.addEventListener("pointermove",Re),window.addEventListener("pointerup",Me)}}const ue=fe((_e,ge)=>{X.debug("createRange"),g(Se,!0),F([ga(nn([_e.value.x,ge.x]),a(p),a(m)),ga(sn([_e.value.x,ge.x]),a(p),a(m))]),N([ga(nn([_e.value.y,ge.y]),a(y),a(_)),ga(sn([_e.value.y,ge.y]),a(y),a(_))])}),xe=fe((_e,ge)=>{X.debug("adjustRange");const Oe=ga(ge.x-_e.value.x,a(p)-_e.xDomain[0],a(m)-_e.xDomain[1]);F([hd(_e.xDomain[0],Oe),hd(_e.xDomain[1],Oe)]);const Le=ga(ge.y-_e.value.y,a(y)-_e.yDomain[0],a(_)-_e.yDomain[1]);N([hd(_e.yDomain[0],Le),hd(_e.yDomain[1],Le)])}),we=fe((_e,ge)=>{X.debug("adjustTop"),N([ga(ge.y<_e.yDomain[0]?ge.y:_e.yDomain[0],a(y),a(_)),ga(ge.y<_e.yDomain[0]?_e.yDomain[0]:ge.y,a(y),a(_))])}),me=fe((_e,ge)=>{X.debug("adjustBottom"),N([ga(ge.y>_e.yDomain[1]?_e.yDomain[1]:ge.y,a(y),a(_)),ga(ge.y>_e.yDomain[1]?ge.y:_e.yDomain[1],a(y),a(_))])}),ce=fe((_e,ge)=>{X.debug("adjustLeft"),F([ga(ge.x>_e.xDomain[1]?_e.xDomain[1]:ge.x,a(p),a(m)),ga(ge.x>_e.xDomain[1]?ge.x:_e.xDomain[1],a(p),a(m))])}),ye=fe((_e,ge)=>{X.debug("adjustRight"),F([ga(ge.x<_e.xDomain[0]?ge.x:_e.xDomain[0],a(p),a(m)),ga(ge.x<_e.xDomain[0]?_e.xDomain[0]:ge.x,a(p),a(m))])});function be(){X.debug("reset"),g(Se,!1),F(Q),N(Z),K()({xDomain:F(),yDomain:N()})}function ve(){X.debug("selectedAll"),F([a(p),a(m)]),N([a(y),a(_)])}let Se=Ve(!1);De(()=>(a(p),a(m),i()),()=>{(_e=>(g(p,_e[0]),g(m,_e[1])))(Ga(i().domain()))}),De(()=>(a(y),a(_),o()),()=>{(_e=>(g(y,_e[0]),g(_,_e[1])))(Ga(o().domain()))}),De(()=>(o(),he(N())),()=>{var _e;g(S,o()((_e=N())==null?void 0:_e[1]))}),De(()=>(o(),he(N())),()=>{var _e;g(w,o()((_e=N())==null?void 0:_e[0]))}),De(()=>(i(),he(F())),()=>{var _e;g(C,i()((_e=F())==null?void 0:_e[0]))}),De(()=>(i(),he(F())),()=>{var _e;g(L,i()((_e=F())==null?void 0:_e[1]))}),De(()=>(he(B()),a(C),a(S),a(L),l(),a(w),c()),()=>{g(k,{x:B()==="both"||B()==="x"?a(C):0,y:B()==="both"||B()==="y"?a(S):0,width:B()==="both"||B()==="x"?a(L)-a(C):l(),height:B()==="both"||B()==="y"?a(w)-a(S):c()})}),De(()=>(he(q()),he(F()),he(N()),he(B())),()=>{var _e,ge,Oe,Le,Re,Me,Te,ze,Fe,Ye,Je,et;if(q()==="separated"){const Ze=((ge=(_e=F())==null?void 0:_e[0])==null?void 0:ge.valueOf())!==((Oe=Q==null?void 0:Q[0])==null?void 0:Oe.valueOf())||((Re=(Le=F())==null?void 0:Le[1])==null?void 0:Re.valueOf())!==((Me=Q==null?void 0:Q[1])==null?void 0:Me.valueOf()),Ge=((ze=(Te=N())==null?void 0:Te[0])==null?void 0:ze.valueOf())!==((Fe=Z==null?void 0:Z[0])==null?void 0:Fe.valueOf())||((Je=(Ye=N())==null?void 0:Ye[1])==null?void 0:Je.valueOf())!==((et=Z==null?void 0:Z[1])==null?void 0:et.valueOf());g(Se,B()==="x"?Ze:B()=="y"?Ge:Ze||Ge)}}),De(()=>(he(F()),he(N()),a(Se),a(k),he(j())),()=>{It(J(),{xDomain:F(),yDomain:N(),isActive:a(Se),range:a(k),handleSize:j()})}),Qr(),pr();var Ee=ke(),Be=de(Ee);{var Ae=_e=>{var ge=ke(),Oe=de(ge);$t(Oe,e,"default",{},null),b(_e,ge)},Ce=_e=>{var ge=xz(),Oe=v(ge),Le=v(Oe);$t(Le,e,"default",{get brush(){return d()}},null);var Re=x(Oe,2);{var Me=Te=>{var ze=mz(),Fe=de(ze);let Ye;var Je=x(Fe,2);{var et=Pe=>{var We=pz(),He=de(We);let nt;var Qe=x(He,2);let rt;ae((ot,Lt)=>{nt=In(He,nt,{...U(),class:ot}),ar(He,"left",`${a(k).x??""}px`),ar(He,"top",`${a(k).y??""}px`),ar(He,"width",`${a(k).width??""}px`),ar(He,"height",`${j()??""}px`),rt=In(Qe,rt,{...U(),class:Lt}),ar(Qe,"left",`${a(k).x??""}px`),ar(Qe,"top",`${a(w)-j()}px`),ar(Qe,"width",`${a(k).width??""}px`),ar(Qe,"height",`${j()??""}px`)},[()=>{var ot;return At("handle top","cursor-ns-resize select-none","range absolute","z-10",$().handle,(ot=U())==null?void 0:ot.class)},()=>{var ot;return At("handle bottom","cursor-ns-resize select-none","range absolute","z-10",$().handle,(ot=U())==null?void 0:ot.class)}],Ie),tt("pointerdown",He,we),tt("dblclick",He,ot=>{ot.stopPropagation(),N()&&(N(N()[0]=a(y),!0),ee()({xDomain:F(),yDomain:N()}))}),tt("pointerdown",Qe,me),tt("dblclick",Qe,ot=>{ot.stopPropagation(),N()&&(N(N()[1]=a(_),!0),ee()({xDomain:F(),yDomain:N()}))}),b(Pe,We)};W(Je,Pe=>{(B()==="both"||B()==="y")&&Pe(et)})}var Ze=x(Je,2);{var Ge=Pe=>{var We=gz(),He=de(We);let nt;var Qe=x(He,2);let rt;ae((ot,Lt)=>{nt=In(He,nt,{...U(),class:ot}),ar(He,"left",`${a(k).x??""}px`),ar(He,"top",`${a(k).y??""}px`),ar(He,"width",`${j()??""}px`),ar(He,"height",`${a(k).height??""}px`),rt=In(Qe,rt,{...U(),class:Lt}),ar(Qe,"left",`${a(L)-j()+1}px`),ar(Qe,"top",`${a(k).y??""}px`),ar(Qe,"width",`${j()??""}px`),ar(Qe,"height",`${a(k).height??""}px`)},[()=>{var ot;return At("handle left","cursor-ew-resize select-none","range absolute","z-10",$().handle,(ot=U())==null?void 0:ot.class)},()=>{var ot;return At("handle right","cursor-ew-resize select-none","range absolute","z-10",$().handle,(ot=U())==null?void 0:ot.class)}],Ie),tt("pointerdown",He,ce),tt("dblclick",He,ot=>{ot.stopPropagation(),F()&&(F(F()[0]=a(p),!0),ee()({xDomain:F(),yDomain:N()}))}),tt("pointerdown",Qe,ye),tt("dblclick",Qe,ot=>{ot.stopPropagation(),F()&&(F(F()[1]=a(m),!0),ee()({xDomain:F(),yDomain:N()}))}),b(Pe,We)};W(Ze,Pe=>{(B()==="both"||B()==="x")&&Pe(Ge)})}ae(Pe=>{Ye=In(Fe,Ye,{...E(),class:Pe}),ar(Fe,"left",`${a(k).x??""}px`),ar(Fe,"top",`${a(k).y??""}px`),ar(Fe,"width",`${a(k).width??""}px`),ar(Fe,"height",`${a(k).height??""}px`)},[()=>{var Pe;return At("range","absolute bg-surface-content/10 cursor-move select-none","z-10",$().range,(Pe=E())==null?void 0:Pe.class)}],Ie),tt("pointerdown",Fe,xe),tt("dblclick",Fe,()=>be()),b(Te,ze)};W(Re,Te=>{a(Se)&&Te(Me)})}Ar(ge,Te=>g(te,Te),()=>a(te)),ae(Te=>{$e(ge,Mr(Te)),ar(ge,"top",`${u().top??""}px`),ar(ge,"left",`${u().left??""}px`),ar(ge,"width",`${l()??""}px`),ar(ge,"height",`${c()??""}px`),ar(Oe,"top",`-${u().top??0}px`),ar(Oe,"left",`-${u().left??0}px`),ar(Oe,"width",`${f()??""}px`),ar(Oe,"height",`${h()??""}px`)},[()=>At("BrushContext absolute touch-none")],Ie),tt("pointerdown",ge,ue),tt("dblclick",ge,()=>ve()),b(_e,ge)};W(Be,_e=>{G()?_e(Ae):_e(Ce,!1)})}b(t,Ee),Ke(),n()}function _z(t,e){const r=er(e,["children","$$slots","$$events","$$legacy"]),n=er(r,["data","x","xRange","y","yScale","yRange","x1","x1Scale","x1Domain","x1Range","y1","y1Scale","y1Domain","y1Range","c","cScale","cDomain","cRange","xBaseline","yBaseline","radial","geo","geoProjection","tooltip","tooltipContext","transform","transformContext","brush","brushContext","onresize","ondragstart","ondragend","ontransform"]);Xe(e,!1);const[i,o]=ct(),s=()=>ie(q(),"$geoProjection",i),l=Ve(),c=Ve(),d=Ve(),u=Ve();let f=R(e,"data",24,()=>[]),h=R(e,"x",8,void 0),p=R(e,"xRange",8,void 0),m=R(e,"y",8,void 0),y=R(e,"yScale",8,void 0),_=R(e,"yRange",8,void 0),S=R(e,"x1",8,void 0),w=R(e,"x1Scale",8,void 0),C=R(e,"x1Domain",8,void 0),L=R(e,"x1Range",8,void 0),k=R(e,"y1",8,void 0),P=R(e,"y1Scale",8,void 0),z=R(e,"y1Domain",8,void 0),T=R(e,"y1Range",8,void 0),M=R(e,"c",8,void 0),D=R(e,"cScale",8,void 0),A=R(e,"cDomain",8,void 0),O=R(e,"cRange",8,void 0),I=R(e,"xBaseline",8,null),B=Ve(void 0),j=R(e,"yBaseline",8,null),V=Ve(void 0),F=R(e,"radial",8,!1),N=R(e,"geo",8,void 0),q=R(e,"geoProjection",12,void 0),G=R(e,"tooltip",8,void 0),Q=R(e,"tooltipContext",12,void 0),Z=R(e,"transform",8,void 0),E=R(e,"transformContext",12,void 0),U=R(e,"brush",8,void 0),$=R(e,"brushContext",12,void 0),ee=R(e,"onresize",8,void 0),se=R(e,"ondragstart",8,void 0),oe=R(e,"ondragend",8,void 0),K=R(e,"ontransform",8,void 0),J=Ve(!1);Zt(()=>{g(J,!0)}),De(()=>(he(I()),he(f()),he(h()),sn),()=>{if(I()!=null&&Array.isArray(f())){const X=f().flatMap(ln(h()));g(B,[nn([I(),...X]),sn([I(),...X])])}}),De(()=>(he(j()),he(f()),he(m()),sn),()=>{if(j()!=null&&Array.isArray(f())){const X=f().flatMap(ln(m()));g(V,[nn([j(),...X]),sn([j(),...X])])}}),De(()=>(he(y()),_r),()=>{g(l,y()?!_r(y()):!0)}),De(()=>he(h()),()=>{g(c,h())}),De(()=>he(m()),()=>{g(d,m())}),De(()=>(he(_()),he(F())),()=>{g(u,_()??(F()?({height:X})=>[0,X/2]:void 0))}),Qr(),pr();const te=Ie(()=>p()??(F()?[0,2*Math.PI]:void 0));WM(t,Ot({get data(){return f()},get x(){return a(c)},get xDomain(){return a(B)},get xRange(){return a(te)},get y(){return a(d)},get yScale(){return y()},get yDomain(){return a(V)},get yRange(){return a(u)},get yReverse(){return a(l)},xDomainSort:!1,yDomainSort:!1,zDomainSort:!1,rDomainSort:!1},()=>n,{children:za,$$slots:{default:(X,re)=>{const fe=Ie(()=>re.aspectRatio),ue=Ie(()=>re.containerHeight),xe=Ie(()=>re.containerWidth),we=Ie(()=>re.height),me=Ie(()=>re.width),ce=Ie(()=>re.element),ye=Ie(()=>re.x),be=Ie(()=>re.xScale),ve=Ie(()=>re.xGet),Se=Ie(()=>re.y),Ee=Ie(()=>re.yScale),Be=Ie(()=>re.yGet),Ae=Ie(()=>re.z),Ce=Ie(()=>re.zScale),_e=Ie(()=>re.zGet),ge=Ie(()=>re.r),Oe=Ie(()=>re.rScale),Le=Ie(()=>re.rGet),Re=Ie(()=>re.padding),Me=Ie(()=>{var Te,ze,Fe,Ye;return(ze=(Te=N())==null?void 0:Te.applyTransform)!=null&&ze.includes("translate")&&((Fe=N())!=null&&Fe.fitGeojson)&&((Ye=N())!=null&&Ye.projection)?DN(N().projection(),[a(me),a(we)],N().fitGeojson):void 0});cO(X,{get data(){return f()},get radial(){return F()},get x1(){return S()},get x1Scale(){return w()},get x1Domain(){return C()},get x1Range(){return L()},get y1(){return k()},get y1Scale(){return P()},get y1Domain(){return z()},get y1Range(){return T()},get c(){return M()},get cScale(){return D()},get cDomain(){return A()},get cRange(){return O()},get onresize(){return ee()},children:za,$$slots:{default:(Te,ze)=>{const Fe=Ie(()=>ze.data),Ye=Ie(()=>ze.flatData),Je=Ie(()=>ze.config),et=Ie(()=>ze.x1),Ze=Ie(()=>ze.x1Scale),Ge=Ie(()=>ze.x1Get),Pe=Ie(()=>ze.y1),We=Ie(()=>ze.y1Scale),He=Ie(()=>ze.y1Get),nt=Ie(()=>ze.c),Qe=Ie(()=>ze.cScale),rt=Ie(()=>ze.cGet);var ot=ke(),Lt=de(ot);Vu(Lt,()=>a(J),Et=>{const dt=Ie(()=>{var at,gt,Gt;return((at=Z())==null?void 0:at.mode)??((Gt=(gt=N())==null?void 0:gt.applyTransform)==null?void 0:Gt.length)?"manual":"none"}),wt=Ie(()=>{var at;return(at=a(Me))==null?void 0:at.translate}),it=Ie(()=>{var at;return(at=a(Me))==null?void 0:at.scale}),ht=Ie(()=>N()?(at,gt,Gt,Kt,sr)=>{var wr,ft;if((wr=N().applyTransform)!=null&&wr.includes("rotate")){const Mt=s().scale(),yt=75;return{x:at+Gt*(yt/Mt),y:gt+Kt*(yt/Mt)*-1}}else return(ft=N().applyTransform)!=null&&ft.includes("translate")?{x:at+Gt,y:gt+Kt}:{x:at+Gt/sr,y:gt+Kt/sr}}:void 0);Ar(vO(Et,Ot({get mode(){return a(dt)},get initialTranslate(){return a(wt)},get initialScale(){return a(it)},get processTranslate(){return a(ht)}},Z,{get ondragstart(){return se()},get ontransform(){return K()},get ondragend(){return oe()},children:za,$$slots:{default:(at,gt)=>{const Gt=Ie(()=>gt.transform);MN(at,Ot(N,{get geo(){return q()},set geo(Kt){q(Kt)},children:za,$$slots:{default:(Kt,sr)=>{const wr=Ie(()=>sr.projection),ft=Ie(()=>typeof U()=="object"?U():{disabled:!U()});yz(Kt,Ot(()=>a(ft),{get brush(){return $()},set brush(Mt){$(Mt)},children:za,$$slots:{default:(Mt,yt)=>{const Bt=Ie(()=>yt.brush),jt=Ie(()=>typeof G()=="object"?G():{});WN(Mt,Ot(()=>a(jt),{get tooltip(){return Q()},set tooltip(gr){Q(gr)},children:za,$$slots:{default:(gr,xr)=>{const rr=Ie(()=>xr.tooltip);var fr=ke(),xt=de(fr);$t(xt,e,"default",{get aspectRatio(){return a(fe)},get containerHeight(){return a(ue)},get containerWidth(){return a(xe)},get height(){return a(we)},get width(){return a(me)},get element(){return a(ce)},get projection(){return a(wr)},get transform(){return a(Gt)},get tooltip(){return a(rr)},get brush(){return a(Bt)},get x(){return a(ye)},get xScale(){return a(be)},get xGet(){return a(ve)},get y(){return a(Se)},get yScale(){return a(Ee)},get yGet(){return a(Be)},get z(){return a(Ae)},get zScale(){return a(Ce)},get zGet(){return a(_e)},get r(){return a(ge)},get rScale(){return a(Oe)},get rGet(){return a(Le)},get x1(){return a(et)},get x1Scale(){return a(Ze)},get x1Get(){return a(Ge)},get y1(){return a(Pe)},get y1Scale(){return a(We)},get y1Get(){return a(He)},get c(){return a(nt)},get cScale(){return a(Qe)},get cGet(){return a(rt)},get padding(){return a(Re)},get data(){return a(Fe)},get flatData(){return a(Ye)},get config(){return a(Je)}},null),b(gr,fr)}},$$legacy:!0}))}},$$legacy:!0}))}},$$legacy:!0}))}},$$legacy:!0})),at=>E(at),()=>E())}),b(Te,ot)}}})}}})),Ke(),o()}var bz=br("<g><!><!></g>"),wz=br("<g><!><!></g>"),kz=br("<g><!><!></g>");function Sz(t,e){const r=er(e,["children","$$slots","$$events","$$legacy"]);Xe(e,!1);const[n,i]=ct(),o=()=>ie(p,"$yScale",n),s=()=>ie(h,"$xScale",n),l=()=>ie(m,"$radial",n),c=Ve(),d=Ve(),u=Ve(),f=Ve(),{xScale:h,yScale:p,radial:m}=En();let y=R(e,"x",8,!1),_=R(e,"y",8,!1),S=R(e,"xTicks",8,void 0),w=R(e,"yTicks",24,()=>_r(o())?void 0:4),C=R(e,"bandAlign",8,"center"),L=R(e,"radialY",8,"circle"),k=R(e,"spring",8,void 0),P=R(e,"tweened",8,void 0),z=R(e,"transitionIn",24,()=>P()?es:()=>({})),T=R(e,"transitionInParams",24,()=>({easing:N_})),M=R(e,"classes",24,()=>({}));function D(V,F){var N;return Array.isArray(F)?F:typeof F=="function"?F(V):_r(V)?F?V.domain().filter((q,G)=>G%F===0):V.domain():(N=V.ticks)==null?void 0:N.call(V,F)}De(()=>(s(),he(S())),()=>{g(c,D(s(),S()))}),De(()=>(o(),he(w())),()=>{g(d,D(o(),w()))}),De(()=>(s(),he(C())),()=>{g(u,_r(s())?C()==="between"?-(s().padding()*s().step())/2:s().step()/2-s().padding()*s().step()/2:0)}),De(()=>(o(),he(C())),()=>{g(f,_r(o())?C()==="between"?-(o().padding()*o().step())/2:o().step()/2-o().padding()*o().step()/2:0)}),Qr(),pr();var A=kz(),O=v(A);{var I=V=>{var F=bz();const N=Ie(()=>typeof y()=="object"?y():null);var q=v(F);St(q,1,()=>a(c),Z=>Z,(Z,E,U,$)=>{var ee=ke(),se=de(ee);{var oe=J=>{const te=Ie(()=>a(d).map(re=>({x:a(E),y:re}))),X=Ie(()=>{var re;return At("stroke-surface-content/10",M().line,(re=a(N))==null?void 0:re.class)});Qs(J,Ot({get data(){return a(te)},x:"x",y:"y",get xOffset(){return a(u)},curve:Gh,get tweened(){return P()},get spring(){return k()}},()=>a(N),{get class(){return a(X)}}))},K=J=>{const te=Ie(()=>{var X;return At("stroke-surface-content/10",M().line,(X=a(N))==null?void 0:X.class)});No(J,Ot({get x(){return a(E)},get xOffset(){return a(u)},get tweened(){return P()},get spring(){return k()}},()=>a(N),{get class(){return a(te)}}))};W(se,J=>{l()?J(oe):J(K,!1)})}b(Z,ee)});var G=x(q);{var Q=Z=>{const E=Ie(()=>a(u)+s().step()),U=Ie(()=>{var $;return At("stroke-surface-content/10",M().line,($=a(N))==null?void 0:$.class)});No(Z,Ot({get x(){return a(c)[a(c).length-1]},get xOffset(){return a(E)},get tweened(){return P()},get spring(){return k()}},()=>a(N),{get class(){return a(U)}}))};W(G,Z=>{_r(s())&&C()==="between"&&!l()&&a(c).length&&Z(Q)})}Rt(1,F,z,T),b(V,F)};W(O,V=>{y()&&V(I)})}var B=x(O);{var j=V=>{var F=wz();const N=Ie(()=>typeof _()=="object"?_():null);var q=v(F);St(q,1,()=>a(d),Z=>Z,(Z,E,U,$)=>{var ee=ke(),se=de(ee);{var oe=J=>{var te=ke(),X=de(te);{var re=ue=>{const xe=Ie(()=>o()(a(E))),we=Ie(()=>{var me;return At("fill-none stroke-surface-content/10",M().line,(me=a(N))==null?void 0:me.class)});pf(ue,Ot({get r(){return a(xe)},get tweened(){return P()},get spring(){return k()}},()=>a(N),{get class(){return a(we)}}))},fe=ue=>{const xe=Ie(()=>a(c).map(me=>({x:me,y:a(E)}))),we=Ie(()=>{var me;return At("stroke-surface-content/10",M().line,(me=a(N))==null?void 0:me.class)});Qs(ue,Ot({get data(){return a(xe)},x:"x",y:"y",get yOffset(){return a(f)},get tweened(){return P()},get spring(){return k()},curve:Gh},()=>a(N),{get class(){return a(we)}}))};W(X,ue=>{L()==="circle"?ue(re):ue(fe,!1)})}b(J,te)},K=J=>{const te=Ie(()=>{var X;return At("stroke-surface-content/10",M().line,(X=a(N))==null?void 0:X.class)});No(J,Ot({get y(){return a(E)},get yOffset(){return a(f)},get tweened(){return P()},get spring(){return k()}},()=>a(N),{get class(){return a(te)}}))};W(se,J=>{l()?J(oe):J(K,!1)})}b(Z,ee)});var G=x(q);{var Q=Z=>{const E=Ie(()=>a(f)+o().step()),U=Ie(()=>{var $;return At("stroke-surface-content/10",M().line,($=a(N))==null?void 0:$.class)});No(Z,Ot({get y(){return a(d)[a(d).length-1]},get yOffset(){return a(E)},get tweened(){return P()},get spring(){return k()}},()=>a(N),{get class(){return a(U)}}))};W(G,Z=>{_r(o())&&C()==="between"&&!l()&&a(d).length&&Z(Q)})}Rt(1,F,z,T),b(V,F)};W(B,V=>{_()&&V(j)})}ae(V=>qa(A,Mr(V)),[()=>At("Grid",M().root,r.class)],Ie),b(t,A),Ke(),i()}function Cz(t,e){const{xScale:r,yScale:n,x:i,y:o,x1:s,y1:l,x1Scale:c,y1Scale:d}=t;return Jr([r,c,n,d,i,o,s,l],([u,f,h,p,m,y,_,S])=>{const w=Az(e==null?void 0:e.insets),[C,L]=u.domain(),[k,P]=h.domain(),z=ln((e==null?void 0:e.x)??m),T=ln((e==null?void 0:e.y)??y),M=ln((e==null?void 0:e.x1)??_),D=ln((e==null?void 0:e.y1)??S);return function(O){var I,B;if(_r(h)){const j=vx(h(T(O))??0)+(p?p(D(O)):0)+w.top,V=Math.max(0,h.bandwidth?(p?((I=p.bandwidth)==null?void 0:I.call(p))??0:h.bandwidth())-w.bottom-w.top:0),F=z(O);let N=0,q=0;Array.isArray(F)?(N=nn(F),q=sn(F)):F==null?(N=0,q=0):F>0?(N=sn([0,C]),q=F):(N=F,q=nn([0,L]));const G=u(N)+w.left,Q=Math.max(0,u(q)-u(N)-w.left-w.right);return{x:G,y:j,width:Q,height:V}}else{const j=vx(u(z(O)))+(f?f(M(O)):0)+w.left,V=Math.max(0,u.bandwidth?(f?((B=f.bandwidth)==null?void 0:B.call(f))??0:u.bandwidth())-w.left-w.right:0),F=T(O);let N=0,q=0;Array.isArray(F)?(N=sn(F),q=nn(F)):F==null?(N=0,q=0):F>0?(N=F,q=sn([0,k])):(N=nn([0,P]),q=F);const G=h(N)+w.top,Q=h(q)-h(N)-w.bottom-w.top;return{x:j,y:G,width:V,height:Q}}}})}function vx(t){return Array.isArray(t)?t[0]:t}function Az(t){const e=(t==null?void 0:t.all)??0,r=(t==null?void 0:t.x)??e,n=(t==null?void 0:t.y)??e,i=(t==null?void 0:t.left)??r,o=(t==null?void 0:t.right)??r,s=(t==null?void 0:t.top)??n,l=(t==null?void 0:t.bottom)??n;return{left:i,right:o,bottom:l,top:s}}function Mz(t,e){const r=er(e,["children","$$slots","$$events","$$legacy"]),n=er(r,["bar","x","y","x1","y1","fill","stroke","strokeWidth","radius","rounded","insets","onclick","onpointerenter","onpointermove","onpointerleave","spring","tweened"]);Xe(e,!1);const[i,o]=ct(),s=()=>ie(M,"$xContext",i),l=()=>ie(D,"$yContext",i),c=()=>ie(a(u),"$getDimensions",i),d=()=>ie(A,"$xScale",i),u=Ve(),f=Ve(),h=Ve(),p=Ve(),m=Ve(),y=Ve(),_=Ve(),S=Ve(),w=Ve(),C=Ve(),L=Ve(),k=Ve(),P=Ve(),z=Ve(),T=Ve(),{x:M,y:D,xScale:A}=En();let O=R(e,"bar",8),I=R(e,"x",24,s),B=R(e,"y",24,l),j=R(e,"x1",8,void 0),V=R(e,"y1",8,void 0),F=R(e,"fill",8,void 0),N=R(e,"stroke",12,"black"),q=R(e,"strokeWidth",8,0),G=R(e,"radius",8,0),Q=R(e,"rounded",8,"all"),Z=R(e,"insets",8,void 0),E=R(e,"onclick",8,void 0),U=R(e,"onpointerenter",8,void 0),$=R(e,"onpointermove",8,void 0),ee=R(e,"onpointerleave",8,void 0),se=R(e,"spring",8,void 0),oe=R(e,"tweened",8,void 0);Ji(),De(()=>he(N()),()=>{(N()===null||N()===void 0)&&N("black")}),De(()=>(he(I()),he(B()),he(j()),he(V()),he(Z())),()=>{Zl(g(u,Cz(En(),{x:I(),y:B(),x1:j(),y1:V(),insets:Z()})),"$getDimensions",i)}),De(()=>(c(),he(O())),()=>{g(f,c()(O())??{x:0,y:0,width:0,height:0})}),De(()=>d(),()=>{g(h,_r(d()))}),De(()=>(a(h),he(B()),he(I())),()=>{g(p,ln(a(h)?B():I()))}),De(()=>(a(p),he(O())),()=>{g(m,a(p)(O()))}),De(()=>(a(m),Tm),()=>{g(y,Array.isArray(a(m))?Tm(a(m)):a(m))}),De(()=>(he(Q()),a(h),a(y)),()=>{g(_,Q()==="edge"?a(h)?a(y)>=0?"top":"bottom":a(y)>=0?"right":"left":Q())}),De(()=>a(_),()=>{g(S,["all","top","left","top-left"].includes(a(_)))}),De(()=>a(_),()=>{g(w,["all","top","right","top-right"].includes(a(_)))}),De(()=>a(_),()=>{g(C,["all","bottom","left","bottom-left"].includes(a(_)))}),De(()=>a(_),()=>{g(L,["all","bottom","right","bottom-right"].includes(a(_)))}),De(()=>a(f),()=>{g(k,a(f).width)}),De(()=>a(f),()=>{g(P,a(f).height)}),De(()=>he(G()),()=>{g(z,2*G())}),De(()=>(a(f),he(G()),a(k),a(z),a(w),a(P),a(L),a(C),a(S)),()=>{g(T,`M${a(f).x+G()},${a(f).y} h${a(k)-a(z)}
      ${a(w)?`a${G()},${G()} 0 0 1 ${G()},${G()}`:`h${G()}v${G()}`}
      v${a(P)-a(z)}
      ${a(L)?`a${G()},${G()} 0 0 1 ${-G()},${G()}`:`v${G()}h${-G()}`}
      h${a(z)-a(k)}
      ${a(C)?`a${G()},${G()} 0 0 1 ${-G()},${-G()}`:`h${-G()}v${-G()}`}
      v${a(z)-a(P)}
      ${a(S)?`a${G()},${G()} 0 0 1 ${G()},${-G()}`:`v${-G()}h${G()}`}
      z`.split(`
`).join(""))}),Qr(),pr();var K=ke(),J=de(K);{var te=re=>{const fe=Ie(()=>a(_)==="none"?0:G());Yp(re,Ot({get fill(){return F()},get spring(){return se()},get tweened(){return oe()},get stroke(){return N()},get strokeWidth(){return q()},get rx(){return a(fe)},get onclick(){return E()},get onpointerenter(){return U()},get onpointermove(){return $()},get onpointerleave(){return ee()}},()=>a(f),()=>n,{$$events:{touchmove(ue){ja.call(this,e,ue)}}}))},X=re=>{Qs(re,Ot({get pathData(){return a(T)},get fill(){return F()},get spring(){return se()},get tweened(){return oe()},get stroke(){return N()},get strokeWidth(){return q()},get onclick(){return E()},get onpointerenter(){return U()},get onpointermove(){return $()},get onpointerleave(){return ee()}},()=>n,{$$events:{touchmove(fe){ja.call(this,e,fe)}}}))};W(J,re=>{a(_)==="all"||a(_)==="none"||G()===0?re(te):re(X,!1)})}b(t,K),Ke(),o()}var Pz=H("<!> <!> <!> <!>",1);function Dz(t,e){Xe(e,!1);const[r,n]=ct(),i=()=>ie(k,"$xContext",r),o=()=>ie(M,"$yContext",r),s=()=>ie(V,"$tooltip",r),l=()=>ie(z,"$xScale",r),c=()=>ie(j,"$radial",r),d=()=>ie(A,"$yScale",r),u=()=>ie(O,"$yRange",r),f=()=>ie(L,"$flatData",r),h=()=>ie(P,"$xDomain",r),p=()=>ie(T,"$xRange",r),m=()=>ie(D,"$yDomain",r),y=()=>ie(C,"$contextData",r),_=()=>ie(B,"$config",r),S=()=>ie(I,"$cGet",r),w=Ve(),{data:C,flatData:L,x:k,xDomain:P,xScale:z,xRange:T,y:M,yDomain:D,yScale:A,yRange:O,cGet:I,config:B,radial:j}=En(),V=eg();let F=R(e,"data",8,void 0),N=R(e,"x",24,i),q=R(e,"y",24,o),G=R(e,"axis",12,void 0),Q=R(e,"points",8,!1),Z=R(e,"lines",8,!1),E=R(e,"area",8,!1),U=R(e,"bar",8,!1),$=R(e,"motion",8,!0),ee=R(e,"onareaclick",8,void 0),se=R(e,"onbarclick",8,void 0),oe=R(e,"onpointclick",8,void 0),K=R(e,"onpointenter",8,void 0),J=R(e,"onpointleave",8,void 0);const te=ln(N()),X=ln(q());let re=Ve([]),fe=Ve([]),ue=Ve({x:0,y:0,width:0,height:0});De(()=>(he(F()),s()),()=>{g(w,F()??s().data)}),De(()=>(a(w),l(),c(),d(),a(fe),he(G()),u(),f(),h(),p(),m(),y(),a(re),_(),S(),yi),()=>{if(a(w)){const ce=te(a(w)),ye=Array.isArray(ce)?ce.map(Ae=>l()(Ae)):l()(ce),be=_r(l())&&!c()?l().bandwidth()/2:0,ve=X(a(w)),Se=Array.isArray(ve)?ve.map(Ae=>d()(Ae)):d()(ve),Ee=_r(d())&&!c()?d().bandwidth()/2:0;g(fe,[]);const Be=_r(d())?"y":"x";if(G()==null&&G(Be),G()==="x"||G()==="both"){if(Array.isArray(ye)?g(fe,[...a(fe),...ye.filter(Cs).map((Ae,Ce)=>({x1:Ae+be,y1:nn(u()),x2:Ae+be,y2:sn(u())}))]):ye&&g(fe,[...a(fe),{x1:ye+be,y1:nn(u()),x2:ye+be,y2:sn(u())}]),Array.isArray(ye))Mn(ue,a(ue).width=sn(ye)-nn(ye));else if(_r(l()))Mn(ue,a(ue).width=l().step());else{const Ae=f().findIndex(ge=>Number(te(ge))===Number(te(a(w)))),_e=Ae+1===f().length?sn(h()):te(f()[Ae+1]);Mn(ue,a(ue).width=(l()(_e)??0)-(ye??0))}Mn(ue,a(ue).x=(Array.isArray(ye)?nn(ye):ye)-(_r(l())?l().padding()*l().step()/2:0)),G()==="x"&&Mn(ue,a(ue).height=sn(u()))}if(G()==="y"||G()==="both"){if(Array.isArray(Se)?g(fe,[...a(fe),...Se.filter(Cs).map((Ae,Ce)=>({x1:nn(p()),y1:Ae+Ee,x2:sn(p()),y2:Ae+Ee}))]):Se&&g(fe,[...a(fe),{x1:nn(p()),y1:Se+Ee,x2:sn(p()),y2:Se+Ee}]),Array.isArray(Se))Mn(ue,a(ue).height=sn(Se)-nn(Se));else if(_r(d()))Mn(ue,a(ue).height=d().step());else{const Ae=f().findIndex(ge=>Number(te(ge))===Number(te(a(w)))),_e=Ae+1===f().length?sn(m()):te(f()[Ae+1]);Mn(ue,a(ue).height=(d()(_e)??0)-(Se??0))}Mn(ue,a(ue).y=(Array.isArray(Se)?nn(Se):Se)-(_r(d())?d().padding()*d().step()/2:0)),G()==="y"&&Mn(ue,a(ue).width=sn(p()))}if(Array.isArray(ye))if(Array.isArray(a(w))){const Ae=a(w);if(Array.isArray(y())){const Ce=y().map(_e=>({series:_e,point:_e.find(ge=>X(ge)===X(Ae))})).filter(_e=>_e.point);g(re,Ce.map((_e,ge)=>({x:l()(_e.point[1])+be,y:Se+Ee,fill:_().c?S()(_e.series):null,data:{x:_e.point[1],y:ve}})))}}else g(re,ye.filter(Cs).map((Ae,Ce)=>{const _e=_().x[Ce];return{x:Ae+be,y:Se+Ee,fill:_().c?S()({...a(w),$key:_e}):null,data:{x:ce,y:ve}}}));else if(Array.isArray(Se))if(Array.isArray(a(w))){const Ae=a(w);if(Array.isArray(y())){const Ce=y().map(_e=>({series:_e,point:_e.find(ge=>te(ge)===te(Ae))})).filter(_e=>_e.point);g(re,Ce.map((_e,ge)=>({x:ye+be,y:d()(_e.point[1])+Ee,fill:_().c?S()(_e.series):null,data:{x:ce,y:_e.point[1]}})))}}else g(re,Se.filter(Cs).map((Ae,Ce)=>{const _e=_().y[Ce];return{x:ye+be,y:Ae+Ee,fill:_().c?S()({...a(w),$key:_e}):null,data:{x:ce,y:ve}}}));else ye!=null&&Se!=null?g(re,[{x:ye+be,y:Se+Ee,fill:_().c?S()(a(w)):null,data:{x:ce,y:ve}}]):g(re,[]);c()&&(g(re,a(re).map(Ae=>{const[Ce,_e]=yi(Ae.x,Ae.y);return{...Ae,x:Ce,y:_e}})),g(fe,a(fe).map(Ae=>{const[Ce,_e]=yi(Ae.x1,Ae.y1),[ge,Oe]=yi(Ae.x2,Ae.y2);return{...Ae,x1:Ce,y1:_e,x2:ge,y2:Oe}})))}}),Qr(),pr();var xe=ke(),we=de(xe);{var me=ce=>{var ye=Pz(),be=de(ye);{var ve=ge=>{var Oe=ke(),Le=de(Oe);$t(Le,e,"area",{get area(){return a(ue)}},Re=>{const Me=Ie(()=>At(!E().fill&&"fill-surface-content/5",typeof E()=="object"?E().class:null)),Te=Ie(()=>ee()&&(ze=>ee()(ze,{data:a(w)})));Yp(Re,Ot({get spring(){return $()}},()=>a(ue),()=>typeof E()=="object"?E():null,{get class(){return a(Me)},get onclick(){return a(Te)}}))}),b(ge,Oe)};W(be,ge=>{E()&&ge(ve)})}var Se=x(be,2);{var Ee=ge=>{var Oe=ke(),Le=de(Oe);$t(Le,e,"bar",{get bar(){return U()}},Re=>{const Me=Ie(()=>At(!U().fill&&"fill-primary",typeof U()=="object"?U().class:null)),Te=Ie(()=>se()&&(ze=>se()(ze,{data:a(w)})));Mz(Re,Ot({get spring(){return $()},get bar(){return a(w)}},()=>typeof U()=="object"?U():null,{get class(){return a(Me)},get onclick(){return a(Te)}}))}),b(ge,Oe)};W(Se,ge=>{U()&&ge(Ee)})}var Be=x(Se,2);{var Ae=ge=>{var Oe=ke(),Le=de(Oe);$t(Le,e,"lines",{get lines(){return a(fe)}},Re=>{var Me=ke(),Te=de(Me);St(Te,1,()=>a(fe),zt,(ze,Fe)=>{const Ye=Ie(()=>At("stroke-surface-content/20 stroke-2 [stroke-dasharray:2,2] pointer-events-none",typeof Z()=="object"?Z().class:null));Wo(ze,Ot({get spring(){return $()},get x1(){return a(Fe).x1},get y1(){return a(Fe).y1},get x2(){return a(Fe).x2},get y2(){return a(Fe).y2}},()=>typeof Z()=="object"?Z():null,{get class(){return a(Ye)}}))}),b(Re,Me)}),b(ge,Oe)};W(Be,ge=>{Z()&&ge(Ae)})}var Ce=x(Be,2);{var _e=ge=>{var Oe=ke(),Le=de(Oe);$t(Le,e,"points",{get points(){return a(re)}},Re=>{var Me=ke(),Te=de(Me);St(Te,1,()=>a(re),zt,(ze,Fe)=>{const Ye=Ie(()=>At("stroke-white [paint-order:stroke] drop-shadow",!a(Fe).fill&&(typeof Q()=="boolean"||!Q().fill)&&"fill-primary",typeof Q()=="object"?Q().class:null)),Je=Ie(()=>oe()&&(Pe=>{Pe.stopPropagation()})),et=Ie(()=>oe()&&(Pe=>oe()(Pe,{point:a(Fe),data:a(w)}))),Ze=Ie(()=>K()&&(Pe=>{oe()&&(Pe.target.style.cursor="pointer"),K()(Pe,{point:a(Fe),data:a(w)})})),Ge=Ie(()=>J()&&(Pe=>{oe()&&(Pe.target.style.cursor="default"),J()(Pe,{point:a(Fe),data:a(w)})}));pf(ze,Ot({get spring(){return $()},get cx(){return a(Fe).x},get cy(){return a(Fe).y},get fill(){return a(Fe).fill},r:4,strokeWidth:6},()=>typeof Q()=="object"?Q():null,{get class(){return a(Ye)},get onpointerdown(){return a(Je)},get onclick(){return a(et)},get onpointerenter(){return a(Ze)},get onpointerleave(){return a(Ge)}}))}),b(Re,Me)}),b(ge,Oe)};W(Ce,ge=>{Q()&&ge(_e)})}b(ce,ye)};W(we,ce=>{a(w)&&ce(me)})}b(t,xe),Ke(),n()}var Lz=H("<!> <!> <!> <!>",1);function Ez(t,e){const r=Cc(e),n=er(e,["children","$$slots","$$events","$$legacy"]),i=er(n,["data","sankey","source","target","orientation","x","y","curve","onclick","onpointerenter","onpointermove","onpointerleave","onpointerover","onpointerout","marker","markerStart","markerMid","markerEnd","tweened"]);Xe(e,!1);const[o,s]=ct(),l=()=>ie(a(h),"$tweened_d",o),c=Ve(),d=Ve(),u=Ve(),f=Ve(),h=Ve();let p=R(e,"data",8,void 0),m=R(e,"sankey",8,!1),y=R(e,"source",24,()=>m()?U=>[U.source.x1,U.y0]:U=>U.source),_=R(e,"target",24,()=>m()?U=>[U.target.x0,U.y1]:U=>U.target),S=R(e,"orientation",24,()=>m()?"horizontal":"vertical"),w=R(e,"x",8,U=>m()?U[0]:S()==="horizontal"?U.y:U.x),C=R(e,"y",8,U=>m()?U[1]:S()==="horizontal"?U.x:U.y),L=R(e,"curve",24,()=>S()==="horizontal"?YM:XM),k=R(e,"onclick",8,void 0),P=R(e,"onpointerenter",8,void 0),z=R(e,"onpointermove",8,void 0),T=R(e,"onpointerleave",8,void 0),M=R(e,"onpointerover",8,void 0),D=R(e,"onpointerout",8,void 0),A=R(e,"marker",8,void 0),O=R(e,"markerStart",24,A),I=R(e,"markerMid",24,A),B=R(e,"markerEnd",24,A),j=R(e,"tweened",8,void 0);De(()=>(he(O()),zn),()=>{g(c,O()||r.markerStart?zn("marker-"):"")}),De(()=>(he(I()),zn),()=>{g(d,I()||r.markerMid?zn("marker-"):"")}),De(()=>(he(B()),zn),()=>{g(u,B()||r.markerEnd?zn("marker-"):"")}),De(()=>(he(j()),$s),()=>{g(f,j()?{interpolate:$s,...j()}:!1)}),De(()=>a(f),()=>{Zl(g(h,Cn("",{tweened:a(f)})),"$tweened_d",o)}),De(()=>(he(S()),he(L()),he(y()),he(_()),he(w()),he(C()),he(p()),a(h)),()=>{S();const $=JM(L()).source(y()).target(_()).x(w()).y(C())(p())??"";a(h).set($)}),Qr(),pr();var V=Lz(),F=de(V);const N=Ie(()=>a(c)?`url(#${a(c)})`:void 0),q=Ie(()=>a(d)?`url(#${a(d)})`:void 0),G=Ie(()=>a(u)?`url(#${a(u)})`:void 0);Qs(F,Ot({class:"path-link",get pathData(){return l()},fill:"none",get"marker-start"(){return a(N)},get"marker-mid"(){return a(q)},get"marker-end"(){return a(G)},get onclick(){return k()},get onpointerenter(){return P()},get onpointermove(){return z()},get onpointerleave(){return T()},get onpointerover(){return M()},get onpointerout(){return D()}},()=>i));var Q=x(F,2);$t(Q,e,"markerStart",{get id(){return a(c)}},U=>{var $=ke(),ee=de($);{var se=oe=>{const K=Ie(()=>typeof O()=="string"?O():void 0);vo(oe,Ot({get id(){return a(c)},get type(){return a(K)}},()=>typeof O()=="object"?O():null))};W(ee,oe=>{O()&&oe(se)})}b(U,$)});var Z=x(Q,2);$t(Z,e,"markerMid",{get id(){return a(d)}},U=>{const $=Ie(()=>typeof I()=="string"?I():void 0);vo(U,Ot({get id(){return a(d)},get type(){return a($)}},()=>typeof I()=="object"?I():null))});var E=x(Z,2);$t(E,e,"markerEnd",{get id(){return a(u)}},U=>{const $=Ie(()=>typeof B()=="string"?B():void 0);vo(U,Ot({get id(){return a(u)},get type(){return a($)}},()=>typeof B()=="object"?B():null))}),b(t,V),Ke(),s()}var Iz=H("<!> <!>",1);function uw(t,e){const r=er(e,["children","$$slots","$$events","$$legacy"]),n=er(r,["data","x","y","r","offsetX","offsetY","links","fill","fillOpacity","stroke","strokeWidth","class"]);Xe(e,!1);const[i,o]=ct(),s=()=>ie(F,"$radial",i),l=()=>ie(T,"$contextX",i),c=()=>ie(A,"$contextY",i),d=()=>ie(z,"$contextData",i),u=()=>ie(M,"$xScale",i),f=()=>ie(O,"$yScale",i),h=()=>ie(V,"$config",i),p=()=>ie(j,"$rGet",i),m=()=>ie(D,"$xGet",i),y=()=>ie(I,"$yGet",i),_=()=>ie(B,"$cGet",i),S=Ve(),w=Ve(),C=Ve(),L=Ve(),k=Ve(),P=En(),{data:z,x:T,xScale:M,xGet:D,y:A,yScale:O,yGet:I,cGet:B,rGet:j,config:V,radial:F}=P;let N=R(e,"data",8,void 0),q=R(e,"x",8,void 0),G=R(e,"y",8,void 0),Q=R(e,"r",8,5),Z=R(e,"offsetX",8,void 0),E=R(e,"offsetY",8,void 0),U=R(e,"links",8,!1),$=R(e,"fill",8,void 0),ee=R(e,"fillOpacity",8,void 0),se=R(e,"stroke",8,void 0),oe=R(e,"strokeWidth",8,void 0),K=R(e,"class",8,void 0);function J(re,fe,ue){return typeof fe=="function"?fe(re,P):fe??(_r(ue)&&!s()?ue.bandwidth()/2:0)}De(()=>(he(q()),l()),()=>{g(S,q()?ln(q()):l())}),De(()=>(he(G()),c()),()=>{g(w,G()?ln(G()):c())}),De(()=>(he(N()),d()),()=>{g(C,N()??d())}),De(()=>(a(C),a(S),a(w),u(),he(Z()),f(),he(E()),h(),p(),he(Q())),()=>{g(L,a(C).flatMap(re=>{const fe=a(S)(re),ue=a(w)(re);if(Array.isArray(fe))return fe.filter(Cs).map(xe=>({x:u()(xe)+J(u()(xe),Z(),u()),y:f()(ue)+J(f()(ue),E(),f()),r:h().r?p()(re):Q(),xValue:xe,yValue:ue,data:re}));if(Array.isArray(ue))return ue.filter(Cs).map(xe=>({x:u()(fe)+J(u()(fe),Z(),u()),y:f()(xe)+J(f()(xe),E(),f()),r:h().r?p()(re):Q(),xValue:fe,yValue:xe,data:re}));if(fe!=null&&ue!=null)return{x:u()(fe)+J(u()(fe),Z(),u()),y:f()(ue)+J(f()(ue),E(),f()),r:h().r?p()(re):Q(),xValue:fe,yValue:ue,data:re}}).filter(re=>re))}),De(()=>(a(C),a(S),a(w),m(),y(),he(E()),f(),he(Z()),u(),h(),p(),he(Q())),()=>{g(k,a(C).flatMap(re=>{const fe=a(S)(re),ue=a(w)(re);if(Array.isArray(fe)){const[xe,we]=Ga(m()(re)),me=y()(re)+J(y()(re),E(),f());return{source:{x:xe+J(xe,Z(),u())+(h().r?p()(re):Q()),y:me},target:{x:we+J(we,Z(),u())-(h().r?p()(re):Q()),y:me}}}else if(Array.isArray(ue)){const xe=m()(re)+J(m()(re),Z(),u()),[we,me]=Ga(y()(re));return{source:{x:xe,y:we+J(we,E(),f())},target:{x:xe,y:me+J(me,E(),f())}}}}))}),Qr(),pr();var te=ke(),X=de(te);$t(X,e,"default",{get points(){return a(L)}},re=>{var fe=Iz(),ue=de(fe);{var xe=me=>{var ce=ke(),ye=de(ce);St(ye,1,()=>a(k),zt,(be,ve)=>{Ez(be,Ot({get data(){return a(ve)},class:"stroke-surface-content/50"},()=>typeof U()=="object"?U():null))}),b(me,ce)};W(ue,me=>{U()&&me(xe)})}var we=x(ue,2);St(we,1,()=>a(L),zt,(me,ce)=>{const ye=Ie(()=>yi(a(ce).x,a(ce).y)),be=Ie(()=>s()?a(ye)[0]:a(ce).x),ve=Ie(()=>s()?a(ye)[1]:a(ce).y),Se=Ie(()=>$()??(h().c?_()(a(ce).data):null));pf(me,Ot({get cx(){return a(be)},get cy(){return a(ve)},get r(){return a(ce).r},get fill(){return a(Se)},get fillOpacity(){return ee()},get stroke(){return se()},get strokeWidth(){return oe()},get class(){return K()}},()=>n))}),b(re,fe)}),b(t,te),Ke(),o()}var Tz=br('<g class="Labels"><!></g>');function Oz(t,e){const r=er(e,["children","$$slots","$$events","$$legacy"]),n=er(r,["data","value","x","y","placement","offset","format","key"]);Xe(e,!1);const[i,o]=ct(),s=()=>ie(u,"$yScale",i),l=()=>ie(d,"$xScale",i),c=Ve(),{xScale:d,yScale:u}=En();let f=R(e,"data",8,void 0),h=R(e,"value",8,void 0),p=R(e,"x",8,void 0),m=R(e,"y",8,void 0),y=R(e,"placement",8,"outside"),_=R(e,"offset",24,()=>y()==="center"?0:4),S=R(e,"format",8,void 0),w=R(e,"key",8,(k,P)=>P);De(()=>(s(),he(h()),he(S()),l(),he(y()),he(_())),()=>{g(c,k=>{var M,D,A,O;const P=_r(s())?k.xValue:k.yValue,z=h()?ln(h())(k.data):_r(s())?k.xValue:k.yValue,T=Ua(z,S()??(h()?void 0:_r(s())?(D=(M=l()).tickFormat)==null?void 0:D.call(M):(O=(A=s()).tickFormat)==null?void 0:O.call(A)));return _r(s())?P<0?{value:T,x:k.x+(y()==="outside"?-_():_()),y:k.y,textAnchor:y()==="outside"?"end":"start",verticalAnchor:"middle",capHeight:".6rem"}:{value:T,x:k.x+(y()==="outside"?_():-_()),y:k.y,textAnchor:y()==="outside"?"start":"end",verticalAnchor:"middle",capHeight:".6rem"}:P<0?{value:T,x:k.x,y:k.y+(y()==="outside"?_():-_()),capHeight:".6rem",textAnchor:"middle",verticalAnchor:y()==="center"?"middle":y()==="outside"?"start":"end"}:{value:T,x:k.x,y:k.y+(y()==="outside"?-_():_()),capHeight:".6rem",textAnchor:"middle",verticalAnchor:y()==="center"?"middle":y()==="outside"?"end":"start"}})}),Qr(),pr();var C=Tz(),L=v(C);uw(L,{get data(){return f()},get x(){return p()},get y(){return m()},children:za,$$slots:{default:(k,P)=>{const z=Ie(()=>P.points);var T=ke(),M=de(T);St(M,3,()=>a(z),(D,A)=>w()(D.data,A),(D,A)=>{var O=ke();const I=Ie(()=>a(c)(a(A)));var B=de(O);$t(B,e,"default",{get data(){return a(A)},get textProps(){return a(I)}},j=>{const V=Ie(()=>At("text-xs",y()==="inside"?"fill-surface-300 stroke-surface-content":"fill-surface-content stroke-surface-100",a(I).class,r.class));z0(j,Ot(()=>a(I),()=>n,{get class(){return a(V)}}))}),b(D,O)}),b(k,T)}}}),b(t,C),Ke(),o()}var Rz=br("<image></image>");function Nz(t,e){const r=er(e,["children","$$slots","$$events","$$legacy"]),n=er(r,["interpolator","steps","height","width"]);Xe(e,!1);let i=R(e,"interpolator",8),o=R(e,"steps",8,10),s=R(e,"height",8,"20px"),l=R(e,"width",8,"100%"),c=Ve("");De(()=>(he(o()),he(i())),()=>{const f=document.createElement("canvas");f.width=o(),f.height=1;const h=f.getContext("2d");for(let p=0;p<o();++p)h.fillStyle=i()(p/(o()-1)),h.fillRect(p,0,1,1);g(c,f.toDataURL())}),Qr(),pr();var d=Rz();let u;ae(()=>u=In(d,u,{href:a(c),preserveAspectRatio:"none",height:s(),width:l(),...n},void 0,!0)),b(t,d),Ke()}var zz=br("<rect></rect>"),Bz=br("<line></line>"),jz=br('<text text-anchor="middle"> </text><!>',1),Fz=br('<svg class="overflow-visible"><g><!></g><g></g></svg>'),Uz=H("<button><div></div> <div> </div></button>"),Vz=H("<div></div>"),Wz=H("<div><div> </div> <!></div>");function Hz(t,e){const r=er(e,["children","$$slots","$$events","$$legacy"]),n=er(r,["scale","title","width","height","ticks","tickFormat","tickValues","tickFontSize","tickLength","placement","orientation","onclick","onpointerenter","onpointerleave","variant","classes"]);Xe(e,!1);const[i,o]=ct(),s=()=>ie(c,"$cScale",i),l=Ve(),{cScale:c}=En()??{};let d=R(e,"scale",8,void 0),u=R(e,"title",8,""),f=R(e,"width",8,320),h=R(e,"height",8,10),p=R(e,"ticks",24,()=>f()/64),m=R(e,"tickFormat",12,void 0),y=R(e,"tickValues",12,void 0),_=R(e,"tickFontSize",8,10),S=R(e,"tickLength",12,4),w=R(e,"placement",8,void 0),C=R(e,"orientation",8,"horizontal"),L=R(e,"onclick",8,void 0),k=R(e,"onpointerenter",8,void 0),P=R(e,"onpointerleave",8,void 0),z=R(e,"variant",8,"ramp"),T=R(e,"classes",24,()=>({})),M=Ve(),D=Ve(),A=Ve(),O=Ve(0),I=Ve(!0);De(()=>(he(d()),s()),()=>{g(l,d()??(c?s():null))}),De(()=>(a(l),a(M),he(f()),he(m()),he(y()),he(p()),he(h()),he(r),Fh),()=>{var q,G,Q,Z;if(a(l))if(a(l).interpolate){const E=Math.min(a(l).domain().length,a(l).range().length);g(M,a(l).copy().rangeRound($g(uc(0,f()),E))),g(D,a(l).copy().domain($g(uc(0,1),E))),m(m()??((G=(q=a(M)).tickFormat)==null?void 0:G.call(q)))}else if(a(l).interpolator){if(g(M,Object.assign(a(l).copy().interpolator(J_(0,f())),{range(){return[0,f()]}})),g(D,a(l).interpolator()),!a(M).ticks&&y()===void 0){const E=Math.round(p()+1);y(oc(E).map(U=>lC(a(l).domain(),U/(E-1))))}m(m()??((Z=(Q=a(M)).tickFormat)==null?void 0:Z.call(Q)))}else if(a(l).invertExtent){const E=a(l).thresholds?a(l).thresholds():a(l).quantiles?a(l).quantiles():a(l).domain();g(M,Uo().domain([-1,a(l).range().length-1]).rangeRound([0,f()])),g(A,a(l).range().map((U,$)=>({x:a(M)($-1),y:0,width:a(M)($)-a(M)($-1),height:h(),fill:U}))),y(oc(E.length)),m(U=>{const $=E[U];return r.tickFormat?Ua($,r.tickFormat):$})}else g(M,Fh().domain(a(l).domain()).rangeRound([0,f()])),g(A,a(l).domain().map(E=>({x:a(M)(E),y:0,width:Math.max(0,a(M).bandwidth()-1),height:h(),fill:a(l)(E)}))),y(a(l).domain()),g(O,a(M).bandwidth()/2),g(I,!1),S(0)}),Qr(),pr();var B=Wz();let j;var V=v(B),F=v(V),N=x(V,2);$t(N,e,"default",{get values(){return y()??[]},get scale(){return a(l)}},q=>{var G=ke(),Q=de(G);{var Z=U=>{var $=Fz(),ee=v($),se=v(ee);{var oe=te=>{Nz(te,{get width(){return f()},get height(){return h()},get interpolator(){return a(D)}})},K=te=>{var X=ke(),re=de(X);{var fe=ue=>{var xe=ke(),we=de(xe);St(we,1,()=>a(A),zt,(me,ce)=>{var ye=zz();let be;ae(()=>be=In(ye,be,{...a(ce)},void 0,!0)),b(me,ye)}),b(ue,xe)};W(re,ue=>{a(A)&&ue(fe)},!0)}b(te,X)};W(se,te=>{a(D)?te(oe):te(K,!1)})}var J=x(ee);St(J,5,()=>{var te,X;return y()??((X=(te=a(M))==null?void 0:te.ticks)==null?void 0:X.call(te,p()))??[]},zt,(te,X)=>{var re=jz(),fe=de(re),ue=v(fe),xe=x(fe);{var we=me=>{var ce=Bz();pe(ce,"y1",0),ae((ye,be)=>{pe(ce,"x1",ye),pe(ce,"x2",ye),pe(ce,"y2",h()+S()),qa(ce,Mr(be))},[()=>a(M)(a(X)),()=>At("stroke-surface-content",T().tick)],Ie),b(me,ce)};W(xe,me=>{a(I)&&me(we)})}ae((me,ce,ye)=>{pe(fe,"x",me),pe(fe,"y",h()+S()+_()),qa(fe,Mr(ce)),ar(fe,"font-size",_()),Y(ue,ye)},[()=>a(M)(a(X))+a(O),()=>At("text-[10px] fill-surface-content",T().label),()=>m()?Ua(a(X),m()):a(X)],Ie),b(te,re)}),ae(()=>{pe($,"width",f()),pe($,"height",h()+S()+_()),pe($,"viewBox",`0 0 ${f()??""} ${h()+S()+_()}`)}),b(U,$)},E=U=>{var $=ke(),ee=de($);{var se=oe=>{var K=Vz();St(K,5,()=>{var J,te;return y()??((te=(J=a(M))==null?void 0:J.ticks)==null?void 0:te.call(J,p()))??[]},zt,(J,te)=>{var X=Uz();const re=Ie(()=>a(l)(a(te))),fe=Ie(()=>({value:a(te),color:a(re)}));var ue=v(X),xe=x(ue,2),we=v(xe);ae((me,ce,ye,be)=>{$e(X,Mr(me)),$e(ue,Mr(ce)),ar(ue,"background-color",a(re)),$e(xe,Mr(ye)),Y(we,be)},[()=>{var me,ce;return At("flex gap-1",!L()&&"cursor-auto",(ce=(me=T()).item)==null?void 0:ce.call(me,a(fe)))},()=>At("h-4 w-4 rounded-full",T().swatch),()=>At("text-xs text-surface-content whitespace-nowrap",T().label),()=>m()?Ua(a(te),m()):a(te)],Ie),tt("click",X,me=>{var ce;return(ce=L())==null?void 0:ce(me,a(fe))}),tt("pointerenter",X,me=>{var ce;return(ce=k())==null?void 0:ce(me,a(fe))}),tt("pointerleave",X,me=>{var ce;return(ce=P())==null?void 0:ce(me,a(fe))}),b(J,X)}),ae(J=>$e(K,Mr(J)),[()=>At("flex gap-x-4 gap-y-1",C()==="vertical"&&"flex-col",T().swatches)],Ie),b(oe,K)};W(ee,oe=>{z()==="swatches"&&oe(se)},!0)}b(U,$)};W(Q,U=>{z()==="ramp"?U(Z):U(E,!1)})}b(q,G)}),ae((q,G)=>{j=In(B,j,{...n,class:q}),$e(V,Mr(G)),Y(F,u())},[()=>At("inline-block","z-[1]",w()&&["absolute",{"top-left":"top-0 left-0",top:"top-0 left-1/2 -translate-x-1/2","top-right":"top-0 right-0",left:"top-1/2 left-0 -translate-y-1/2",center:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",right:"top-1/2 right-0 -translate-y-1/2","bottom-left":"bottom-0 left-0",bottom:"bottom-0 left-1/2 -translate-x-1/2","bottom-right":"bottom-0 right-0"}[w()]],n.class,T().root),()=>At("text-[10px] font-semibold",T().title)],Ie),b(t,B),Ke(),o()}var qz=H("<div></div>"),Gz=H("<div><!> <!></div>");function $z(t,e){const r=er(e,["children","$$slots","$$events","$$legacy"]);Xe(e,!1);let n=R(e,"value",8,void 0),i=R(e,"format",8,void 0),o=R(e,"color",8,void 0),s=R(e,"classes",24,()=>({}));pr();var l=Gz(),c=v(l);{var d=f=>{var h=qz();ae(p=>{$e(h,Mr(p)),ar(h,"--color",o())},[()=>At("color","inline-block size-2 rounded-full bg-[var(--color)]",s().color)],Ie),b(f,h)};W(c,f=>{o()&&f(d)})}var u=x(c,2);$t(u,e,"default",{},f=>{var h=Wt();ae(p=>Y(h,p),[()=>i()?Ua(n(),i()):n()],Ie),b(f,h)}),ae(f=>$e(l,Mr(f)),[()=>At("TooltipHeader","font-semibold whitespace-nowrap border-b mb-1 pb-1 flex items-center gap-2",s().root,r.class)],Ie),b(t,l),Ke()}var Yz=H("<div></div>"),Xz=H("<div><div><!> <!></div> <div><!></div></div>");function hx(t,e){const r=er(e,["children","$$slots","$$events","$$legacy"]),n=er(r,["label","value","format","valueAlign","color","onclick","onpointerenter","onpointerleave","classes"]);Xe(e,!1);let i=R(e,"label",8),o=R(e,"value",8,void 0),s=R(e,"format",8,void 0),l=R(e,"valueAlign",8,"left"),c=R(e,"color",8,void 0),d=R(e,"onclick",8,void 0),u=R(e,"onpointerenter",8,void 0),f=R(e,"onpointerleave",8,void 0),h=R(e,"classes",24,()=>({}));pr();var p=Xz();let m;var y=v(p),_=v(y);{var S=k=>{var P=Yz();ae(z=>{$e(P,Mr(z)),ar(P,"--color",c())},[()=>At("color","inline-block size-2 rounded-full bg-[var(--color)]",h().color)],Ie),b(k,P)};W(_,k=>{c()&&k(S)})}var w=x(_,2);$t(w,e,"label",{},k=>{var P=Wt();ae(()=>Y(P,i())),b(k,P)});var C=x(y,2),L=v(C);$t(L,e,"default",{},k=>{var P=Wt();ae(z=>Y(P,z),[()=>s()?Ua(o(),s()):o()],Ie),b(k,P)}),ae((k,P,z)=>{m=In(p,m,{class:k,...n}),$e(y,Mr(P)),$e(C,Mr(z))},[()=>At("contents",h().root,r.class),()=>At("label","flex items-center gap-2 whitespace-nowrap",h().label),()=>At("value","tabular-nums",{"text-right":l()==="right","text-center":l()==="center"},h().value,r.class)],Ie),tt("click",p,function(...k){var P;(P=d())==null||P.apply(this,k)}),tt("pointerenter",p,function(...k){var P;(P=u())==null||P.apply(this,k)}),tt("pointerleave",p,function(...k){var P;(P=f())==null||P.apply(this,k)}),b(t,p),Ke()}var Kz=H("<div><!></div>");function Qz(t,e){const r=er(e,["children","$$slots","$$events","$$legacy"]);Xe(e,!1),pr();var n=Kz(),i=v(n);$t(i,e,"default",{},null),ae(o=>$e(n,Mr(o)),[()=>At("TooltipList","grid grid-cols-[1fr_auto] gap-x-2 gap-y-1 items-center",r.class)],Ie),b(t,n),Ke()}var Jz=H("<div></div>");function Zz(t,e){const r=er(e,["children","$$slots","$$events","$$legacy"]);Xe(e,!1),pr();var n=Jz();ae(i=>$e(n,Mr(i)),[()=>At("rounded bg-surface-content/20 my-1 col-span-full h-px",r.class)],Ie),b(t,n),Ke()}var eB=H("<div><!></div>"),tB=H("<div><div><!></div></div>");function tg(t,e){const r=Cc(e),n=er(e,["children","$$slots","$$events","$$legacy"]);Xe(e,!1);const[i,o]=ct(),s=()=>ie(F,"$tooltip",i),l=()=>ie(A,"$xScale",i),c=()=>ie(O,"$xGet",i),d=()=>ie(D,"$padding",i),u=()=>ie(I,"$yScale",i),f=()=>ie(B,"$yGet",i),h=()=>ie(j,"$containerWidth",i),p=()=>ie(V,"$containerHeight",i),m=()=>ie(Q,"$yPos",i),y=()=>ie(G,"$xPos",i);let _=R(e,"x",8,"pointer"),S=R(e,"y",8,"pointer"),w=R(e,"xOffset",24,()=>_()==="pointer"?10:0),C=R(e,"yOffset",24,()=>S()==="pointer"?10:0),L=R(e,"anchor",8,"top-left"),k=R(e,"contained",8,"container"),P=R(e,"variant",8,"default"),z=R(e,"motion",8,!0),T=R(e,"pointerEvents",8,!1),M=R(e,"classes",24,()=>({}));const{padding:D,xScale:A,xGet:O,yScale:I,yGet:B,containerWidth:j,containerHeight:V}=En(),F=eg();let N=Ve(0),q=Ve(0);const G=Cn(s().x,{spring:z()}),Q=Cn(s().y,{spring:z()});function Z(se,oe,K,J){const te=oe==="center"?J/2:oe==="end"?J:0;return se+(oe==="end"?-K:K)-te}let E=Ve();De(()=>(s(),l(),he(_()),c(),d(),he(L()),u(),he(S()),f(),he(C()),a(q),he(w()),a(N),he(k()),h(),p(),a(E)),()=>{var se,oe;if((se=s())!=null&&se.data){const K=_r(l())?l().step()/2-l().padding()*l().step()/2:0,J=typeof _()=="number"?_():_()==="data"?c()(s().data)+d().left+K:s().x;let te="start";switch(L()){case"top-left":case"left":case"bottom-left":te="start";break;case"top":case"center":case"bottom":te="center";break;case"top-right":case"right":case"bottom-right":te="end";break}const X=_r(u())?u().step()/2-u().padding()*u().step()/2:0,re=typeof S()=="number"?S():S()==="data"?f()(s().data)+d().top+X:s().y;let fe="start";switch(L()){case"top-left":case"top":case"top-right":fe="start";break;case"left":case"center":case"right":fe="center";break;case"bottom-left":case"bottom":case"bottom-right":fe="end";break}const ue={top:Z(re,fe,C(),a(q)),left:Z(J,te,w(),a(N)),bottom:0,right:0};if(ue.bottom=ue.top+a(q),ue.right=ue.left+a(N),k()==="container")typeof _()!="number"&&((te==="start"||te==="center")&&ue.right>h()&&(ue.left=Z(J,"end",w(),a(N))),(te==="end"||te==="center")&&ue.left<d().left&&(ue.left=Z(J,"start",w(),a(N)))),ue.right=ue.left+a(N),typeof S()!="number"&&((fe==="start"||fe==="center")&&ue.bottom>p()&&(ue.top=Z(re,"end",C(),a(q))),(fe==="end"||fe==="center")&&ue.top<d().top&&(ue.top=Z(re,"start",C(),a(q)))),ue.bottom=ue.top+a(q);else if(k()==="window"&&(oe=a(E))!=null&&oe.parentElement){const xe=a(E).parentElement.getBoundingClientRect();typeof _()!="number"&&((te==="start"||te==="center")&&xe.left+ue.right>window.innerWidth&&(ue.left=Z(J,"end",w(),a(N))),(te==="end"||te==="center")&&xe.left+ue.left<0&&(ue.left=Z(J,"start",w(),a(N)))),ue.right=ue.left+a(N),typeof S()!="number"&&((fe==="start"||fe==="center")&&xe.top+ue.bottom>window.innerHeight&&(ue.top=Z(re,"end",C(),a(q))),(fe==="end"||fe==="center")&&xe.top+ue.top<0&&(ue.top=Z(re,"start",C(),a(q)))),ue.bottom=ue.top+a(q)}It(Q,ue.top),It(G,ue.left)}}),Qr(),pr();var U=ke(),$=de(U);{var ee=se=>{var oe=tB(),K=v(oe),J=v(K);{var te=X=>{var re=eB(),fe=v(re);$t(fe,e,"default",{get data(){return s().data}},null),ae(ue=>$e(re,Mr(ue)),[()=>At(M().content)],Ie),b(X,re)};W(J,X=>{r.default&&X(te)})}Ar(oe,X=>g(E,X),()=>a(E)),ae((X,re)=>{$e(oe,Mr(X)),ar(oe,"top",`${m()??""}px`),ar(oe,"left",`${y()??""}px`),$e(K,Mr(re))},[()=>At("absolute z-50 select-none",!T()&&"pointer-events-none",M().root),()=>At(P()!=="none"&&["text-sm py-1 px-2 h-full rounded elevation-1"],{default:["bg-surface-100/90 dark:bg-surface-300/90 backdrop-filter backdrop-blur-[2px] text-surface-content","[&_.label]:text-surface-content/75"],invert:["bg-surface-content/90 backdrop-filter backdrop-blur-[2px] text-surface-100 border border-surface-content","[&_.label]:text-surface-100/50"],none:""}[P()],M().container,n.class)],Ie),Rt(3,oe,()=>es,()=>({duration:100})),jd(oe,"clientWidth",X=>g(N,X)),jd(oe,"clientHeight",X=>g(q,X)),b(se,oe)};W($,se=>{s().data&&se(ee)})}b(t,U),Ke(),o()}var rB=H("<!> <!>",1),nB=H("<!> <!> <!>",1),aB=H("<!> <!> <!>",1),iB=H("<!> <!> <!> <!> <!>",1),oB=H("<!> <!>",1),sB=H("<!> <!>",1),lB=H("<!> <!>",1),cB=H("<!> <!> <!> <!> <!>",1);function fw(t,e){const r=er(e,["children","$$slots","$$events","$$legacy"]),n=er(r,["data","x","y","xDomain","radial","series","seriesLayout","axis","brush","grid","labels","legend","points","rule","tooltipContext","ontooltipclick","onpointclick","props","renderContext","profile","debug"]);Xe(e,!1);const[i,o]=ct(),s=()=>ie(U,"$selectedSeries",i),l=Ve(),c=Ve(),d=Ve(),u=Ve(),f=Ve(),h=Ve(),p=Ve();let m=R(e,"data",24,()=>[]),y=R(e,"x",8,void 0),_=R(e,"y",8,void 0),S=R(e,"xDomain",12,void 0),w=R(e,"radial",8,!1),C=R(e,"series",24,()=>[{key:"default",value:_(),color:"hsl(var(--color-primary))"}]),L=R(e,"seriesLayout",8,"overlap"),k=R(e,"axis",8,!0),P=R(e,"brush",8,!1),z=R(e,"grid",8,!0),T=R(e,"labels",8,!1),M=R(e,"legend",8,!1),D=R(e,"points",8,!1),A=R(e,"rule",8,!0),O=R(e,"tooltipContext",12,void 0),I=R(e,"ontooltipclick",8,()=>{}),B=R(e,"onpointclick",8,void 0),j=R(e,"props",24,()=>({})),V=R(e,"renderContext",8,"svg"),F=R(e,"profile",8,!1),N=R(e,"debug",8,!1),q=Ve(null);function G(K){g(q,K)}function Q(K,J){var re,fe,ue,xe;const te={...j().line,...typeof((re=j().area)==null?void 0:re.line)=="object"?j().area.line:null,...typeof((fe=K.props)==null?void 0:fe.line)=="object"?K.props.line:null};return{data:K.data,y0:a(c)?we=>we.stackData[J][0]:Array.isArray(K.value)?K.value[0]:void 0,y1:a(c)?we=>we.stackData[J][1]:Array.isArray(K.value)?K.value[1]:K.value??(K.data?void 0:K.key),fill:K.color,fillOpacity:.3,...j().area,...K.props,class:At("transition-opacity",a(h).length>1&&a(q)&&a(q)!==K.key&&"opacity-10",(ue=j().area)==null?void 0:ue.class,(xe=K.props)==null?void 0:xe.class),line:{stroke:K.color,...te,class:At("transition-opacity",a(h).length>1&&a(q)&&a(q)!==K.key&&"opacity-10",te.class)}}}function Z(K,J){var X;return{data:K.data,y:a(c)?re=>re.stackData[J][1]:Array.isArray(K.value)?K.value[1]:K.value??(K.data?void 0:K.key),fill:K.color,...j().points,...typeof D()=="object"?D():null,class:At("stroke-surface-200 transition-opacity",a(q)&&a(q)!==K.key&&"opacity-10",(X=j().points)==null?void 0:X.class,typeof D()=="object"&&D().class)}}function E(K,J){var X;return{data:K.data,y:a(c)?re=>re.stackData[J][1]:Array.isArray(K.value)?K.value[1]:K.value??(K.data?void 0:K.key),...j().labels,...typeof T()=="object"?T():null,class:At("stroke-surface-200 transition-opacity",a(q)&&a(q)!==K.key&&"opacity-10",(X=j().labels)==null?void 0:X.class,typeof T()=="object"&&T().class)}}const U=qT();F()&&(console.time("AreaChart render"),Zt(()=>{console.timeEnd("AreaChart render")})),De(()=>he(C()),()=>{g(l,C().length===1&&C()[0].key==="default")}),De(()=>he(L()),()=>{g(c,L().startsWith("stack"))}),De(()=>(he(C()),s()),()=>{g(h,C().filter(K=>s().selected.length===0||s().isSelected(K.key)))}),De(()=>a(h),()=>{g(d,a(h).flatMap(K=>{var J;return(J=K.data)==null?void 0:J.map(te=>({seriesKey:K.key,...te}))}).filter(K=>K))}),De(()=>(a(d),he(m())),()=>{g(u,a(d).length?a(d):Xl(m()))}),De(()=>(a(c),a(h),he(L()),he(C()),he(m()),a(u)),()=>{if(a(c)){const K=a(h).map(X=>X.key),J=L()==="stackExpand"?rP:L()==="stackDiverging"?nP:Zd,te=tP().keys(K).value((X,re)=>{const fe=C().find(ue=>ue.key===re);return ln(fe.value??fe.key)(X)}).offset(J)(Xl(m()));g(u,a(u).map((X,re)=>({...X,stackData:te.map(fe=>fe[re])})))}}),De(()=>(he(r),he(y()),a(u),Uo),()=>{g(f,r.xScale??(ln(y())(a(u)[0])instanceof Date?SM():Uo()))}),De(()=>(he(P()),he(j())),()=>{g(p,{...typeof P()=="object"?P():null,...j().brush})}),Qr(),pr();const $=Ie(()=>_()??(a(c)?K=>a(h).flatMap((J,te)=>K.stackData[te]):a(h).map(K=>K.value??K.key))),ee=Ie(()=>w()?void 0:sO(k(),M())),se=Ie(()=>{var K;return r.tooltip===!1?!1:{mode:"bisect-x",onclick:I(),debug:N(),...(K=j().tooltip)==null?void 0:K.context,...r.tooltip}}),oe=Ie(()=>P()&&(P()===!0||P().mode==null||P().mode==="integrated")?{axis:"x",resetOnEnd:!0,xDomain:S(),...a(p),onbrushend:K=>{var J,te;S(K.xDomain),(te=(J=a(p)).onbrushend)==null||te.call(J,K)}}:!1);_z(t,Ot({get data(){return a(u)},get x(){return y()},get xDomain(){return S()},get xScale(){return a(f)},get y(){return a($)},yBaseline:0,yNice:!0,get radial(){return w()},get padding(){return a(ee)}},()=>n,{get tooltip(){return a(se)},get brush(){return a(oe)},get tooltipContext(){return O()},set tooltipContext(K){O(K)},children:za,$$slots:{default:(K,J)=>{const te=Ie(()=>J.x),X=Ie(()=>J.xScale),re=Ie(()=>J.y),fe=Ie(()=>J.yScale),ue=Ie(()=>J.c),xe=Ie(()=>J.cScale),we=Ie(()=>J.width),me=Ie(()=>J.height),ce=Ie(()=>J.padding),ye=Ie(()=>J.tooltip);var be=ke();const ve=Ie(()=>({x:a(te),xScale:a(X),y:a(re),yScale:a(fe),c:a(ue),cScale:a(xe),width:a(we),height:a(me),padding:a(ce),tooltip:a(ye),series:C(),visibleSeries:a(h),getAreaProps:Q,getLabelsProps:E,getPointsProps:Z,setHighlightSeriesKey:G}));var Se=de(be);$t(Se,e,"default",Ot({},()=>a(ve)),Ee=>{var Be=cB(),Ae=de(Be);$t(Ae,e,"belowContext",Ot({},()=>a(ve)),null);var Ce=x(Ae,2);np(Ce,()=>V()==="canvas"?GN:Cd,(Le,Re)=>{Re(Le,{get center(){return w()},get debug(){return N()},children:(Me,Te)=>{var ze=iB(),Fe=de(ze);$t(Fe,e,"grid",Ot({},()=>a(ve)),We=>{var He=ke(),nt=de(He);{var Qe=rt=>{Sz(rt,Ot({get x(){return w()},y:!0},()=>typeof z()=="object"?z():null,()=>j().grid))};W(nt,rt=>{z()&&rt(Qe)})}b(We,He)});var Ye=x(Fe,2);const Je=Ie(()=>!P());v0(Ye,{get disabled(){return a(Je)},children:(We,He)=>{var nt=rB(),Qe=de(nt);$t(Qe,e,"belowMarks",Ot({},()=>a(ve)),null);var rt=x(Qe,2);$t(rt,e,"marks",Ot({},()=>a(ve)),ot=>{var Lt=ke(),Et=de(Lt);St(Et,3,()=>a(h),dt=>dt.key,(dt,wt,it)=>{var ht=Ne(()=>Q(a(wt),a(it)));nz(dt,Ot(()=>a(ht)))}),b(ot,Lt)}),b(We,nt)},$$slots:{default:!0}});var et=x(Ye,2);$t(et,e,"aboveMarks",Ot({},()=>a(ve)),null);var Ze=x(et,2);$t(Ze,e,"axis",Ot({},()=>a(ve)),We=>{var He=ke(),nt=de(He);{var Qe=rt=>{var ot=nB(),Lt=de(ot);{var Et=at=>{const gt=Ie(()=>w()?"radius":"left");fx(at,Ot({get placement(){return a(gt)},format:Gt=>L()==="stackExpand"?Ua(Gt,"percentRound"):Ua(Gt,void 0,{variant:"short"})},()=>typeof k()=="object"?k():null,()=>j().yAxis))};W(Lt,at=>{k()!=="x"&&at(Et)})}var dt=x(Lt,2);{var wt=at=>{const gt=Ie(()=>w()?"angle":"bottom");fx(at,Ot({get placement(){return a(gt)},format:Gt=>Ua(Gt,void 0,{variant:"short"})},()=>typeof k()=="object"?k():null,()=>j().xAxis))};W(dt,at=>{k()!=="y"&&at(wt)})}var it=x(dt,2);{var ht=at=>{No(at,Ot({x:0,y:0},()=>typeof A()=="object"?A():null,()=>j().rule))};W(it,at=>{A()&&at(ht)})}b(rt,ot)};W(nt,rt=>{k()&&rt(Qe)})}b(We,He)});var Ge=x(Ze,2);const Pe=Ie(()=>!P());v0(Ge,{get disabled(){return a(Pe)},full:!0,children:(We,He)=>{var nt=aB(),Qe=de(nt);{var rt=dt=>{var wt=ke(),it=de(wt);St(it,3,()=>a(h),ht=>ht.key,(ht,at,gt)=>{var Gt=Ne(()=>Z(a(at),a(gt)));uw(ht,Ot(()=>a(Gt)))}),b(dt,wt)};W(Qe,dt=>{D()&&dt(rt)})}var ot=x(Qe,2);$t(ot,e,"highlight",Ot({},()=>a(ve)),dt=>{var wt=ke(),it=de(wt);St(it,3,()=>a(h),ht=>ht.key,(ht,at,gt)=>{const Gt=Ie(()=>a(at).data&&a(ye).data?_1(a(at).data,a(ye).data,a(te)):null),Kt=Ie(()=>{var yt;return typeof((yt=j().highlight)==null?void 0:yt.points)=="object"?j().highlight.points:null}),sr=Ie(()=>a(c)?yt=>yt.stackData[a(gt)][1]:a(at).value??(a(at).data?void 0:a(at).key)),wr=Ie(()=>a(gt)==0),ft=Ie(()=>B()?(yt,Bt)=>B()(yt,{...Bt,series:a(at)}):void 0),Mt=Ie(()=>{var yt;return{...a(Kt),fill:a(at).color,class:At("transition-opacity",a(q)&&a(q)!==a(at).key&&"opacity-10",(yt=a(Kt))==null?void 0:yt.class)}});Dz(ht,Ot({get data(){return a(Gt)},get y(){return a(sr)},get lines(){return a(wr)},get onpointclick(){return a(ft)},onpointenter:()=>g(q,a(at).key),onpointleave:()=>g(q,null)},()=>j().highlight,{get points(){return a(Mt)}}))}),b(dt,wt)});var Lt=x(ot,2);{var Et=dt=>{var wt=ke(),it=de(wt);St(it,3,()=>a(h),ht=>ht.key,(ht,at,gt)=>{var Gt=Ne(()=>E(a(at),a(gt)));Oz(ht,Ot(()=>a(Gt)))}),b(dt,wt)};W(Lt,dt=>{T()&&dt(Et)})}b(We,nt)},$$slots:{default:!0}}),b(Me,ze)},$$slots:{default:!0}})});var _e=x(Ce,2);$t(_e,e,"aboveContext",Ot({},()=>a(ve)),null);var ge=x(_e,2);$t(ge,e,"legend",Ot({},()=>a(ve)),Le=>{var Re=ke(),Me=de(Re);{var Te=ze=>{const Fe=Ie(()=>a(l)?void 0:sc(C().map(Je=>Je.key),C().map(Je=>Je.color))),Ye=Ie(()=>{var Je;return{item:et=>a(h).length&&!a(h).some(Ze=>Ze.key===et.value)?"opacity-50":"",...(Je=j().legend)==null?void 0:Je.classes,...typeof M()=="object"?M().classes:null}});Hz(ze,Ot({get scale(){return a(Fe)},tickFormat:Je=>{var et;return((et=C().find(Ze=>Ze.key===Je))==null?void 0:et.label)??Je},placement:"bottom",variant:"swatches",onclick:(Je,et)=>s().toggleSelected(et.value),onpointerenter:(Je,et)=>g(q,et.value),onpointerleave:Je=>g(q,null)},()=>j().legend,()=>typeof M()=="object"?M():null,{get classes(){return a(Ye)}}))};W(Me,ze=>{M()&&ze(Te)})}b(Le,Re)});var Oe=x(ge,2);$t(Oe,e,"tooltip",Ot({},()=>a(ve)),Le=>{tg(Le,Ot(()=>{var Re;return(Re=j().tooltip)==null?void 0:Re.root},{children:za,$$slots:{default:(Re,Me)=>{const Te=Ie(()=>Me.data);var ze=lB(),Fe=de(ze);const Ye=Ie(()=>a(te)(a(Te)));$z(Fe,Ot({get value(){return a(Ye)},format:Ua},()=>{var et;return(et=j().tooltip)==null?void 0:et.header}));var Je=x(Fe,2);Qz(Je,Ot(()=>{var et;return(et=j().tooltip)==null?void 0:et.list},{children:(et,Ze)=>{var Ge=sB();const Pe=Ie(()=>a(c)?[...a(h)].reverse():a(h));var We=de(Ge);St(We,1,()=>a(Pe),zt,(Qe,rt)=>{const ot=Ie(()=>a(rt).data?_1(a(rt).data,a(Te),a(te)):a(Te)),Lt=Ie(()=>ln(a(rt).value??(a(rt).data?a(re):a(rt).key))),Et=Ie(()=>a(rt).label??(a(rt).key!=="default"?a(rt).key:"value")),dt=Ie(()=>a(ot)?a(Lt)(a(ot)):null);hx(Qe,Ot({get label(){return a(Et)},get value(){return a(dt)},get color(){return a(rt).color},format:Ua,valueAlign:"right",onpointerenter:()=>g(q,a(rt).key),onpointerleave:()=>g(q,null)},()=>{var wt;return(wt=j().tooltip)==null?void 0:wt.item}))});var He=x(We,2);{var nt=Qe=>{var rt=oB(),ot=de(rt);Zz(ot,Ot(()=>{var dt;return(dt=j().tooltip)==null?void 0:dt.separator}));var Lt=x(ot,2);const Et=Ie(()=>dC(a(h),dt=>{const wt=dt.data?dt.data.find(ht=>a(te)(ht)===a(te)(a(Te))):a(Te);return ln(dt.value??(dt.data?a(re):dt.key))(wt)}));hx(Lt,Ot({label:"total",get value(){return a(Et)},format:"integer",valueAlign:"right"},()=>{var dt;return(dt=j().tooltip)==null?void 0:dt.root})),b(Qe,rt)};W(He,Qe=>{a(c)&&a(h).length>1&&Qe(nt)})}b(et,Ge)},$$slots:{default:!0}})),b(Re,ze)}}}))}),b(Ee,Be)}),b(K,be)}},$$legacy:!0})),Ke(),o()}var xv,px;function rg(){if(px)return xv;px=1;var t="\0",e="\0",r="";class n{constructor(u){Jt(this,"_isDirected",!0);Jt(this,"_isMultigraph",!1);Jt(this,"_isCompound",!1);Jt(this,"_label");Jt(this,"_defaultNodeLabelFn",()=>{});Jt(this,"_defaultEdgeLabelFn",()=>{});Jt(this,"_nodes",{});Jt(this,"_in",{});Jt(this,"_preds",{});Jt(this,"_out",{});Jt(this,"_sucs",{});Jt(this,"_edgeObjs",{});Jt(this,"_edgeLabels",{});Jt(this,"_nodeCount",0);Jt(this,"_edgeCount",0);Jt(this,"_parent");Jt(this,"_children");u&&(this._isDirected=Object.hasOwn(u,"directed")?u.directed:!0,this._isMultigraph=Object.hasOwn(u,"multigraph")?u.multigraph:!1,this._isCompound=Object.hasOwn(u,"compound")?u.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[e]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(u){return this._label=u,this}graph(){return this._label}setDefaultNodeLabel(u){return this._defaultNodeLabelFn=u,typeof u!="function"&&(this._defaultNodeLabelFn=()=>u),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var u=this;return this.nodes().filter(f=>Object.keys(u._in[f]).length===0)}sinks(){var u=this;return this.nodes().filter(f=>Object.keys(u._out[f]).length===0)}setNodes(u,f){var h=arguments,p=this;return u.forEach(function(m){h.length>1?p.setNode(m,f):p.setNode(m)}),this}setNode(u,f){return Object.hasOwn(this._nodes,u)?(arguments.length>1&&(this._nodes[u]=f),this):(this._nodes[u]=arguments.length>1?f:this._defaultNodeLabelFn(u),this._isCompound&&(this._parent[u]=e,this._children[u]={},this._children[e][u]=!0),this._in[u]={},this._preds[u]={},this._out[u]={},this._sucs[u]={},++this._nodeCount,this)}node(u){return this._nodes[u]}hasNode(u){return Object.hasOwn(this._nodes,u)}removeNode(u){var f=this;if(Object.hasOwn(this._nodes,u)){var h=p=>f.removeEdge(f._edgeObjs[p]);delete this._nodes[u],this._isCompound&&(this._removeFromParentsChildList(u),delete this._parent[u],this.children(u).forEach(function(p){f.setParent(p)}),delete this._children[u]),Object.keys(this._in[u]).forEach(h),delete this._in[u],delete this._preds[u],Object.keys(this._out[u]).forEach(h),delete this._out[u],delete this._sucs[u],--this._nodeCount}return this}setParent(u,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(f===void 0)f=e;else{f+="";for(var h=f;h!==void 0;h=this.parent(h))if(h===u)throw new Error("Setting "+f+" as parent of "+u+" would create a cycle");this.setNode(f)}return this.setNode(u),this._removeFromParentsChildList(u),this._parent[u]=f,this._children[f][u]=!0,this}_removeFromParentsChildList(u){delete this._children[this._parent[u]][u]}parent(u){if(this._isCompound){var f=this._parent[u];if(f!==e)return f}}children(u=e){if(this._isCompound){var f=this._children[u];if(f)return Object.keys(f)}else{if(u===e)return this.nodes();if(this.hasNode(u))return[]}}predecessors(u){var f=this._preds[u];if(f)return Object.keys(f)}successors(u){var f=this._sucs[u];if(f)return Object.keys(f)}neighbors(u){var f=this.predecessors(u);if(f){const p=new Set(f);for(var h of this.successors(u))p.add(h);return Array.from(p.values())}}isLeaf(u){var f;return this.isDirected()?f=this.successors(u):f=this.neighbors(u),f.length===0}filterNodes(u){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var h=this;Object.entries(this._nodes).forEach(function([y,_]){u(y)&&f.setNode(y,_)}),Object.values(this._edgeObjs).forEach(function(y){f.hasNode(y.v)&&f.hasNode(y.w)&&f.setEdge(y,h.edge(y))});var p={};function m(y){var _=h.parent(y);return _===void 0||f.hasNode(_)?(p[y]=_,_):_ in p?p[_]:m(_)}return this._isCompound&&f.nodes().forEach(y=>f.setParent(y,m(y))),f}setDefaultEdgeLabel(u){return this._defaultEdgeLabelFn=u,typeof u!="function"&&(this._defaultEdgeLabelFn=()=>u),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(u,f){var h=this,p=arguments;return u.reduce(function(m,y){return p.length>1?h.setEdge(m,y,f):h.setEdge(m,y),y}),this}setEdge(){var u,f,h,p,m=!1,y=arguments[0];typeof y=="object"&&y!==null&&"v"in y?(u=y.v,f=y.w,h=y.name,arguments.length===2&&(p=arguments[1],m=!0)):(u=y,f=arguments[1],h=arguments[3],arguments.length>2&&(p=arguments[2],m=!0)),u=""+u,f=""+f,h!==void 0&&(h=""+h);var _=s(this._isDirected,u,f,h);if(Object.hasOwn(this._edgeLabels,_))return m&&(this._edgeLabels[_]=p),this;if(h!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(u),this.setNode(f),this._edgeLabels[_]=m?p:this._defaultEdgeLabelFn(u,f,h);var S=l(this._isDirected,u,f,h);return u=S.v,f=S.w,Object.freeze(S),this._edgeObjs[_]=S,i(this._preds[f],u),i(this._sucs[u],f),this._in[f][_]=S,this._out[u][_]=S,this._edgeCount++,this}edge(u,f,h){var p=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,u,f,h);return this._edgeLabels[p]}edgeAsObj(){const u=this.edge(...arguments);return typeof u!="object"?{label:u}:u}hasEdge(u,f,h){var p=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,u,f,h);return Object.hasOwn(this._edgeLabels,p)}removeEdge(u,f,h){var p=arguments.length===1?c(this._isDirected,arguments[0]):s(this._isDirected,u,f,h),m=this._edgeObjs[p];return m&&(u=m.v,f=m.w,delete this._edgeLabels[p],delete this._edgeObjs[p],o(this._preds[f],u),o(this._sucs[u],f),delete this._in[f][p],delete this._out[u][p],this._edgeCount--),this}inEdges(u,f){var h=this._in[u];if(h){var p=Object.values(h);return f?p.filter(m=>m.v===f):p}}outEdges(u,f){var h=this._out[u];if(h){var p=Object.values(h);return f?p.filter(m=>m.w===f):p}}nodeEdges(u,f){var h=this.inEdges(u,f);if(h)return h.concat(this.outEdges(u,f))}}function i(d,u){d[u]?d[u]++:d[u]=1}function o(d,u){--d[u]||delete d[u]}function s(d,u,f,h){var p=""+u,m=""+f;if(!d&&p>m){var y=p;p=m,m=y}return p+r+m+r+(h===void 0?t:h)}function l(d,u,f,h){var p=""+u,m=""+f;if(!d&&p>m){var y=p;p=m,m=y}var _={v:p,w:m};return h&&(_.name=h),_}function c(d,u){return s(d,u.v,u.w,u.name)}return xv=n,xv}var yv,gx;function dB(){return gx||(gx=1,yv="2.2.4"),yv}var _v,mx;function uB(){return mx||(mx=1,_v={Graph:rg(),version:dB()}),_v}var bv,xx;function fB(){if(xx)return bv;xx=1;var t=rg();bv={write:e,read:i};function e(o){var s={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:r(o),edges:n(o)};return o.graph()!==void 0&&(s.value=structuredClone(o.graph())),s}function r(o){return o.nodes().map(function(s){var l=o.node(s),c=o.parent(s),d={v:s};return l!==void 0&&(d.value=l),c!==void 0&&(d.parent=c),d})}function n(o){return o.edges().map(function(s){var l=o.edge(s),c={v:s.v,w:s.w};return s.name!==void 0&&(c.name=s.name),l!==void 0&&(c.value=l),c})}function i(o){var s=new t(o.options).setGraph(o.value);return o.nodes.forEach(function(l){s.setNode(l.v,l.value),l.parent&&s.setParent(l.v,l.parent)}),o.edges.forEach(function(l){s.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),s}return bv}var wv,yx;function vB(){if(yx)return wv;yx=1,wv=t;function t(e){var r={},n=[],i;function o(s){Object.hasOwn(r,s)||(r[s]=!0,i.push(s),e.successors(s).forEach(o),e.predecessors(s).forEach(o))}return e.nodes().forEach(function(s){i=[],o(s),i.length&&n.push(i)}),n}return wv}var kv,_x;function vw(){if(_x)return kv;_x=1;class t{constructor(){Jt(this,"_arr",[]);Jt(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(r){return r.key})}has(r){return Object.hasOwn(this._keyIndices,r)}priority(r){var n=this._keyIndices[r];if(n!==void 0)return this._arr[n].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(r,n){var i=this._keyIndices;if(r=String(r),!Object.hasOwn(i,r)){var o=this._arr,s=o.length;return i[r]=s,o.push({key:r,priority:n}),this._decrease(s),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key}decrease(r,n){var i=this._keyIndices[r];if(n>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[i].priority+" New: "+n);this._arr[i].priority=n,this._decrease(i)}_heapify(r){var n=this._arr,i=2*r,o=i+1,s=r;i<n.length&&(s=n[i].priority<n[s].priority?i:s,o<n.length&&(s=n[o].priority<n[s].priority?o:s),s!==r&&(this._swap(r,s),this._heapify(s)))}_decrease(r){for(var n=this._arr,i=n[r].priority,o;r!==0&&(o=r>>1,!(n[o].priority<i));)this._swap(r,o),r=o}_swap(r,n){var i=this._arr,o=this._keyIndices,s=i[r],l=i[n];i[r]=l,i[n]=s,o[l.key]=r,o[s.key]=n}}return kv=t,kv}var Sv,bx;function hw(){if(bx)return Sv;bx=1;var t=vw();Sv=r;var e=()=>1;function r(i,o,s,l){return n(i,String(o),s||e,l||function(c){return i.outEdges(c)})}function n(i,o,s,l){var c={},d=new t,u,f,h=function(p){var m=p.v!==u?p.v:p.w,y=c[m],_=s(p),S=f.distance+_;if(_<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+p+" Weight: "+_);S<y.distance&&(y.distance=S,y.predecessor=u,d.decrease(m,S))};for(i.nodes().forEach(function(p){var m=p===o?0:Number.POSITIVE_INFINITY;c[p]={distance:m},d.add(p,m)});d.size()>0&&(u=d.removeMin(),f=c[u],f.distance!==Number.POSITIVE_INFINITY);)l(u).forEach(h);return c}return Sv}var Cv,wx;function hB(){if(wx)return Cv;wx=1;var t=hw();Cv=e;function e(r,n,i){return r.nodes().reduce(function(o,s){return o[s]=t(r,s,n,i),o},{})}return Cv}var Av,kx;function pw(){if(kx)return Av;kx=1,Av=t;function t(e){var r=0,n=[],i={},o=[];function s(l){var c=i[l]={onStack:!0,lowlink:r,index:r++};if(n.push(l),e.successors(l).forEach(function(f){Object.hasOwn(i,f)?i[f].onStack&&(c.lowlink=Math.min(c.lowlink,i[f].index)):(s(f),c.lowlink=Math.min(c.lowlink,i[f].lowlink))}),c.lowlink===c.index){var d=[],u;do u=n.pop(),i[u].onStack=!1,d.push(u);while(l!==u);o.push(d)}}return e.nodes().forEach(function(l){Object.hasOwn(i,l)||s(l)}),o}return Av}var Mv,Sx;function pB(){if(Sx)return Mv;Sx=1;var t=pw();Mv=e;function e(r){return t(r).filter(function(n){return n.length>1||n.length===1&&r.hasEdge(n[0],n[0])})}return Mv}var Pv,Cx;function gB(){if(Cx)return Pv;Cx=1,Pv=e;var t=()=>1;function e(n,i,o){return r(n,i||t,o||function(s){return n.outEdges(s)})}function r(n,i,o){var s={},l=n.nodes();return l.forEach(function(c){s[c]={},s[c][c]={distance:0},l.forEach(function(d){c!==d&&(s[c][d]={distance:Number.POSITIVE_INFINITY})}),o(c).forEach(function(d){var u=d.v===c?d.w:d.v,f=i(d);s[c][u]={distance:f,predecessor:c}})}),l.forEach(function(c){var d=s[c];l.forEach(function(u){var f=s[u];l.forEach(function(h){var p=f[c],m=d[h],y=f[h],_=p.distance+m.distance;_<y.distance&&(y.distance=_,y.predecessor=m.predecessor)})})}),s}return Pv}var Dv,Ax;function gw(){if(Ax)return Dv;Ax=1;function t(r){var n={},i={},o=[];function s(l){if(Object.hasOwn(i,l))throw new e;Object.hasOwn(n,l)||(i[l]=!0,n[l]=!0,r.predecessors(l).forEach(s),delete i[l],o.push(l))}if(r.sinks().forEach(s),Object.keys(n).length!==r.nodeCount())throw new e;return o}class e extends Error{constructor(){super(...arguments)}}return Dv=t,t.CycleException=e,Dv}var Lv,Mx;function mB(){if(Mx)return Lv;Mx=1;var t=gw();Lv=e;function e(r){try{t(r)}catch(n){if(n instanceof t.CycleException)return!1;throw n}return!0}return Lv}var Ev,Px;function mw(){if(Px)return Ev;Px=1,Ev=t;function t(i,o,s){Array.isArray(o)||(o=[o]);var l=i.isDirected()?f=>i.successors(f):f=>i.neighbors(f),c=s==="post"?e:r,d=[],u={};return o.forEach(f=>{if(!i.hasNode(f))throw new Error("Graph does not have node: "+f);c(f,l,u,d)}),d}function e(i,o,s,l){for(var c=[[i,!1]];c.length>0;){var d=c.pop();d[1]?l.push(d[0]):Object.hasOwn(s,d[0])||(s[d[0]]=!0,c.push([d[0],!0]),n(o(d[0]),u=>c.push([u,!1])))}}function r(i,o,s,l){for(var c=[i];c.length>0;){var d=c.pop();Object.hasOwn(s,d)||(s[d]=!0,l.push(d),n(o(d),u=>c.push(u)))}}function n(i,o){for(var s=i.length;s--;)o(i[s],s,i);return i}return Ev}var Iv,Dx;function xB(){if(Dx)return Iv;Dx=1;var t=mw();Iv=e;function e(r,n){return t(r,n,"post")}return Iv}var Tv,Lx;function yB(){if(Lx)return Tv;Lx=1;var t=mw();Tv=e;function e(r,n){return t(r,n,"pre")}return Tv}var Ov,Ex;function _B(){if(Ex)return Ov;Ex=1;var t=rg(),e=vw();Ov=r;function r(n,i){var o=new t,s={},l=new e,c;function d(f){var h=f.v===c?f.w:f.v,p=l.priority(h);if(p!==void 0){var m=i(f);m<p&&(s[h]=c,l.decrease(h,m))}}if(n.nodeCount()===0)return o;n.nodes().forEach(function(f){l.add(f,Number.POSITIVE_INFINITY),o.setNode(f)}),l.decrease(n.nodes()[0],0);for(var u=!1;l.size()>0;){if(c=l.removeMin(),Object.hasOwn(s,c))o.setEdge(c,s[c]);else{if(u)throw new Error("Input graph is not connected: "+n);u=!0}n.nodeEdges(c).forEach(d)}return o}return Ov}var Rv,Ix;function bB(){return Ix||(Ix=1,Rv={components:vB(),dijkstra:hw(),dijkstraAll:hB(),findCycles:pB(),floydWarshall:gB(),isAcyclic:mB(),postorder:xB(),preorder:yB(),prim:_B(),tarjan:pw(),topsort:gw()}),Rv}var Nv,Tx;function li(){if(Tx)return Nv;Tx=1;var t=uB();return Nv={Graph:t.Graph,json:fB(),alg:bB(),version:t.version},Nv}var zv,Ox;function wB(){if(Ox)return zv;Ox=1;class t{constructor(){let i={};i._next=i._prev=i,this._sentinel=i}dequeue(){let i=this._sentinel,o=i._prev;if(o!==i)return e(o),o}enqueue(i){let o=this._sentinel;i._prev&&i._next&&e(i),i._next=o._next,o._next._prev=i,o._next=i,i._prev=o}toString(){let i=[],o=this._sentinel,s=o._prev;for(;s!==o;)i.push(JSON.stringify(s,r)),s=s._prev;return"["+i.join(", ")+"]"}}function e(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function r(n,i){if(n!=="_next"&&n!=="_prev")return i}return zv=t,zv}var Bv,Rx;function kB(){if(Rx)return Bv;Rx=1;let t=li().Graph,e=wB();Bv=n;let r=()=>1;function n(d,u){if(d.nodeCount()<=1)return[];let f=s(d,u||r);return i(f.graph,f.buckets,f.zeroIdx).flatMap(p=>d.outEdges(p.v,p.w))}function i(d,u,f){let h=[],p=u[u.length-1],m=u[0],y;for(;d.nodeCount();){for(;y=m.dequeue();)o(d,u,f,y);for(;y=p.dequeue();)o(d,u,f,y);if(d.nodeCount()){for(let _=u.length-2;_>0;--_)if(y=u[_].dequeue(),y){h=h.concat(o(d,u,f,y,!0));break}}}return h}function o(d,u,f,h,p){let m=p?[]:void 0;return d.inEdges(h.v).forEach(y=>{let _=d.edge(y),S=d.node(y.v);p&&m.push({v:y.v,w:y.w}),S.out-=_,l(u,f,S)}),d.outEdges(h.v).forEach(y=>{let _=d.edge(y),S=y.w,w=d.node(S);w.in-=_,l(u,f,w)}),d.removeNode(h.v),m}function s(d,u){let f=new t,h=0,p=0;d.nodes().forEach(_=>{f.setNode(_,{v:_,in:0,out:0})}),d.edges().forEach(_=>{let S=f.edge(_.v,_.w)||0,w=u(_),C=S+w;f.setEdge(_.v,_.w,C),p=Math.max(p,f.node(_.v).out+=w),h=Math.max(h,f.node(_.w).in+=w)});let m=c(p+h+3).map(()=>new e),y=h+1;return f.nodes().forEach(_=>{l(m,y,f.node(_))}),{graph:f,buckets:m,zeroIdx:y}}function l(d,u,f){f.out?f.in?d[f.out-f.in+u].enqueue(f):d[d.length-1].enqueue(f):d[0].enqueue(f)}function c(d){const u=[];for(let f=0;f<d;f++)u.push(f);return u}return Bv}var jv,Nx;function Rn(){if(Nx)return jv;Nx=1;let t=li().Graph;jv={addBorderNode:u,addDummyNode:e,applyWithChunking:p,asNonCompoundGraph:n,buildLayerMatrix:l,intersectRect:s,mapValues:P,maxRank:m,normalizeRanks:c,notime:S,partition:y,pick:k,predecessorWeights:o,range:L,removeEmptyRanks:d,simplify:r,successorWeights:i,time:_,uniqueId:C,zipObject:z};function e(T,M,D,A){let O;do O=C(A);while(T.hasNode(O));return D.dummy=M,T.setNode(O,D),O}function r(T){let M=new t().setGraph(T.graph());return T.nodes().forEach(D=>M.setNode(D,T.node(D))),T.edges().forEach(D=>{let A=M.edge(D.v,D.w)||{weight:0,minlen:1},O=T.edge(D);M.setEdge(D.v,D.w,{weight:A.weight+O.weight,minlen:Math.max(A.minlen,O.minlen)})}),M}function n(T){let M=new t({multigraph:T.isMultigraph()}).setGraph(T.graph());return T.nodes().forEach(D=>{T.children(D).length||M.setNode(D,T.node(D))}),T.edges().forEach(D=>{M.setEdge(D,T.edge(D))}),M}function i(T){let M=T.nodes().map(D=>{let A={};return T.outEdges(D).forEach(O=>{A[O.w]=(A[O.w]||0)+T.edge(O).weight}),A});return z(T.nodes(),M)}function o(T){let M=T.nodes().map(D=>{let A={};return T.inEdges(D).forEach(O=>{A[O.v]=(A[O.v]||0)+T.edge(O).weight}),A});return z(T.nodes(),M)}function s(T,M){let D=T.x,A=T.y,O=M.x-D,I=M.y-A,B=T.width/2,j=T.height/2;if(!O&&!I)throw new Error("Not possible to find intersection inside of the rectangle");let V,F;return Math.abs(I)*B>Math.abs(O)*j?(I<0&&(j=-j),V=j*O/I,F=j):(O<0&&(B=-B),V=B,F=B*I/O),{x:D+V,y:A+F}}function l(T){let M=L(m(T)+1).map(()=>[]);return T.nodes().forEach(D=>{let A=T.node(D),O=A.rank;O!==void 0&&(M[O][A.order]=D)}),M}function c(T){let M=T.nodes().map(A=>{let O=T.node(A).rank;return O===void 0?Number.MAX_VALUE:O}),D=p(Math.min,M);T.nodes().forEach(A=>{let O=T.node(A);Object.hasOwn(O,"rank")&&(O.rank-=D)})}function d(T){let M=T.nodes().map(B=>T.node(B).rank),D=p(Math.min,M),A=[];T.nodes().forEach(B=>{let j=T.node(B).rank-D;A[j]||(A[j]=[]),A[j].push(B)});let O=0,I=T.graph().nodeRankFactor;Array.from(A).forEach((B,j)=>{B===void 0&&j%I!==0?--O:B!==void 0&&O&&B.forEach(V=>T.node(V).rank+=O)})}function u(T,M,D,A){let O={width:0,height:0};return arguments.length>=4&&(O.rank=D,O.order=A),e(T,"border",O,M)}function f(T,M=h){const D=[];for(let A=0;A<T.length;A+=M){const O=T.slice(A,A+M);D.push(O)}return D}const h=65535;function p(T,M){if(M.length>h){const D=f(M);return T.apply(null,D.map(A=>T.apply(null,A)))}else return T.apply(null,M)}function m(T){const D=T.nodes().map(A=>{let O=T.node(A).rank;return O===void 0?Number.MIN_VALUE:O});return p(Math.max,D)}function y(T,M){let D={lhs:[],rhs:[]};return T.forEach(A=>{M(A)?D.lhs.push(A):D.rhs.push(A)}),D}function _(T,M){let D=Date.now();try{return M()}finally{console.log(T+" time: "+(Date.now()-D)+"ms")}}function S(T,M){return M()}let w=0;function C(T){var M=++w;return toString(T)+M}function L(T,M,D=1){M==null&&(M=T,T=0);let A=I=>I<M;D<0&&(A=I=>M<I);const O=[];for(let I=T;A(I);I+=D)O.push(I);return O}function k(T,M){const D={};for(const A of M)T[A]!==void 0&&(D[A]=T[A]);return D}function P(T,M){let D=M;return typeof M=="string"&&(D=A=>A[M]),Object.entries(T).reduce((A,[O,I])=>(A[O]=D(I,O),A),{})}function z(T,M){return T.reduce((D,A,O)=>(D[A]=M[O],D),{})}return jv}var Fv,zx;function SB(){if(zx)return Fv;zx=1;let t=kB(),e=Rn().uniqueId;Fv={run:r,undo:i};function r(o){(o.graph().acyclicer==="greedy"?t(o,l(o)):n(o)).forEach(c=>{let d=o.edge(c);o.removeEdge(c),d.forwardName=c.name,d.reversed=!0,o.setEdge(c.w,c.v,d,e("rev"))});function l(c){return d=>c.edge(d).weight}}function n(o){let s=[],l={},c={};function d(u){Object.hasOwn(c,u)||(c[u]=!0,l[u]=!0,o.outEdges(u).forEach(f=>{Object.hasOwn(l,f.w)?s.push(f):d(f.w)}),delete l[u])}return o.nodes().forEach(d),s}function i(o){o.edges().forEach(s=>{let l=o.edge(s);if(l.reversed){o.removeEdge(s);let c=l.forwardName;delete l.reversed,delete l.forwardName,o.setEdge(s.w,s.v,l,c)}})}return Fv}var Uv,Bx;function CB(){if(Bx)return Uv;Bx=1;let t=Rn();Uv={run:e,undo:n};function e(i){i.graph().dummyChains=[],i.edges().forEach(o=>r(i,o))}function r(i,o){let s=o.v,l=i.node(s).rank,c=o.w,d=i.node(c).rank,u=o.name,f=i.edge(o),h=f.labelRank;if(d===l+1)return;i.removeEdge(o);let p,m,y;for(y=0,++l;l<d;++y,++l)f.points=[],m={width:0,height:0,edgeLabel:f,edgeObj:o,rank:l},p=t.addDummyNode(i,"edge",m,"_d"),l===h&&(m.width=f.width,m.height=f.height,m.dummy="edge-label",m.labelpos=f.labelpos),i.setEdge(s,p,{weight:f.weight},u),y===0&&i.graph().dummyChains.push(p),s=p;i.setEdge(s,c,{weight:f.weight},u)}function n(i){i.graph().dummyChains.forEach(o=>{let s=i.node(o),l=s.edgeLabel,c;for(i.setEdge(s.edgeObj,l);s.dummy;)c=i.successors(o)[0],i.removeNode(o),l.points.push({x:s.x,y:s.y}),s.dummy==="edge-label"&&(l.x=s.x,l.y=s.y,l.width=s.width,l.height=s.height),o=c,s=i.node(o)})}return Uv}var Vv,jx;function Lu(){if(jx)return Vv;jx=1;const{applyWithChunking:t}=Rn();Vv={longestPath:e,slack:r};function e(n){var i={};function o(s){var l=n.node(s);if(Object.hasOwn(i,s))return l.rank;i[s]=!0;let c=n.outEdges(s).map(u=>u==null?Number.POSITIVE_INFINITY:o(u.w)-n.edge(u).minlen);var d=t(Math.min,c);return d===Number.POSITIVE_INFINITY&&(d=0),l.rank=d}n.sources().forEach(o)}function r(n,i){return n.node(i.w).rank-n.node(i.v).rank-n.edge(i).minlen}return Vv}var Wv,Fx;function xw(){if(Fx)return Wv;Fx=1;var t=li().Graph,e=Lu().slack;Wv=r;function r(s){var l=new t({directed:!1}),c=s.nodes()[0],d=s.nodeCount();l.setNode(c,{});for(var u,f;n(l,s)<d;)u=i(l,s),f=l.hasNode(u.v)?e(s,u):-e(s,u),o(l,s,f);return l}function n(s,l){function c(d){l.nodeEdges(d).forEach(u=>{var f=u.v,h=d===f?u.w:f;!s.hasNode(h)&&!e(l,u)&&(s.setNode(h,{}),s.setEdge(d,h,{}),c(h))})}return s.nodes().forEach(c),s.nodeCount()}function i(s,l){return l.edges().reduce((d,u)=>{let f=Number.POSITIVE_INFINITY;return s.hasNode(u.v)!==s.hasNode(u.w)&&(f=e(l,u)),f<d[0]?[f,u]:d},[Number.POSITIVE_INFINITY,null])[1]}function o(s,l,c){s.nodes().forEach(d=>l.node(d).rank+=c)}return Wv}var Hv,Ux;function AB(){if(Ux)return Hv;Ux=1;var t=xw(),e=Lu().slack,r=Lu().longestPath,n=li().alg.preorder,i=li().alg.postorder,o=Rn().simplify;Hv=s,s.initLowLimValues=u,s.initCutValues=l,s.calcCutValue=d,s.leaveEdge=h,s.enterEdge=p,s.exchangeEdges=m;function s(w){w=o(w),r(w);var C=t(w);u(C),l(C,w);for(var L,k;L=h(C);)k=p(C,w,L),m(C,w,L,k)}function l(w,C){var L=i(w,w.nodes());L=L.slice(0,L.length-1),L.forEach(k=>c(w,C,k))}function c(w,C,L){var k=w.node(L),P=k.parent;w.edge(L,P).cutvalue=d(w,C,L)}function d(w,C,L){var k=w.node(L),P=k.parent,z=!0,T=C.edge(L,P),M=0;return T||(z=!1,T=C.edge(P,L)),M=T.weight,C.nodeEdges(L).forEach(D=>{var A=D.v===L,O=A?D.w:D.v;if(O!==P){var I=A===z,B=C.edge(D).weight;if(M+=I?B:-B,_(w,L,O)){var j=w.edge(L,O).cutvalue;M+=I?-j:j}}}),M}function u(w,C){arguments.length<2&&(C=w.nodes()[0]),f(w,{},1,C)}function f(w,C,L,k,P){var z=L,T=w.node(k);return C[k]=!0,w.neighbors(k).forEach(M=>{Object.hasOwn(C,M)||(L=f(w,C,L,M,k))}),T.low=z,T.lim=L++,P?T.parent=P:delete T.parent,L}function h(w){return w.edges().find(C=>w.edge(C).cutvalue<0)}function p(w,C,L){var k=L.v,P=L.w;C.hasEdge(k,P)||(k=L.w,P=L.v);var z=w.node(k),T=w.node(P),M=z,D=!1;z.lim>T.lim&&(M=T,D=!0);var A=C.edges().filter(O=>D===S(w,w.node(O.v),M)&&D!==S(w,w.node(O.w),M));return A.reduce((O,I)=>e(C,I)<e(C,O)?I:O)}function m(w,C,L,k){var P=L.v,z=L.w;w.removeEdge(P,z),w.setEdge(k.v,k.w,{}),u(w),l(w,C),y(w,C)}function y(w,C){var L=w.nodes().find(P=>!C.node(P).parent),k=n(w,L);k=k.slice(1),k.forEach(P=>{var z=w.node(P).parent,T=C.edge(P,z),M=!1;T||(T=C.edge(z,P),M=!0),C.node(P).rank=C.node(z).rank+(M?T.minlen:-T.minlen)})}function _(w,C,L){return w.hasEdge(C,L)}function S(w,C,L){return L.low<=C.lim&&C.lim<=L.lim}return Hv}var qv,Vx;function MB(){if(Vx)return qv;Vx=1;var t=Lu(),e=t.longestPath,r=xw(),n=AB();qv=i;function i(c){switch(c.graph().ranker){case"network-simplex":l(c);break;case"tight-tree":s(c);break;case"longest-path":o(c);break;default:l(c)}}var o=e;function s(c){e(c),r(c)}function l(c){n(c)}return qv}var Gv,Wx;function PB(){if(Wx)return Gv;Wx=1,Gv=t;function t(n){let i=r(n);n.graph().dummyChains.forEach(o=>{let s=n.node(o),l=s.edgeObj,c=e(n,i,l.v,l.w),d=c.path,u=c.lca,f=0,h=d[f],p=!0;for(;o!==l.w;){if(s=n.node(o),p){for(;(h=d[f])!==u&&n.node(h).maxRank<s.rank;)f++;h===u&&(p=!1)}if(!p){for(;f<d.length-1&&n.node(h=d[f+1]).minRank<=s.rank;)f++;h=d[f]}n.setParent(o,h),o=n.successors(o)[0]}})}function e(n,i,o,s){let l=[],c=[],d=Math.min(i[o].low,i[s].low),u=Math.max(i[o].lim,i[s].lim),f,h;f=o;do f=n.parent(f),l.push(f);while(f&&(i[f].low>d||u>i[f].lim));for(h=f,f=s;(f=n.parent(f))!==h;)c.push(f);return{path:l.concat(c.reverse()),lca:h}}function r(n){let i={},o=0;function s(l){let c=o;n.children(l).forEach(s),i[l]={low:c,lim:o++}}return n.children().forEach(s),i}return Gv}var $v,Hx;function DB(){if(Hx)return $v;Hx=1;let t=Rn();$v={run:e,cleanup:o};function e(s){let l=t.addDummyNode(s,"root",{},"_root"),c=n(s),d=Object.values(c),u=t.applyWithChunking(Math.max,d)-1,f=2*u+1;s.graph().nestingRoot=l,s.edges().forEach(p=>s.edge(p).minlen*=f);let h=i(s)+1;s.children().forEach(p=>r(s,l,f,h,u,c,p)),s.graph().nodeRankFactor=f}function r(s,l,c,d,u,f,h){let p=s.children(h);if(!p.length){h!==l&&s.setEdge(l,h,{weight:0,minlen:c});return}let m=t.addBorderNode(s,"_bt"),y=t.addBorderNode(s,"_bb"),_=s.node(h);s.setParent(m,h),_.borderTop=m,s.setParent(y,h),_.borderBottom=y,p.forEach(S=>{r(s,l,c,d,u,f,S);let w=s.node(S),C=w.borderTop?w.borderTop:S,L=w.borderBottom?w.borderBottom:S,k=w.borderTop?d:2*d,P=C!==L?1:u-f[h]+1;s.setEdge(m,C,{weight:k,minlen:P,nestingEdge:!0}),s.setEdge(L,y,{weight:k,minlen:P,nestingEdge:!0})}),s.parent(h)||s.setEdge(l,m,{weight:0,minlen:u+f[h]})}function n(s){var l={};function c(d,u){var f=s.children(d);f&&f.length&&f.forEach(h=>c(h,u+1)),l[d]=u}return s.children().forEach(d=>c(d,1)),l}function i(s){return s.edges().reduce((l,c)=>l+s.edge(c).weight,0)}function o(s){var l=s.graph();s.removeNode(l.nestingRoot),delete l.nestingRoot,s.edges().forEach(c=>{var d=s.edge(c);d.nestingEdge&&s.removeEdge(c)})}return $v}var Yv,qx;function LB(){if(qx)return Yv;qx=1;let t=Rn();Yv=e;function e(n){function i(o){let s=n.children(o),l=n.node(o);if(s.length&&s.forEach(i),Object.hasOwn(l,"minRank")){l.borderLeft=[],l.borderRight=[];for(let c=l.minRank,d=l.maxRank+1;c<d;++c)r(n,"borderLeft","_bl",o,l,c),r(n,"borderRight","_br",o,l,c)}}n.children().forEach(i)}function r(n,i,o,s,l,c){let d={width:0,height:0,rank:c,borderType:i},u=l[i][c-1],f=t.addDummyNode(n,"border",d,o);l[i][c]=f,n.setParent(f,s),u&&n.setEdge(u,f,{weight:1})}return Yv}var Xv,Gx;function EB(){if(Gx)return Xv;Gx=1,Xv={adjust:t,undo:e};function t(c){let d=c.graph().rankdir.toLowerCase();(d==="lr"||d==="rl")&&r(c)}function e(c){let d=c.graph().rankdir.toLowerCase();(d==="bt"||d==="rl")&&i(c),(d==="lr"||d==="rl")&&(s(c),r(c))}function r(c){c.nodes().forEach(d=>n(c.node(d))),c.edges().forEach(d=>n(c.edge(d)))}function n(c){let d=c.width;c.width=c.height,c.height=d}function i(c){c.nodes().forEach(d=>o(c.node(d))),c.edges().forEach(d=>{let u=c.edge(d);u.points.forEach(o),Object.hasOwn(u,"y")&&o(u)})}function o(c){c.y=-c.y}function s(c){c.nodes().forEach(d=>l(c.node(d))),c.edges().forEach(d=>{let u=c.edge(d);u.points.forEach(l),Object.hasOwn(u,"x")&&l(u)})}function l(c){let d=c.x;c.x=c.y,c.y=d}return Xv}var Kv,$x;function IB(){if($x)return Kv;$x=1;let t=Rn();Kv=e;function e(r){let n={},i=r.nodes().filter(u=>!r.children(u).length),o=i.map(u=>r.node(u).rank),s=t.applyWithChunking(Math.max,o),l=t.range(s+1).map(()=>[]);function c(u){if(n[u])return;n[u]=!0;let f=r.node(u);l[f.rank].push(u),r.successors(u).forEach(c)}return i.sort((u,f)=>r.node(u).rank-r.node(f).rank).forEach(c),l}return Kv}var Qv,Yx;function TB(){if(Yx)return Qv;Yx=1;let t=Rn().zipObject;Qv=e;function e(n,i){let o=0;for(let s=1;s<i.length;++s)o+=r(n,i[s-1],i[s]);return o}function r(n,i,o){let s=t(o,o.map((h,p)=>p)),l=i.flatMap(h=>n.outEdges(h).map(p=>({pos:s[p.w],weight:n.edge(p).weight})).sort((p,m)=>p.pos-m.pos)),c=1;for(;c<o.length;)c<<=1;let d=2*c-1;c-=1;let u=new Array(d).fill(0),f=0;return l.forEach(h=>{let p=h.pos+c;u[p]+=h.weight;let m=0;for(;p>0;)p%2&&(m+=u[p+1]),p=p-1>>1,u[p]+=h.weight;f+=h.weight*m}),f}return Qv}var Jv,Xx;function OB(){if(Xx)return Jv;Xx=1,Jv=t;function t(e,r=[]){return r.map(n=>{let i=e.inEdges(n);if(i.length){let o=i.reduce((s,l)=>{let c=e.edge(l),d=e.node(l.v);return{sum:s.sum+c.weight*d.order,weight:s.weight+c.weight}},{sum:0,weight:0});return{v:n,barycenter:o.sum/o.weight,weight:o.weight}}else return{v:n}})}return Jv}var Zv,Kx;function RB(){if(Kx)return Zv;Kx=1;let t=Rn();Zv=e;function e(i,o){let s={};i.forEach((c,d)=>{let u=s[c.v]={indegree:0,in:[],out:[],vs:[c.v],i:d};c.barycenter!==void 0&&(u.barycenter=c.barycenter,u.weight=c.weight)}),o.edges().forEach(c=>{let d=s[c.v],u=s[c.w];d!==void 0&&u!==void 0&&(u.indegree++,d.out.push(s[c.w]))});let l=Object.values(s).filter(c=>!c.indegree);return r(l)}function r(i){let o=[];function s(c){return d=>{d.merged||(d.barycenter===void 0||c.barycenter===void 0||d.barycenter>=c.barycenter)&&n(c,d)}}function l(c){return d=>{d.in.push(c),--d.indegree===0&&i.push(d)}}for(;i.length;){let c=i.pop();o.push(c),c.in.reverse().forEach(s(c)),c.out.forEach(l(c))}return o.filter(c=>!c.merged).map(c=>t.pick(c,["vs","i","barycenter","weight"]))}function n(i,o){let s=0,l=0;i.weight&&(s+=i.barycenter*i.weight,l+=i.weight),o.weight&&(s+=o.barycenter*o.weight,l+=o.weight),i.vs=o.vs.concat(i.vs),i.barycenter=s/l,i.weight=l,i.i=Math.min(o.i,i.i),o.merged=!0}return Zv}var eh,Qx;function NB(){if(Qx)return eh;Qx=1;let t=Rn();eh=e;function e(i,o){let s=t.partition(i,m=>Object.hasOwn(m,"barycenter")),l=s.lhs,c=s.rhs.sort((m,y)=>y.i-m.i),d=[],u=0,f=0,h=0;l.sort(n(!!o)),h=r(d,c,h),l.forEach(m=>{h+=m.vs.length,d.push(m.vs),u+=m.barycenter*m.weight,f+=m.weight,h=r(d,c,h)});let p={vs:d.flat(!0)};return f&&(p.barycenter=u/f,p.weight=f),p}function r(i,o,s){let l;for(;o.length&&(l=o[o.length-1]).i<=s;)o.pop(),i.push(l.vs),s++;return s}function n(i){return(o,s)=>o.barycenter<s.barycenter?-1:o.barycenter>s.barycenter?1:i?s.i-o.i:o.i-s.i}return eh}var th,Jx;function zB(){if(Jx)return th;Jx=1;let t=OB(),e=RB(),r=NB();th=n;function n(s,l,c,d){let u=s.children(l),f=s.node(l),h=f?f.borderLeft:void 0,p=f?f.borderRight:void 0,m={};h&&(u=u.filter(w=>w!==h&&w!==p));let y=t(s,u);y.forEach(w=>{if(s.children(w.v).length){let C=n(s,w.v,c,d);m[w.v]=C,Object.hasOwn(C,"barycenter")&&o(w,C)}});let _=e(y,c);i(_,m);let S=r(_,d);if(h&&(S.vs=[h,S.vs,p].flat(!0),s.predecessors(h).length)){let w=s.node(s.predecessors(h)[0]),C=s.node(s.predecessors(p)[0]);Object.hasOwn(S,"barycenter")||(S.barycenter=0,S.weight=0),S.barycenter=(S.barycenter*S.weight+w.order+C.order)/(S.weight+2),S.weight+=2}return S}function i(s,l){s.forEach(c=>{c.vs=c.vs.flatMap(d=>l[d]?l[d].vs:d)})}function o(s,l){s.barycenter!==void 0?(s.barycenter=(s.barycenter*s.weight+l.barycenter*l.weight)/(s.weight+l.weight),s.weight+=l.weight):(s.barycenter=l.barycenter,s.weight=l.weight)}return th}var rh,Zx;function BB(){if(Zx)return rh;Zx=1;let t=li().Graph,e=Rn();rh=r;function r(i,o,s){let l=n(i),c=new t({compound:!0}).setGraph({root:l}).setDefaultNodeLabel(d=>i.node(d));return i.nodes().forEach(d=>{let u=i.node(d),f=i.parent(d);(u.rank===o||u.minRank<=o&&o<=u.maxRank)&&(c.setNode(d),c.setParent(d,f||l),i[s](d).forEach(h=>{let p=h.v===d?h.w:h.v,m=c.edge(p,d),y=m!==void 0?m.weight:0;c.setEdge(p,d,{weight:i.edge(h).weight+y})}),Object.hasOwn(u,"minRank")&&c.setNode(d,{borderLeft:u.borderLeft[o],borderRight:u.borderRight[o]}))}),c}function n(i){for(var o;i.hasNode(o=e.uniqueId("_root")););return o}return rh}var nh,ey;function jB(){if(ey)return nh;ey=1,nh=t;function t(e,r,n){let i={},o;n.forEach(s=>{let l=e.parent(s),c,d;for(;l;){if(c=e.parent(l),c?(d=i[c],i[c]=l):(d=o,o=l),d&&d!==l){r.setEdge(d,l);return}l=c}})}return nh}var ah,ty;function FB(){if(ty)return ah;ty=1;let t=IB(),e=TB(),r=zB(),n=BB(),i=jB(),o=li().Graph,s=Rn();ah=l;function l(f,h){if(h&&typeof h.customOrder=="function"){h.customOrder(f,l);return}let p=s.maxRank(f),m=c(f,s.range(1,p+1),"inEdges"),y=c(f,s.range(p-1,-1,-1),"outEdges"),_=t(f);if(u(f,_),h&&h.disableOptimalOrderHeuristic)return;let S=Number.POSITIVE_INFINITY,w;for(let C=0,L=0;L<4;++C,++L){d(C%2?m:y,C%4>=2),_=s.buildLayerMatrix(f);let k=e(f,_);k<S&&(L=0,w=Object.assign({},_),S=k)}u(f,w)}function c(f,h,p){return h.map(function(m){return n(f,m,p)})}function d(f,h){let p=new o;f.forEach(function(m){let y=m.graph().root,_=r(m,y,p,h);_.vs.forEach((S,w)=>m.node(S).order=w),i(m,p,_.vs)})}function u(f,h){Object.values(h).forEach(p=>p.forEach((m,y)=>f.node(m).order=y))}return ah}var ih,ry;function UB(){if(ry)return ih;ry=1;let t=li().Graph,e=Rn();ih={positionX:p,findType1Conflicts:r,findType2Conflicts:n,addConflict:o,hasConflict:s,verticalAlignment:l,horizontalCompaction:c,alignCoordinates:f,findSmallestWidthAlignment:u,balance:h};function r(_,S){let w={};function C(L,k){let P=0,z=0,T=L.length,M=k[k.length-1];return k.forEach((D,A)=>{let O=i(_,D),I=O?_.node(O).order:T;(O||D===M)&&(k.slice(z,A+1).forEach(B=>{_.predecessors(B).forEach(j=>{let V=_.node(j),F=V.order;(F<P||I<F)&&!(V.dummy&&_.node(B).dummy)&&o(w,j,B)})}),z=A+1,P=I)}),k}return S.length&&S.reduce(C),w}function n(_,S){let w={};function C(k,P,z,T,M){let D;e.range(P,z).forEach(A=>{D=k[A],_.node(D).dummy&&_.predecessors(D).forEach(O=>{let I=_.node(O);I.dummy&&(I.order<T||I.order>M)&&o(w,O,D)})})}function L(k,P){let z=-1,T,M=0;return P.forEach((D,A)=>{if(_.node(D).dummy==="border"){let O=_.predecessors(D);O.length&&(T=_.node(O[0]).order,C(P,M,A,z,T),M=A,z=T)}C(P,M,P.length,T,k.length)}),P}return S.length&&S.reduce(L),w}function i(_,S){if(_.node(S).dummy)return _.predecessors(S).find(w=>_.node(w).dummy)}function o(_,S,w){if(S>w){let L=S;S=w,w=L}let C=_[S];C||(_[S]=C={}),C[w]=!0}function s(_,S,w){if(S>w){let C=S;S=w,w=C}return!!_[S]&&Object.hasOwn(_[S],w)}function l(_,S,w,C){let L={},k={},P={};return S.forEach(z=>{z.forEach((T,M)=>{L[T]=T,k[T]=T,P[T]=M})}),S.forEach(z=>{let T=-1;z.forEach(M=>{let D=C(M);if(D.length){D=D.sort((O,I)=>P[O]-P[I]);let A=(D.length-1)/2;for(let O=Math.floor(A),I=Math.ceil(A);O<=I;++O){let B=D[O];k[M]===M&&T<P[B]&&!s(w,M,B)&&(k[B]=M,k[M]=L[M]=L[B],T=P[B])}}})}),{root:L,align:k}}function c(_,S,w,C,L){let k={},P=d(_,S,w,L),z=L?"borderLeft":"borderRight";function T(A,O){let I=P.nodes(),B=I.pop(),j={};for(;B;)j[B]?A(B):(j[B]=!0,I.push(B),I=I.concat(O(B))),B=I.pop()}function M(A){k[A]=P.inEdges(A).reduce((O,I)=>Math.max(O,k[I.v]+P.edge(I)),0)}function D(A){let O=P.outEdges(A).reduce((B,j)=>Math.min(B,k[j.w]-P.edge(j)),Number.POSITIVE_INFINITY),I=_.node(A);O!==Number.POSITIVE_INFINITY&&I.borderType!==z&&(k[A]=Math.max(k[A],O))}return T(M,P.predecessors.bind(P)),T(D,P.successors.bind(P)),Object.keys(C).forEach(A=>k[A]=k[w[A]]),k}function d(_,S,w,C){let L=new t,k=_.graph(),P=m(k.nodesep,k.edgesep,C);return S.forEach(z=>{let T;z.forEach(M=>{let D=w[M];if(L.setNode(D),T){var A=w[T],O=L.edge(A,D);L.setEdge(A,D,Math.max(P(_,M,T),O||0))}T=M})}),L}function u(_,S){return Object.values(S).reduce((w,C)=>{let L=Number.NEGATIVE_INFINITY,k=Number.POSITIVE_INFINITY;Object.entries(C).forEach(([z,T])=>{let M=y(_,z)/2;L=Math.max(T+M,L),k=Math.min(T-M,k)});const P=L-k;return P<w[0]&&(w=[P,C]),w},[Number.POSITIVE_INFINITY,null])[1]}function f(_,S){let w=Object.values(S),C=e.applyWithChunking(Math.min,w),L=e.applyWithChunking(Math.max,w);["u","d"].forEach(k=>{["l","r"].forEach(P=>{let z=k+P,T=_[z];if(T===S)return;let M=Object.values(T),D=C-e.applyWithChunking(Math.min,M);P!=="l"&&(D=L-e.applyWithChunking(Math.max,M)),D&&(_[z]=e.mapValues(T,A=>A+D))})})}function h(_,S){return e.mapValues(_.ul,(w,C)=>{if(S)return _[S.toLowerCase()][C];{let L=Object.values(_).map(k=>k[C]).sort((k,P)=>k-P);return(L[1]+L[2])/2}})}function p(_){let S=e.buildLayerMatrix(_),w=Object.assign(r(_,S),n(_,S)),C={},L;["u","d"].forEach(P=>{L=P==="u"?S:Object.values(S).reverse(),["l","r"].forEach(z=>{z==="r"&&(L=L.map(A=>Object.values(A).reverse()));let T=(P==="u"?_.predecessors:_.successors).bind(_),M=l(_,L,w,T),D=c(_,L,M.root,M.align,z==="r");z==="r"&&(D=e.mapValues(D,A=>-A)),C[P+z]=D})});let k=u(_,C);return f(C,k),h(C,_.graph().align)}function m(_,S,w){return(C,L,k)=>{let P=C.node(L),z=C.node(k),T=0,M;if(T+=P.width/2,Object.hasOwn(P,"labelpos"))switch(P.labelpos.toLowerCase()){case"l":M=-P.width/2;break;case"r":M=P.width/2;break}if(M&&(T+=w?M:-M),M=0,T+=(P.dummy?S:_)/2,T+=(z.dummy?S:_)/2,T+=z.width/2,Object.hasOwn(z,"labelpos"))switch(z.labelpos.toLowerCase()){case"l":M=z.width/2;break;case"r":M=-z.width/2;break}return M&&(T+=w?M:-M),M=0,T}}function y(_,S){return _.node(S).width}return ih}var oh,ny;function VB(){if(ny)return oh;ny=1;let t=Rn(),e=UB().positionX;oh=r;function r(i){i=t.asNonCompoundGraph(i),n(i),Object.entries(e(i)).forEach(([o,s])=>i.node(o).x=s)}function n(i){let o=t.buildLayerMatrix(i),s=i.graph().ranksep,l=0;o.forEach(c=>{const d=c.reduce((u,f)=>{const h=i.node(f).height;return u>h?u:h},0);c.forEach(u=>i.node(u).y=l+d/2),l+=d+s})}return oh}var sh,ay;function WB(){if(ay)return sh;ay=1;let t=SB(),e=CB(),r=MB(),n=Rn().normalizeRanks,i=PB(),o=Rn().removeEmptyRanks,s=DB(),l=LB(),c=EB(),d=FB(),u=VB(),f=Rn(),h=li().Graph;sh=p;function p(E,U){let $=U&&U.debugTiming?f.time:f.notime;$("layout",()=>{let ee=$("  buildLayoutGraph",()=>T(E));$("  runLayout",()=>m(ee,$,U)),$("  updateInputGraph",()=>y(E,ee))})}function m(E,U,$){U("    makeSpaceForEdgeLabels",()=>M(E)),U("    removeSelfEdges",()=>N(E)),U("    acyclic",()=>t.run(E)),U("    nestingGraph.run",()=>s.run(E)),U("    rank",()=>r(f.asNonCompoundGraph(E))),U("    injectEdgeLabelProxies",()=>D(E)),U("    removeEmptyRanks",()=>o(E)),U("    nestingGraph.cleanup",()=>s.cleanup(E)),U("    normalizeRanks",()=>n(E)),U("    assignRankMinMax",()=>A(E)),U("    removeEdgeLabelProxies",()=>O(E)),U("    normalize.run",()=>e.run(E)),U("    parentDummyChains",()=>i(E)),U("    addBorderSegments",()=>l(E)),U("    order",()=>d(E,$)),U("    insertSelfEdges",()=>q(E)),U("    adjustCoordinateSystem",()=>c.adjust(E)),U("    position",()=>u(E)),U("    positionSelfEdges",()=>G(E)),U("    removeBorderNodes",()=>F(E)),U("    normalize.undo",()=>e.undo(E)),U("    fixupEdgeLabelCoords",()=>j(E)),U("    undoCoordinateSystem",()=>c.undo(E)),U("    translateGraph",()=>I(E)),U("    assignNodeIntersects",()=>B(E)),U("    reversePoints",()=>V(E)),U("    acyclic.undo",()=>t.undo(E))}function y(E,U){E.nodes().forEach($=>{let ee=E.node($),se=U.node($);ee&&(ee.x=se.x,ee.y=se.y,ee.rank=se.rank,U.children($).length&&(ee.width=se.width,ee.height=se.height))}),E.edges().forEach($=>{let ee=E.edge($),se=U.edge($);ee.points=se.points,Object.hasOwn(se,"x")&&(ee.x=se.x,ee.y=se.y)}),E.graph().width=U.graph().width,E.graph().height=U.graph().height}let _=["nodesep","edgesep","ranksep","marginx","marginy"],S={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},w=["acyclicer","ranker","rankdir","align"],C=["width","height"],L={width:0,height:0},k=["minlen","weight","width","height","labeloffset"],P={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},z=["labelpos"];function T(E){let U=new h({multigraph:!0,compound:!0}),$=Z(E.graph());return U.setGraph(Object.assign({},S,Q($,_),f.pick($,w))),E.nodes().forEach(ee=>{let se=Z(E.node(ee));const oe=Q(se,C);Object.keys(L).forEach(K=>{oe[K]===void 0&&(oe[K]=L[K])}),U.setNode(ee,oe),U.setParent(ee,E.parent(ee))}),E.edges().forEach(ee=>{let se=Z(E.edge(ee));U.setEdge(ee,Object.assign({},P,Q(se,k),f.pick(se,z)))}),U}function M(E){let U=E.graph();U.ranksep/=2,E.edges().forEach($=>{let ee=E.edge($);ee.minlen*=2,ee.labelpos.toLowerCase()!=="c"&&(U.rankdir==="TB"||U.rankdir==="BT"?ee.width+=ee.labeloffset:ee.height+=ee.labeloffset)})}function D(E){E.edges().forEach(U=>{let $=E.edge(U);if($.width&&$.height){let ee=E.node(U.v),oe={rank:(E.node(U.w).rank-ee.rank)/2+ee.rank,e:U};f.addDummyNode(E,"edge-proxy",oe,"_ep")}})}function A(E){let U=0;E.nodes().forEach($=>{let ee=E.node($);ee.borderTop&&(ee.minRank=E.node(ee.borderTop).rank,ee.maxRank=E.node(ee.borderBottom).rank,U=Math.max(U,ee.maxRank))}),E.graph().maxRank=U}function O(E){E.nodes().forEach(U=>{let $=E.node(U);$.dummy==="edge-proxy"&&(E.edge($.e).labelRank=$.rank,E.removeNode(U))})}function I(E){let U=Number.POSITIVE_INFINITY,$=0,ee=Number.POSITIVE_INFINITY,se=0,oe=E.graph(),K=oe.marginx||0,J=oe.marginy||0;function te(X){let re=X.x,fe=X.y,ue=X.width,xe=X.height;U=Math.min(U,re-ue/2),$=Math.max($,re+ue/2),ee=Math.min(ee,fe-xe/2),se=Math.max(se,fe+xe/2)}E.nodes().forEach(X=>te(E.node(X))),E.edges().forEach(X=>{let re=E.edge(X);Object.hasOwn(re,"x")&&te(re)}),U-=K,ee-=J,E.nodes().forEach(X=>{let re=E.node(X);re.x-=U,re.y-=ee}),E.edges().forEach(X=>{let re=E.edge(X);re.points.forEach(fe=>{fe.x-=U,fe.y-=ee}),Object.hasOwn(re,"x")&&(re.x-=U),Object.hasOwn(re,"y")&&(re.y-=ee)}),oe.width=$-U+K,oe.height=se-ee+J}function B(E){E.edges().forEach(U=>{let $=E.edge(U),ee=E.node(U.v),se=E.node(U.w),oe,K;$.points?(oe=$.points[0],K=$.points[$.points.length-1]):($.points=[],oe=se,K=ee),$.points.unshift(f.intersectRect(ee,oe)),$.points.push(f.intersectRect(se,K))})}function j(E){E.edges().forEach(U=>{let $=E.edge(U);if(Object.hasOwn($,"x"))switch(($.labelpos==="l"||$.labelpos==="r")&&($.width-=$.labeloffset),$.labelpos){case"l":$.x-=$.width/2+$.labeloffset;break;case"r":$.x+=$.width/2+$.labeloffset;break}})}function V(E){E.edges().forEach(U=>{let $=E.edge(U);$.reversed&&$.points.reverse()})}function F(E){E.nodes().forEach(U=>{if(E.children(U).length){let $=E.node(U),ee=E.node($.borderTop),se=E.node($.borderBottom),oe=E.node($.borderLeft[$.borderLeft.length-1]),K=E.node($.borderRight[$.borderRight.length-1]);$.width=Math.abs(K.x-oe.x),$.height=Math.abs(se.y-ee.y),$.x=oe.x+$.width/2,$.y=ee.y+$.height/2}}),E.nodes().forEach(U=>{E.node(U).dummy==="border"&&E.removeNode(U)})}function N(E){E.edges().forEach(U=>{if(U.v===U.w){var $=E.node(U.v);$.selfEdges||($.selfEdges=[]),$.selfEdges.push({e:U,label:E.edge(U)}),E.removeEdge(U)}})}function q(E){var U=f.buildLayerMatrix(E);U.forEach($=>{var ee=0;$.forEach((se,oe)=>{var K=E.node(se);K.order=oe+ee,(K.selfEdges||[]).forEach(J=>{f.addDummyNode(E,"selfedge",{width:J.label.width,height:J.label.height,rank:K.rank,order:oe+ ++ee,e:J.e,label:J.label},"_se")}),delete K.selfEdges})})}function G(E){E.nodes().forEach(U=>{var $=E.node(U);if($.dummy==="selfedge"){var ee=E.node($.e.v),se=ee.x+ee.width/2,oe=ee.y,K=$.x-se,J=ee.height/2;E.setEdge($.e,$.label),E.removeNode(U),$.label.points=[{x:se+2*K/3,y:oe-J},{x:se+5*K/6,y:oe-J},{x:se+K,y:oe},{x:se+5*K/6,y:oe+J},{x:se+2*K/3,y:oe+J}],$.label.x=$.x,$.label.y=$.y}})}function Q(E,U){return f.mapValues(f.pick(E,U),Number)}function Z(E){var U={};return E&&Object.entries(E).forEach(([$,ee])=>{typeof $=="string"&&($=$.toLowerCase()),U[$]=ee}),U}return sh}var lh,iy;function HB(){if(iy)return lh;iy=1;let t=Rn(),e=li().Graph;lh={debugOrdering:r};function r(n){let i=t.buildLayerMatrix(n),o=new e({compound:!0,multigraph:!0}).setGraph({});return n.nodes().forEach(s=>{o.setNode(s,{label:s}),o.setParent(s,"layer"+n.node(s).rank)}),n.edges().forEach(s=>o.setEdge(s.v,s.w,{},s.name)),i.forEach((s,l)=>{let c="layer"+l;o.setNode(c,{rank:"same"}),s.reduce((d,u)=>(o.setEdge(d,u,{style:"invis"}),u))}),o}return lh}var ch,oy;function qB(){return oy||(oy=1,ch="1.1.4"),ch}var dh,sy;function GB(){return sy||(sy=1,dh={graphlib:li(),layout:WB(),debug:HB(),util:{time:Rn().time,notime:Rn().notime},version:qB()}),dh}GB();$a.every(1),$a.every(1),Go.every(1),Go.every(1),ls.every(1),Us.every(1),uo.every(10),uo.every(1),xi.every(10),xi.every(1),Fs.every(100);$a.every(1),Go.every(1),Go.every(1),Ec.every(1),ls.every(1),Us.every(8),Us.every(1),uo.every(15),uo.every(10),uo.every(1),xi.every(10),xi.every(1),Fs.every(10);const Wc=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
	<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
		d="M9.25 2.5c-3.04 0-4.63.08-5.65 1.1C2.5 4.7 2.5 6.46 2.5 10c0 3.54 0 5.3 1.1 6.4 1.1 1.1 2.86 1.1 6.4 1.1 3.53 0 5.3 0 6.4-1.1 1.02-1.02 1.1-2.6 1.1-5.65m-.37-7.84-7.92 7.97m7.92-7.97c-.41-.4-3.18-.37-3.77-.36m3.77.36c.41.42.37 3.2.36 3.78" />
</svg>
`;var $B=H('<img alt="arrow-down">'),YB=H('<a target="_blank" rel="noreferrer noopener" class="text-xs font-medium text-primary-600 hover:text-primary-800 focus:text-primary-800 hover:underline flex gap-1 items-center whitespace-nowrap">View on Buyhatke <span class="inline-block w-3 h-3"><!></span></a>'),XB=H('<p class="flex gap-1 w-full justify-between items-center"><span class="text-[10px] font-medium text-surface-600">Min Price:</span> <!></p>'),KB=H('<div class="flex flex-col gap-2 border border-surface-100 rounded py-1 px-2 bg-white"><p class="text-xs font-medium text-surface-900"> </p> <div class="flex flex-col gap-1"><p class="flex gap-1 w-full justify-between items-center"><span class="text-[10px] font-medium text-surface-600">Price:</span> <!></p> <!></div></div>'),QB=H('<div class="h-[200px]"><div class="flex flex-col gap-2 justify-between"><div class="flex gap-2 justify-between"><p class="text-base font-bold text-slate-950"> </p> <!></div> <div class="flex gap-2 justify-between"><div class="flex gap-2 w-full items-center"><!> <p class="text-sm font-medium text-slate-950"> </p></div> <!></div></div> <div class="h-full grid"><!></div></div>');function JB(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(tr,"$LL",r),o=()=>ie(Js,"$priceHistoryStore",r),s=()=>ie(fn,"$nonPersistAppStore",r);let l=le(""),c=le("#EF4444"),d=le(""),u=Ne(()=>i()(`common.${o().selectedFilter}`)),f=le(0),h=Ne(()=>s().productDetails),p=le(ne(o().graphData.map(E=>({x:new Date(E.x),y:E.y})))),m=le(ne(o().graphMinData.map(E=>({x:new Date(E.x),y:E.y})))),y=Ne(()=>new Map(a(m).map(U=>[+U.x,U.y]))),_=Ne(()=>w3(o().graphData).map(E=>i()(`common.${E}`))),S=Ne(()=>o().priceHistoryAmount),w=le("https://buyhatke.com");const C=E=>{k3(E);const U=rc(o().graphData,E);if(g(p,ne(U.map(fe=>({x:new Date(fe.x),y:fe.y})))),a(p).length===1){const fe={x:new Date(a(p)[0].x.getTime()-864e5),y:a(p)[0].y};g(p,ne([fe,a(p)[0]]))}const $=rc(o().graphMinData,E);if(g(m,ne($.map(fe=>({x:new Date(fe.x),y:fe.y})))),a(m).length===1){const fe={x:new Date(a(m)[0].x.getTime()-864e5),y:a(m)[0].y};g(m,ne([fe,a(p)[0]]))}let{minPrice:ee,maxPrice:se,avgPrice:oe}=ju(U),K={min:ee,max:se,avg:oe};S3(K);const{graph_color:J,icon:te,transKey:X,percentageDiff:re}=Ns(K.min,K.max,K.avg,s().siteProductPrice,a(h).isAvailable);g(l,ne(X)),g(c,ne(J)),g(d,ne(te)),g(f,ne(re))};Zt(()=>{g(w,ne(Ky()));const{graph_color:E,icon:U,transKey:$,percentageDiff:ee}=Ns(a(S).min,a(S).max,a(S).avg,s().siteProductPrice,a(h).isAvailable);g(l,ne($)),g(c,ne(E)),g(d,ne(U)),g(f,ne(ee)),C(a(u))});var L=QB(),k=v(L),P=v(k),z=v(P),T=v(z),M=x(z,2);const D=Ne(()=>a(_).indexOf(a(u)));qu(M,{get list(){return a(_)},onSelectRange:C,get selectedIndexValue(){return a(D)},widthClass:"w-[46%]",textSize:"text-xs font-medium"});var A=x(P,2),O=v(A),I=v(O);{var B=E=>{var U=$B();pe(U,"width",20),pe(U,"height",20),ae($=>pe(U,"src",$),[()=>chrome.runtime.getURL(a(d))]),b(E,U)};W(I,E=>{a(d)&&E(B)})}var j=x(I,2),V=v(j),F=x(O,2);{var N=E=>{var U=YB(),$=x(v(U)),ee=v($);Xt(ee,()=>Wc),ae(()=>pe(U,"href",a(w))),b(E,U)};W(F,E=>{a(w)&&E(N)})}var q=x(k,2),G=v(q);const Q=Ne(()=>[{key:"Price",value:"y",color:a(c)}]),Z=Ne(()=>({fill:a(c),stroke:a(c),strokeWidth:1,r:1,class:"chart-point"}));fw(G,{get data(){return a(p)},height:200,x:"x",y:"y",yNice:!0,yPadding:[0,10],padding:{top:20,bottom:20,left:0,right:35},get series(){return a(Q)},get points(){return a(Z)},props:{xAxis:{rule:!0,ticks:5,class:"text-surface-600",format:E=>E.toLocaleString("default",{day:"numeric",month:"short"})},yAxis:{rule:!0,ticks:5,class:"text-surface-600",format:E=>typeof E!="number"?"":`${s().currencySymbol}${kn(E,{locale:s().currencyCode??"en-US",notation:"compact",min:0,max:2})}`,placement:"right"}},$$slots:{tooltip:(E,U)=>{const $=Ne(()=>U.x),ee=Ne(()=>U.y);var se=ke(),oe=de(se);np(oe,()=>tg,(K,J)=>{J(K,{y:"data",anchor:"bottom",contained:"container",children:za,$$slots:{default:(te,X)=>{const re=Ne(()=>X.data);var fe=KB(),ue=v(fe),xe=v(ue),we=x(ue,2),me=v(we),ce=x(v(me),2);const ye=Ne(()=>a(ee)(a(re)));Sn(ce,{get price(){return a(ye)},get locale(){return s().currencyCode},className:"text-xs text-surface-950 font-bold"});var be=x(me,2);{var ve=Se=>{var Ee=XB(),Be=x(v(Ee),2);const Ae=Ne(()=>a(y).get(+a($)(a(re))));Sn(Be,{get price(){return a(Ae)},get locale(){return s().currencyCode},className:"text-xs text-surface-950 font-bold"}),b(Se,Ee)};W(be,Se=>{a(y).has(+a($)(a(re)))&&Se(ve)})}ae(Se=>Y(xe,Se),[()=>Qy(a($)(a(re)))]),b(te,fe)}}})}),b(E,se)}}}),ae((E,U)=>{Y(T,E),Y(V,U)},[()=>i()("priceHistory.graph.priceHistory"),()=>i()(a(l),{values:{diff:a(f)}})]),b(t,L),Ke(),n()}const ZB=()=>{qy()};var ej=H('<div class="flex flex-col gap-3 flex-1"><p class="text-base text-surface-950 font-bold"> </p> <button class="bg-primary-600 hover:bg-primary-800 focus:bg-primary-800 text-white text-base font-bold h-12 justify-center rounded w-full px-4"> </button></div>');function tj(t,e){Xe(e,!1);const[r,n]=ct(),i=()=>ie(tr,"$LL",r);pr();var o=ej(),s=v(o),l=v(s),c=x(s,2);c.__click=[ZB];var d=v(c);ae((u,f)=>{Y(l,u),Y(d,f)},[()=>i()("priceHistory.priceAlertComponent.OOSAlert.OOS"),()=>i()("priceHistory.priceAlertComponent.OOSAlert.NotifyMe")],Ie),b(t,o),Ke(),n()}Tt(["click"]);const ng="/assets/lowPrice-C5Fo-eMV.svg",ag="/assets/averagePrice-1NDxRDJX.svg",ig="/assets/highPrice-b_j_i5S2.svg",og="/assets/priceHistorySaleIcon-D0vBXC4S.svg";var rj=H('<div class="flex-1 flex-shrink-0 flex flex-col items-center gap-1 p-3 bg-yellow-50 rounded border border-yellow-500"><div class="flex items-center gap-2"><span class="text-[10px] text-surface-500 font-medium"> </span> <img alt="greatSalesPrice"> <div class="relative group"><img alt="info" class="opacity-60"> <div class="hidden group-hover:flex absolute top-4 right-0 p-2 border shadow-sm bg-surface-50 z-[999999] rounded text-[10px] w-40 whitespace-normal break-words text-surface-500 font-medium"> </div></div></div> <span class="text-sm font-medium text-surface-950"><!></span></div>'),nj=H('<div class="w-full flex flex-col gap-3"><div class="flex justify-between text-base text-surface-950 font-bold"> </div> <div class="gap-1 justify-between"><div class="flex-1 flex-shrink-0 flex flex-col items-center gap-1 p-3 bg-surface-100 rounded"><div class="flex items-center gap-2"><span class="text-[10px] text-surface-500 font-medium"> </span> <img alt="highPrice"></div> <span><!></span></div> <div class="flex-1 flex-shrink-0 flex flex-col items-center gap-1 p-3 bg-surface-100 rounded"><div class="flex items-center gap-2"><span class="text-[10px] text-surface-500 font-medium"> </span> <img alt="averagePrice"></div> <span><!></span></div> <div class="flex-1 flex-shrink-0 flex flex-col items-center gap-1 p-3 bg-surface-100 rounded"><div class="flex items-center gap-2"><span class="text-[10px] text-surface-500 font-medium"> </span> <img alt="lowPrice"></div> <span><!></span></div> <!></div></div>');function aj(t,e){Xe(e,!1);const[r,n]=ct(),i=()=>ie(fn,"$nonPersistAppStore",r),o=()=>ie(Js,"$priceHistoryStore",r),s=()=>ie(fa,"$appStore",r),l=()=>ie(tr,"$LL",r);let c=chrome.runtime.getURL(ss);const d=chrome.runtime.getURL(ng),u=chrome.runtime.getURL(ag),f=chrome.runtime.getURL(ig),h=chrome.runtime.getURL(og),p=i().productDetails.sitePosition,m=Fu(o().graphData,i().siteDetails.pos);let y=Ve("wide");De(()=>s(),()=>{g(y,s().priceHistoryTabSize??"wide")}),Qr(),pr();var _=nj(),S=v(_),w=v(S),C=x(S,2),L=v(C),k=v(L),P=v(k),z=v(P),T=x(P,2);pe(T,"src",f);var M=x(k,2),D=v(M);Sn(D,{get currencySymbol(){return i().currencySymbol},get price(){return o().priceHistoryAmount.max},get locale(){return i().currencyCode},className:"text-surface-950 text-sm font-bold"});var A=x(L,2),O=v(A),I=v(O),B=v(I),j=x(I,2);pe(j,"src",u);var V=x(O,2),F=v(V);Sn(F,{get currencySymbol(){return i().currencySymbol},get price(){return o().priceHistoryAmount.avg},get locale(){return i().currencyCode},className:"text-surface-950 text-sm font-bold"});var N=x(A,2),q=v(N),G=v(q),Q=v(G),Z=x(G,2);pe(Z,"src",d);var E=x(q,2),U=v(E);Sn(U,{get currencySymbol(){return i().currencySymbol},get price(){return o().priceHistoryAmount.min},get locale(){return i().currencyCode},className:"text-surface-950 text-sm font-bold"});var $=x(N,2);{var ee=se=>{var oe=rj(),K=v(oe),J=v(K),te=v(J),X=x(J,2);pe(X,"src",h);var re=x(X,2),fe=v(re);pe(fe,"src",c),pe(fe,"width",10),pe(fe,"height",10);var ue=x(fe,2),xe=v(ue),we=x(K,2),me=v(we);Sn(me,{price:m,get currencySymbol(){return i().currencySymbol},get locale(){return i().currencyCode},className:"text-surface-950 text-sm font-bold"}),ae(()=>{var ce,ye,be,ve;Y(te,(ye=(ce=qo)==null?void 0:ce[p])==null?void 0:ye.title),Y(xe,(ve=(be=qo)==null?void 0:be[p])==null?void 0:ve.titleFull)}),Rt(1,ue,()=>jr,()=>({duration:300,axis:"y"})),Rt(2,ue,()=>jr,()=>({duration:300,axis:"y"})),b(se,oe)};W($,se=>{m>-1&&se(ee)})}ae((se,oe,K,J,te)=>{Y(w,se),qe(C,"grid",oe),qe(C,"grid-cols-2",oe),qe(C,"flex",a(y)==="wide"),qe(C,"flex-row",a(y)==="wide"),Y(z,K),Y(B,J),qe(N,"col-span-2",m<=-1&&(a(y)!=="wide"||Nt)),Y(Q,te)},[()=>l()("priceHistory.graph.priceHistory"),()=>a(y)!=="wide"||Nt(),()=>l()("priceHistory.priceDropComponent.highestPrice"),()=>l()("priceHistory.priceDropComponent.averagePrice"),()=>l()("priceHistory.priceDropComponent.lowestPrice")],Ie),b(t,_),Ke(),n()}var ij=H('<div class="flex flex-col gap-6 w-full p-4"><!> <!> <div class="mt-14 w-full gap-4 flex flex-col"><!> <div class="flex gap-4 py-2"><!> <div class="flex flex-col gap-4 flex-1"><!> <div><!></div></div></div> <!></div></div>');function oj(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(fn,"$nonPersistAppStore",r),o=()=>ie(kc,"$comparePriceStore",r),s=()=>ie(fa,"$appStore",r);let l=le(ne({})),c=le(ne([])),d=Ne(()=>i().productDetails),u=le(!1),f=le("wide");mr(()=>{g(c,ne(o().comparePriceData)),g(f,ne(s().priceHistoryTabSize??"wide"))});const h=j=>{a(d)&&a(d).link_id?Gy(Number(j),a(d).link_id):$y(Number(j))};Zt(async()=>{g(l,ne(await C3()))});const p=()=>{g(u,!0)};var m=ij(),y=v(m);po(y,{featureKey:"Price_Graph"});var _=x(y,2);JB(_,{});var S=x(_,2),w=v(S);aj(w,{});var C=x(w,2),L=v(C);B7(L,{width:120});var k=x(L,2),P=v(k);{var z=j=>{G7(j,{handleInputValue:h,get currentPrice(){return a(d).currentPrice}})},T=j=>{tj(j,{})};W(P,j=>{a(d).isAvailable?j(z):j(T,!1)})}var M=x(P,2),D=v(M);const A=Ne(()=>!a(u));Hu(D,{get comingFromHistory(){return a(A)},isRatingSelected:p,wrapperClass:"p-0"});var O=x(C,2);{var I=j=>{Ln(j,{slotId:"1"})},B=j=>{Ln(j,{slotId:"10"})};W(O,j=>{Nt()?j(I):j(B,!1)})}ae((j,V)=>{qe(C,"flex-col",j),qe(C,"flex-row",V),qe(M,"relative",!a(u))},[()=>a(f)==="standard"||a(f)==="small"||Nt(),()=>a(f)==="wide"&&!Nt()]),b(t,m),Ke(),n()}var sj=H('<button class="text-sm font-bold text-primary-600 hover:text-primary-800"> </button>'),lj=H('<div class="absolute bottom-0 left-0 w-full h-[194px] rounded-b-lg flex flex-col justify-end p-2 z-50"><div class="bg-primary-50 w-full font-metropolis h-fit border border-primary-300 rounded-lg flex justify-between p-4 animate-shake"><div class="text-base font-medium break-words text-surface-950"><!></div> <!></div></div>');function cj(t,e){let r=R(e,"showToast",11,!1),n=R(e,"callback",3,void 0),i=R(e,"buttonText",3,"undo");var o=ke(),s=de(o);{var l=c=>{var d=lj(),u=v(d),f=v(u),h=v(f);Xt(h,()=>e.description);var p=x(f,2);{var m=y=>{var _=sj();_.__click=function(...w){var C;(C=n())==null||C.apply(this,w)};var S=v(_);ae(()=>Y(S,i())),b(y,_)};W(p,y=>{typeof n()=="function"&&y(m)})}b(c,d)};W(s,c=>{r()&&c(l)})}b(t,o)}Tt(["click"]);const dj="/assets/dealScanner-C4fp8jAK.png";var uj=H('<div class="flex justify-center items-center rounded-lg z-0 isolate w-full h-full absolute inset-0"><div class="absolute inset-0 bg-black opacity-60"><button class="w-full h-full" aria-label="close scanner"></button></div> <div class="w-[272px] z-10 relative p-2 bg-yellow-400 rounded-lg shadow-lg border border-yellow-400"><div class="flex justify-between w-full py-2"><p class="font-bold text-sm text-surface-950"> </p> <button class="text-surface-700 hover:text-black text-xl font-bold"><img alt="close icon" class="w-4 h-4"></button></div> <div class="bg-white rounded p-4 flex flex-col items-center text-center"><div><div class="flex items-center justify-center h-[100px]"><img alt="deal scanner" class="aspect-square h-full scale-150"></div> <h2 class="text-xl font-bold text-surface-950 text-center">Donâ€™t Get Fooled Again!</h2> <p class="mt-2 text-xs font-medium text-surface-600 tracking-tighter">Millions check their deals before buying.<br> Are you still shopping blindly?</p></div> <div class="mt-4 text-start"><p class="text-xs font-medium text-surface-600 tracking-tight">âœ… Instantly spot fake discounts</p> <p class="text-xs font-medium text-surface-600 tracking-tight">âœ… Avoid overpriced â€œdealsâ€</p> <p class="text-xs font-medium text-surface-600 tracking-tight">âœ… Join 10 lakh+ users saving every day</p></div> <div class="mt-4"><p class="text-xs leading-4 font-medium text-surface-600">Be the smart one this sale season.</p></div> <button class="mt-3 w-full py-3 text-center bg-primary-600 hover:bg-primary-800 focus:bg-primary-800 rounded text-white font-bold">Got it!</button></div></div></div>');function fj(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(tr,"$LL",r);Zt(()=>{Xr("shownAboutScanner",1)});var o=uj(),s=v(o),l=v(s);l.__click=function(...C){var L;(L=e.closeModal)==null||L.apply(this,C)};var c=x(s,2),d=v(c),u=v(d),f=v(u),h=x(u,2);h.__click=function(...C){var L;(L=e.closeModal)==null||L.apply(this,C)};var p=v(h),m=x(d,2),y=v(m),_=v(y),S=v(_),w=x(y,6);w.__click=function(...C){var L;(L=e.closeModal)==null||L.apply(this,C)},ae((C,L,k)=>{Y(f,`ðŸš€ ${C??""} - A Global First`),pe(p,"src",L),pe(S,"src",k)},[()=>i()("features.scanner"),()=>chrome.runtime.getURL(Hi),()=>chrome.runtime.getURL(dj)]),b(t,o),Ke(),n()}Tt(["click"]);var vj=br('<svg xmlns="http://www.w3.org/2000/svg"><circle stroke="#D9D9D9" fill="none"></circle><circle fill="none" stroke-linecap="round"></circle><circle fill="white"></circle></svg>');function Ml(t,e){let r=R(e,"percentage",8,65),n=R(e,"color",8,"#10B981"),i=R(e,"size",8,50);const o=3;let s=i()/2-o,l=2*Math.PI*s,c=l-r()/100*l;var d=vj(),u=v(d);pe(u,"r",s),pe(u,"stroke-width",o);var f=x(u);pe(f,"r",s),pe(f,"stroke-width",o),pe(f,"stroke-dasharray",l),pe(f,"stroke-dashoffset",c);var h=x(f);pe(h,"r",s-o*1.5),ae(()=>{pe(d,"width",i()),pe(d,"height",i()),pe(d,"viewBox",`0 0 ${i()} ${i()}`),pe(u,"cx",i()/2),pe(u,"cy",i()/2),pe(f,"cx",i()/2),pe(f,"cy",i()/2),pe(f,"stroke",n()),pe(f,"transform",`rotate(-90 ${i()/2} ${i()/2})`),pe(h,"cx",i()/2),pe(h,"cy",i()/2)}),b(t,d)}const hj=(t,e,r)=>{Xr("dealScannerSettings",a(e)),r.closeModal(),_a({duration:5e3,description:"Settings saved. Refresh the page to apply changes."})};var pj=(t,e,r)=>e(Number(r())),gj=H("<button> </button>"),mj=(t,e)=>e("arrow"),xj=(t,e)=>e("dot"),yj=H('<div class="absolute inset-0 isolate flex flex-col justify-end rounded-lg bg-transparent p-0"><div class="group z-40 h-fit p-4 m-2 rounded-lg bg-white"><div class="flex gap-2 items-center justify-between"><h4 class="text-surface-950 font-bold">Customize Deal Scanner</h4> <button class="p-1"><img alt="close modal" width="20px" height="20px"></button></div> <div class="flex flex-col"><div class="mt-4 pb-4 border-b border-surface-100"><p class="text-sm font-bold text-surface-950">Show discounts starting at</p> <div class="flex gap-2 flex-wrap mt-2"></div></div> <div class="mt-4 pb-4"><p class="text-sm font-bold text-surface-950">Choose Deal Indicator</p> <div class="flex gap-2 flex-wrap mt-2"><button><div class="flex gap-4 w-fit"><span class="border border-surface-100 rounded-full p-1"><img alt="price up icon" class="w-5 h-5"></span> <span class="border border-surface-100 rounded-full p-1"><img alt="price down icon" class=" w-5 h-5"></span></div> <div>Arrows</div></button> <button><div class="flex gap-4 w-fit"><span class="border border-surface-100 rounded-full"><img alt="price up icon" class="w-6 h-6"></span> <span class="border border-surface-100 rounded-full"><img alt="price down icon" class="w-6 h-6"></span></div> <div>Dots</div></button></div></div></div> <div class="mt-4 flex gap-4 w-full"><button class="flex-1 font-bold text-sm py-3 px-4 bg-primary-50 text-primary-600 hover:text-primary-800 focus:text-primary-800 rounded">Cancel</button> <button class="flex-1 font-bold text-sm py-3 px-4 bg-primary-600 text-white hover:bg-primary-800 focus:bg-primary-800 rounded">Apply Changes</button></div></div> <button class="absolute inset-0 -z-10 bg-black opacity-60 rounded-lg" aria-label="close button"></button></div>');function _j(t,e){Xe(e,!0);let r=le(ne({discountOption:1,dealIndicator:"arrow"}));const n={1:"1%",5:"5%",10:"10%",20:"20%",50:"50% & above"},i=V=>{a(r).discountOption=V},o=V=>{a(r).dealIndicator=V};Zt(async()=>{g(r,ne(await an("dealScannerSettings")??{discountOption:"1%",dealIndicator:"arrow"}))});var s=yj(),l=v(s),c=v(l),d=x(v(c),2);d.__click=function(...V){var F;(F=e.closeModal)==null||F.apply(this,V)};var u=v(d),f=x(c,2),h=v(f),p=x(v(h),2);St(p,21,()=>Object.entries(n),zt,(V,F)=>{let N=()=>a(F)[0],q=()=>a(F)[1];var G=gj();G.__click=[pj,i,N];var Q=v(G);ae(Z=>{$e(G,Z),Y(Q,q())},[()=>`border rounded-lg px-2 py-1 text-xs font-medium text-surface-600 hover:border-primary-800 focus:border-primary-800 ${a(r).discountOption==Number(N())?"border-primary-600":""}`]),b(V,G)});var m=x(h,2),y=x(v(m),2),_=v(y);_.__click=[mj,o];var S=v(_),w=v(S),C=v(w),L=x(w,2),k=v(L),P=x(_,2);P.__click=[xj,o];var z=v(P),T=v(z),M=v(T),D=x(T,2),A=v(D),O=x(f,2),I=v(O);I.__click=function(...V){var F;(F=e.closeModal)==null||F.apply(this,V)};var B=x(I,2);B.__click=[hj,r,e];var j=x(l,2);j.__click=function(...V){var F;(F=e.closeModal)==null||F.apply(this,V)},ae((V,F,N,q,G)=>{pe(u,"src",V),$e(_,`border rounded-lg text-xs font-medium text-surface-600 hover:border-primary-800 focus:border-primary-800 flex gap-2 items-center p-1 pr-2 ${(a(r).dealIndicator==="arrow"?" border-primary-600":"")??""}`),pe(C,"src",F),pe(k,"src",N),$e(P,`border rounded-lg text-xs font-medium text-surface-600 hover:border-primary-800 focus:border-primary-800 flex gap-2 items-center p-1 pr-2 ${(a(r).dealIndicator==="dot"?"border-primary-600":"")??""}`),pe(M,"src",q),pe(A,"src",G)},[()=>chrome.runtime.getURL(Hi),()=>chrome.runtime.getURL(A3),()=>chrome.runtime.getURL(M3),()=>chrome.runtime.getURL(P3),()=>chrome.runtime.getURL(D3)]),b(t,s),Ke()}Tt(["click"]);const Eu=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
	<path fill="currentColor"
		d="M13.57 2.76c2.5 0 3.74 0 4.87.65l.33.2c1.07.73 1.61 1.92 2.61 4.07 1.17 2.5 1.75 3.77 1.1 4.95l-.25.38c-.83 1.04-2.25 1.04-5.06 1.04h-.4c-.44 0-.89 0-.99.04a.25.25 0 0 0-.1.1c0 .12.12.52.24.92l.27.86.14.49c.3 1.18.1 2.4-.53 3.45l-.3.45-.2.29c-.66.73-1.78.8-2.5.16-.06-.04-.12-.11-.27-.27L8.44 16c-1.05-1.16-1.58-1.74-1.89-2.54l-.05-.17c-.67.6-1.54.96-2.5.96a2.75 2.75 0 0 1-2.76-2.75v-6A2.75 2.75 0 0 1 4 2.76c1.23 0 2.32.59 3 1.5.11-.16.23-.3.37-.43 1.11-1.07 2.64-1.07 5.7-1.07h.51Zm-.5 1.5c-2.66 0-3.99 0-4.66.65-.63.62-.66 1.75-.66 4.48v.97c0 1.36 0 2.05.21 2.58.21.54.67 1.05 1.6 2.08l4.13 4.56c.04.05.07.09.1.1.04.06.1.08.17.08l.02.02c.06 0 .14-.03.2-.1l.11-.16c.12-.18.2-.27.24-.36.43-.7.56-1.53.37-2.32l-.13-.41-.27-.87c-.25-.82-.38-1.27-.23-1.77.12-.4.38-.74.73-.96.43-.27.91-.27 1.8-.27h.4c2.17 0 3.5 0 3.87-.48a1 1 0 0 0 .12-.17c.28-.52-.27-1.67-1.16-3.6-.92-1.97-1.37-2.96-2.1-3.46l-.23-.14c-.78-.45-1.9-.45-4.12-.45h-.5ZM4 4.26c-.69 0-1.25.56-1.25 1.25v6c0 .69.56 1.25 1.25 1.25a2.25 2.25 0 0 0 2.25-2.25v-4A2.25 2.25 0 0 0 4 4.26Z" />
</svg>
`,Os=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
	<path fill="currentColor" fill-rule="evenodd"
		d="M10.24 2.95a1.43 1.43 0 0 1 2.16.36l.06.08A3.63 3.63 0 0 1 13 6.7l-.03.13-.22.7-.05.15c-.08.26-.15.5-.14.57 0 .02.04.06.08.09.08.03.44.03.79.03h.8c1.93 0 2.95.06 3.56.83.08.1.14.2.2.3.53.95.06 1.96-.87 3.97l-.01.02c-.8 1.7-1.24 2.65-2.09 3.23l-.25.16c-.9.52-1.9.52-3.9.52h-.67c-2.27 0-3.44-.03-4.3-.85-.11-.11-.2-.23-.3-.35a3 3 0 0 1-2.4 1.2A2.2 2.2 0 0 1 1 15.2v-4.8c0-1.21.99-2.2 2.2-2.2a3 3 0 0 1 2 .77l.05-.14c.25-.63.67-1.09 1.49-2l.03-.03 3.27-3.62.08-.1.13-.12ZM3.2 9.4a1 1 0 0 0-1 1v4.8a1 1 0 0 0 1 1c.99 0 1.8-.8 1.8-1.8v-3.2c0-.99-.81-1.8-1.8-1.8Zm7.98-5.61v.01a.2.2 0 0 0-.17.08l-.06.07-3.3 3.64a6.42 6.42 0 0 0-1.28 1.67c-.17.42-.17.97-.17 2.06v.78c0 2.18.03 3.09.53 3.58.5.48 1.44.52 3.24.52h1.15c1.6 0 2.45-.02 3.04-.36l.18-.11c.58-.4.94-1.16 1.64-2.66l.05-.1.04-.1c.69-1.49 1.1-2.38.88-2.79a.8.8 0 0 0-.09-.13c-.28-.35-1.17-.38-2.65-.39h-.94c-.6 0-.95-.02-1.27-.21a1.4 1.4 0 0 1-.59-.77c-.12-.4 0-.76.19-1.4v-.02l.22-.7.05-.17.05-.15a2.44 2.44 0 0 0-.48-2.15l-.03-.04-.07-.1a.21.21 0 0 0-.16-.06Z"
		clip-rule="evenodd" />
</svg>
`,bj="/assets/settingsFill-BHMquKJ1.svg",wj=(t,e)=>{g(e,!0)};var kj=(t,e)=>{var r;(r=e())!=null&&r.prodUrl&&window.open(e().prodUrl,"_blank")},Sj=H('<div class="px-2 md:px-4 py-1 md:pr-7 rounded-full border-2 border-green-600 text-green-600 bg-green-50 flex gap-2 items-center w-fit mt-2 text-sm font-medium whitespace-nowrap"><span class="w-6 h-6"><!></span> Epic Hatke Steal ðŸš€</div>'),Cj=H('<div class="px-2 md:px-4 py-1 md:pr-7 rounded-full border-2 border-green-400 text-green-400 bg-green-50 flex gap-2 items-center w-fit mt-2 text-sm font-medium whitespace-nowrap"><span class="w-6 h-6"><!></span> Hot Hatke Deal ðŸ”¥</div>'),Aj=H('<div class="px-2 md:px-4 py-1 md:pr-7 rounded-full border-2 border-lime-400 text-lime-400 bg-lime-50 flex gap-2 items-center w-fit mt-2 text-sm font-medium whitespace-nowrap"><span class="w-6 h-6"><!></span> Decent Catch ðŸŽ£</div>'),Mj=H('<div class="px-2 md:px-4 py-1 md:pr-7 rounded-full border-2 border-amber-500 text-amber-500 bg-amber-50 flex gap-2 items-center w-fit mt-2 text-sm font-medium whitespace-nowrap"><span class="w-6 h-6"><!></span> Deal Mirage ðŸŒµ</div>'),Pj=H('<div class="px-2 md:px-4 py-1 md:pr-7 rounded-full border-2 border-red-500 text-red-500 bg-red-50 flex gap-2 items-center w-fit mt-2 text-sm font-medium whitespace-nowrap"><span class="w-6 h-6"><!></span> Skip It ðŸš«</div>'),Dj=H('<div class="flex gap-2 justify-between items-center"><p class="text-xs font-medium text-surface-600"><!> </p> <p class="flex items-center gap-[2px]"><!> <span class="text-xs text-surface-600 font-medium w-4 text-right"> </span></p></div>'),Lj=H('<div class="flex gap-2 justify-between items-center"><p class="text-xs font-medium text-surface-600"><!></p> <p class="flex items-center gap-[2px]"><!> <span class="text-xs text-surface-600 font-medium w-4 text-right"> </span></p></div>'),Ej=H('<div class="flex gap-2 justify-between items-center"><p class="text-xs font-medium text-surface-600"><!> </p> <p class="flex items-center gap-[2px]"><!> <span class="text-xs text-surface-600 font-medium w-4 text-right"> </span></p></div>'),Ij=H('<div class="flex gap-2 justify-between items-center"><p class="text-xs font-medium text-surface-600"><!> </p> <p class="flex items-center gap-[2px]"><!> <span class="text-xs text-surface-600 font-medium w-4 text-right"> </span></p></div>'),Tj=H('<div class="flex gap-2 justify-between items-center"><p class="text-xs font-medium text-surface-600"><!> </p> <p class="flex items-center gap-[2px]"><!> <span class="text-xs text-surface-600 font-medium w-4 text-right"> </span></p></div>'),Oj=H(`<div class="p-4 overflow-y-auto"><div class="flex gap-4"><div class="w-24 h-24 rounded-lg border p-1 aspect-square"><img alt="product" class="w-full h-full object-contain"></div> <div class="flex flex-col gap-2"><img alt="site logo" class="w-6 h-6 rounded-full"> <p class="text-sm font-medium text-surface-950 line-clamp-2"> </p> <p class="text-sm font-bold text-surface-950"> </p></div></div> <div class="border rounded-lg overflow-hidden mt-4"><div class="bg-primary-100 px-4 py-2 flex gap-2 justify-between"><h4 class="font-bold text-surface-950">Deal Scanner Result</h4> <button class="text-primary-600 hover:text-primary-800 focus:text-primary-800 text-xs font-medium flex gap-1 items-center rounded-t">View More <span class="w-5 h-5 text-primary-600"><!></span></button></div> <div class="p-4"><div><div class="w-full flex justify-between items-start"><!> <div><!> <div class="flex justify-end mt-4"><div class="flex flex-col items-center w-[90px] mx-auto"><div class="group relative"><span class="hidden group-hover:block border rounded-lg bg-white text-surface-600 p-2 text-[10px] absolute -right-2 bottom-6 w-[141px] font-medium shadow-lg">We analyse past prices and patterns to tell you if it's
										truly a smart deal.</span> <span class="text-xs font-bold text-surface-950 flex gap-1"> <img alt="info" width="10px" height="10px"></span></div> <span class="text-xs text-surface-950">Deal Score</span></div></div></div></div></div> <div><img alt="chart icon" class="w-6 h-6"> <div><h6 class="text-base font-semibold text-surface-950 mb-1"> </h6> <p class="text-xs font-light text-surface-600"> </p></div></div> <div class="flex flex-col mt-4"><div class="flex justify-between items-center"><p class="font-bold text-surface-950">Deal Score</p> <p class="font-medium text-surface-950">Pts</p></div> <div class="mt-4 flex flex-col gap-2"><!> <!> <!> <!> <!></div></div></div></div> <button class="mt-2 flex justify-end w-full"><div class="flex gap-1 items-center"><img alt="customize scanner" width="20px" height="20px"> <span class="text-xs font-bold text-indigo-600 hover:text-indigo-800 focus:text-indigo-800">Customize</span></div></button></div> <!> <!>`,1);function Rj(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(E3,"$scannerStores",r);let o=le(!1),s=le(!1),l=Ne(()=>i().stats??{avg:0,avg1mon:0,avgbbd:0,min:0,min6:0,pnt:0}),c=le(""),d=Ne(()=>i().price??0),u=Ne(()=>i().currency??"$"),f=Ne(()=>Jy(a(d),a(l))),h=le("https://compare.buyhatke.com/images/site_icons_m/unavail_logo.png");const p=()=>{g(s,!1)},m=()=>{g(o,!1)};let y=le(""),_=le(""),S=le(""),w=le("bg-orange-100");const C=()=>{var Ze,Ge,Pe,We,He;((Ze=a(f))==null?void 0:Ze.total[1])<=50?a(d)<a(l).avg?a(d)>((Ge=a(l))==null?void 0:Ge.min6)?(g(y,ne(so)),g(_,"Higher than 6 mon min"),g(w,"bg-orange-100"),g(S,"Price is higher than the 6 month min")):a(d)>((Pe=a(l))==null?void 0:Pe.min)?(g(y,ne(so)),g(_,"Above Min Low"),g(w,"bg-orange-100"),g(S,"Price is above the all-time minimum")):(g(y,ne(Ps)),g(_,"No change in price"),g(w,"bg-orange-100"),g(S,"There is not significant change in price")):a(l).avgbbd&&a(d)==a(l).avgbbd?(g(y,ne(Ps)),g(_,"Price Same as Last Sale"),g(w,"bg-orange-50"),g(S,"Current price is same as last sale")):a(l).avgbbd&&a(d)>a(l).avgbbd?(g(y,ne(so)),g(_,"Higher than Last Sale"),g(w,"bg-orange-50"),g(S,"Was cheaper during the previous sale")):a(l).avg1mon&&a(d)>a(l).avg1mon?(g(y,ne(so)),g(_,"Seller Price Pump detected"),g(w,"bg-orange-50"),g(S,"Price spiked before sale")):a(l).avg1mon&&a(d)<=1.01*a(l).avg1mon?(g(y,ne(Ps)),g(_,"No change in price"),g(w,"bg-orange-50"),g(S,"Price same as always")):(g(y,ne(Zy)),g(_,"More Than Average Price"),g(w,"bg-red-50"),g(S,"Current price is above average. Not a good time to buy!")):a(d)<a(l).avg?a(d)<=a(l).min?(g(y,ne(e_)),(We=a(l))!=null&&We.pnt&&((He=a(l))==null?void 0:He.pnt)<60?g(_,"Lowest Since Launch"):g(_,"Lowest Price Ever"),g(S,"Best price weâ€™ve ever recorded for this product"),g(w,"bg-green-100")):a(l).min6&&a(d)<=a(l).min6?(g(y,ne(zd)),g(_,"Lowest in 6 Months"),g(w,"bg-green-50"),g(S,"Lowest seen in the last 180 days. Great time to buy!")):a(l).avgbbd&&a(d)<a(l).avgbbd?(g(y,ne(Bd)),g(_,"Better Than Last Sale"),g(w,"bg-green-50"),g(S,"Better than the last big sale price")):(g(y,ne(Bd)),g(_,"Less Than Average Price"),g(w,"bg-green-50"),g(S,"Lower than the average price. Good time to buy!")):(g(y,ne(zd)),g(_,"More than Average "),g(w,"bg-orange-100"))};mr(()=>{i().pid!=a(c)&&(g(c,ne(i().pid)),C())}),Zt(async()=>{C(),g(h,ne(await L3())),await an("shownAboutScanner")||setTimeout(()=>{g(o,!0)},1e3)});var L=Oj(),k=de(L),P=v(k),z=v(P),T=v(z),M=x(z,2),D=v(M),A=x(D,2),O=v(A),I=x(A,2),B=v(I),j=x(P,2),V=v(j),F=x(v(V),2);F.__click=[kj,i];var N=x(v(F)),q=v(N);Xt(q,()=>Wc);var G=x(V,2),Q=v(G),Z=v(Q),E=v(Z);{var U=Ze=>{var Ge=Sj(),Pe=v(Ge),We=v(Pe);Xt(We,()=>Os),b(Ze,Ge)},$=Ze=>{var Ge=ke(),Pe=de(Ge);{var We=nt=>{var Qe=Cj(),rt=v(Qe),ot=v(rt);Xt(ot,()=>Os),b(nt,Qe)},He=nt=>{var Qe=ke(),rt=de(Qe);{var ot=Et=>{var dt=Aj(),wt=v(dt),it=v(wt);Xt(it,()=>Os),b(Et,dt)},Lt=Et=>{var dt=ke(),wt=de(dt);{var it=at=>{var gt=Mj(),Gt=v(gt),Kt=v(Gt);Xt(Kt,()=>Eu),b(at,gt)},ht=at=>{var gt=Pj(),Gt=v(gt),Kt=v(Gt);Xt(Kt,()=>Eu),b(at,gt)};W(wt,at=>{a(f).total[1]>20?at(it):at(ht,!1)},!0)}b(Et,dt)};W(rt,Et=>{a(f).total[1]>50?Et(ot):Et(Lt,!1)},!0)}b(nt,Qe)};W(Pe,nt=>{a(f).total[1]>70?nt(We):nt(He,!1)},!0)}b(Ze,Ge)};W(E,Ze=>{a(f).total[1]>85?Ze(U):Ze($,!1)})}var ee=x(E,2),se=v(ee);$u(se,{get dropPercentage(){return a(f).total[1]},width:90,wrapperClass:"!p-0"});var oe=x(se,2),K=v(oe),J=v(K),te=x(v(J),2),X=v(te),re=x(X),fe=x(Q,2),ue=v(fe),xe=x(ue,2),we=v(xe),me=v(we),ce=x(we,2),ye=v(ce),be=x(fe,2),ve=x(v(be),2),Se=v(ve);{var Ee=Ze=>{var Ge=Dj(),Pe=v(Ge),We=v(Pe);{var He=it=>{var ht=Wt("Below");b(it,ht)},nt=it=>{var ht=ke(),at=de(ht);{var gt=Kt=>{var sr=Wt("Same as");b(Kt,sr)},Gt=Kt=>{var sr=Wt("Above");b(Kt,sr)};W(at,Kt=>{var sr;a(d)==((sr=a(l))==null?void 0:sr.avgbbd)?Kt(gt):Kt(Gt,!1)},!0)}b(it,ht)};W(We,it=>{var ht;a(d)<((ht=a(l))==null?void 0:ht.avgbbd)?it(He):it(nt,!1)})}var Qe=x(We),rt=x(Pe,2),ot=v(rt);const Lt=Ne(()=>{var it,ht;return((it=a(f))==null?void 0:it.saleScore[1])*100/((ht=a(f))==null?void 0:ht.saleScore[0])}),Et=Ne(()=>{var it;return a(d)<((it=a(l))==null?void 0:it.avgbbd)?"#22c55e":"#ef4444"});Ml(ot,{get percentage(){return a(Lt)},get color(){return a(Et)},size:16});var dt=x(ot,2),wt=v(dt);ae(it=>{var ht;Y(Qe,` Last sale price (${a(u)??""}${it??""})`),Y(wt,(ht=a(f))==null?void 0:ht.saleScore[1])},[()=>{var it;return(it=a(l))==null?void 0:it.avgbbd.toFixed(0)}]),b(Ze,Ge)};W(Se,Ze=>{var Ge;a(f).saleScore[0]&&((Ge=a(l))==null?void 0:Ge.avgbbd)>0&&Ze(Ee)})}var Be=x(Se,2);{var Ae=Ze=>{var Ge=Lj(),Pe=v(Ge),We=v(Pe);{var He=wt=>{var it=Wt("No Price hike before sale");b(wt,it)},nt=wt=>{var it=Wt("Price hiked before sale");b(wt,it)};W(We,wt=>{a(d)<=a(l).avg?wt(He):wt(nt,!1)})}var Qe=x(Pe,2),rt=v(Qe);const ot=Ne(()=>{var wt,it;return((wt=a(f))==null?void 0:wt.pumpScore[1])*100/((it=a(f))==null?void 0:it.pumpScore[0])}),Lt=Ne(()=>a(d)<=a(l).avg?"#22c55e":"#ef4444");Ml(rt,{get percentage(){return a(ot)},get color(){return a(Lt)},size:16});var Et=x(rt,2),dt=v(Et);ae(()=>{var wt;return Y(dt,(wt=a(f))==null?void 0:wt.pumpScore[1])}),b(Ze,Ge)};W(Be,Ze=>{a(f).pumpScore[0]&&a(d)>0&&Ze(Ae)})}var Ce=x(Be,2);{var _e=Ze=>{var Ge=Ej(),Pe=v(Ge),We=v(Pe);{var He=it=>{var ht=Wt("At");b(it,ht)},nt=it=>{var ht=Wt("Above");b(it,ht)};W(We,it=>{var ht;a(d)<=((ht=a(l))==null?void 0:ht.min)?it(He):it(nt,!1)})}var Qe=x(We),rt=x(Pe,2),ot=v(rt);const Lt=Ne(()=>a(f).allTimeLowScore[1]*100/a(f).allTimeLowScore[0]),Et=Ne(()=>{var it;return a(d)<=((it=a(l))==null?void 0:it.min)?"#22c55e":"#ef4444"});Ml(ot,{get percentage(){return a(Lt)},get color(){return a(Et)},size:16});var dt=x(ot,2),wt=v(dt);ae(()=>{var it;Y(Qe,` All time low price (${a(u)??""}${((it=a(l))==null?void 0:it.min)??""})`),Y(wt,a(f).allTimeLowScore[1])}),b(Ze,Ge)};W(Ce,Ze=>{var Ge;a(f).allTimeLowScore[0]&&((Ge=a(l))==null?void 0:Ge.min)>0&&Ze(_e)})}var ge=x(Ce,2);{var Oe=Ze=>{var Ge=Ij(),Pe=v(Ge),We=v(Pe);{var He=it=>{var ht=Wt("At");b(it,ht)},nt=it=>{var ht=Wt("Above");b(it,ht)};W(We,it=>{var ht;a(d)<=((ht=a(l))==null?void 0:ht.min6)?it(He):it(nt,!1)})}var Qe=x(We),rt=x(Pe,2),ot=v(rt);const Lt=Ne(()=>a(f).sixMonthLowScore[1]*100/a(f).sixMonthLowScore[0]),Et=Ne(()=>{var it;return a(d)<=((it=a(l))==null?void 0:it.min6)?"#22c55e":"#ef4444"});Ml(ot,{get percentage(){return a(Lt)},get color(){return a(Et)},size:16});var dt=x(ot,2),wt=v(dt);ae(it=>{Y(Qe,` 6 months low price (${a(u)??""}${it??""})`),Y(wt,a(f).sixMonthLowScore[1])},[()=>a(l).min6.toFixed(0)]),b(Ze,Ge)};W(ge,Ze=>{var Ge;a(f).sixMonthLowScore[0]&&((Ge=a(l))==null?void 0:Ge.min6)>0&&Ze(Oe)})}var Le=x(ge,2);{var Re=Ze=>{var Ge=Tj(),Pe=v(Ge),We=v(Pe);{var He=it=>{var ht=Wt("Below");b(it,ht)},nt=it=>{var ht=ke(),at=de(ht);{var gt=Kt=>{var sr=Wt("Same as");b(Kt,sr)},Gt=Kt=>{var sr=Wt("Above");b(Kt,sr)};W(at,Kt=>{var sr;a(d)==((sr=a(l))==null?void 0:sr.avg)?Kt(gt):Kt(Gt,!1)},!0)}b(it,ht)};W(We,it=>{var ht;a(d)<((ht=a(l))==null?void 0:ht.avg)?it(He):it(nt,!1)})}var Qe=x(We),rt=x(Pe,2),ot=v(rt);const Lt=Ne(()=>a(f).threeMonthAvgScore[1]*100/a(f).threeMonthAvgScore[0]),Et=Ne(()=>{var it;return a(d)<=((it=a(l))==null?void 0:it.avg)?"#22c55e":"#ef4444"});Ml(ot,{get percentage(){return a(Lt)},get color(){return a(Et)},size:16});var dt=x(ot,2),wt=v(dt);ae(it=>{Y(Qe,` average price (${a(u)??""}${it??""})`),Y(wt,a(f).threeMonthAvgScore[1])},[()=>a(l).avg.toFixed(0)]),b(Ze,Ge)};W(Le,Ze=>{var Ge;a(f).threeMonthAvgScore[0]&&((Ge=a(l))==null?void 0:Ge.avg)>0&&Ze(Re)})}var Me=x(j,2);Me.__click=[wj,s];var Te=v(Me),ze=v(Te),Fe=x(k,2);{var Ye=Ze=>{_j(Ze,{closeModal:p})};W(Fe,Ze=>{a(s)&&Ze(Ye)})}var Je=x(Fe,2);{var et=Ze=>{fj(Ze,{closeModal:m})};W(Je,Ze=>{a(o)&&Ze(et)})}ae((Ze,Ge,Pe)=>{pe(T,"src",i().image),pe(D,"src",a(h)),Y(O,i().prod),Y(B,`${i().currency??""}${i().price??""}`),Y(X,`${a(f).total[1]??""} `),pe(re,"src",Ze),$e(fe,`py-3 px-4 text-sm font-bold text-surface-950 rounded-md mt-4 flex gap-4 items-start ${a(w)??""}`),pe(ue,"src",Ge),Y(me,a(_)),Y(ye,a(S)),pe(ze,"src",Pe)},[()=>chrome.runtime.getURL(ss),()=>chrome.runtime.getURL(a(y)),()=>chrome.runtime.getURL(bj)]),b(t,L),Ke(),n()}Tt(["click"]);var Nj=H('<div class="scene w-full" style="perspective: 1000px;"><div class="hk-cube relative w-full"><div class="hk-face hk-front"><!></div> <div class="hk-face hk-back"><!></div></div></div>');function zj(t,e){let r=R(e,"axis",3,"x"),n=R(e,"duration",3,600);var i=Nj(),o=v(i),s=v(o),l=v(s);Sh(l,()=>e.front);var c=x(s,2),d=v(c);Sh(d,()=>e.back),ae(()=>{pe(o,"style",`transition: transform ${n()??""}ms; transform-style: preserve-3d;`),qe(o,"hk-flipped-x",e.isFlipped&&r()==="x"),qe(o,"hk-flipped-y",e.isFlipped&&r()==="y")}),b(t,i)}var Bj=(t,e,r)=>e(a(r).code,a(r).id),jj=H('<div class="flex flex-col gap-2 p-2 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg"><p class="text-xs font-medium text-gray-900"> </p> <button class="px-6 py-2 bg-gradient-to-r from-orange-500 to-red-500 text-white text-xs font-semibold rounded-lg"> </button></div>'),Fj=H('<div class="grid gap-2"></div>'),Uj=H('<p class="text-xs text-gray-600">No Coupons Available</p>'),Vj=H('<div class="grid gap-3 bg-white"><div class="flex items-center gap-3"><div class="flex items-center justify-center w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full"><img alt="Auto Coupon" class="w-4 h-4 filter brightness-0 invert"></div> <div class="flex flex-col"><h3 class="text-base font-bold text-gray-900"> </h3> <p class="text-xs text-gray-600"> </p></div></div> <!></div>');function Wj(t,e){Xe(e,!0);const r=R(e,"coupons",19,()=>[]),n=R(e,"title",3,"Auto Coupons"),i=R(e,"subtitle",3,"Best coupons for your purchase"),o=chrome.runtime.getURL(w_);let s=ne(new Set);function l(L,k){navigator.clipboard.writeText(L),s.add(k),_a({duration:2e3,description:`Coupon ${L} copied to clipboard!`}),setTimeout(()=>{s.delete(k)},3e3)}var c=Vj(),d=v(c),u=v(d),f=v(u);pe(f,"src",o);var h=x(u,2),p=v(h),m=v(p),y=x(p,2),_=v(y),S=x(d,2);{var w=L=>{var k=Fj();St(k,21,r,P=>P.id,(P,z)=>{var T=jj(),M=v(T),D=v(M),A=x(M,2);A.__click=[Bj,l,z];var O=v(A);ae(()=>{Y(D,a(z).desc),Y(O,`Copy ${a(z).code??""}`)}),b(P,T)}),b(L,k)},C=L=>{var k=Uj();b(L,k)};W(S,L=>{r().length>0?L(w):L(C,!1)})}ae(()=>{Y(m,n()),Y(_,i())}),b(t,c),Ke()}Tt(["click"]);var Hj=H("<span><!></span>");function yw(t,e){Xe(e,!0);let r=R(e,"content",3,""),n=R(e,"speed",3,30),i=R(e,"animate",3,!0),o=R(e,"onComplete",3,()=>{}),s=R(e,"onStart",3,()=>{}),l=R(e,"cls",3,""),c=le(""),d=null;function u(){d&&(clearInterval(d),d=null)}function f(){if(u(),!i()){g(c,r()),o()();return}const m=r().match(/\S+/g)||[];if(m.length===0){g(c,r()),o()();return}g(c,"");let y=0;d=setInterval(()=>{y<m.length?(g(c,a(c)+(m[y]+" ")),y++):(u(),o()())},n())}mr(()=>(r()&&(s()(),f()),()=>u())),Gn(u);var h=Hj(),p=v(h);Xt(p,()=>a(c)),ae(()=>$e(h,Mr(l()))),b(t,h),Ke()}const qj="/assets/priceHistoryIndigoIcon-wHKGThDD.svg",Gj="/assets/askAboutIndigoIcon-DIVlulTu.svg",$j="/assets/compareIndigoIcon-DGHovTVW.svg";var Yj=H('<a target="_blank"><div class="relative flex-shrink-0"><div class="w-28 h-28 rounded-md overflow-hidden bg-surface-50"><img class="w-full h-full border rounded-md object-contain"></div></div></a>'),Xj=async(t,e,r)=>{var n;e.handleShowPriceGraph(a(r).pos,a(r).pid,a(r).price),vt("chat-recommend-price-history",{url:(n=a(r))==null?void 0:n.link})},Kj=(t,e,r)=>{var n;e.handleSetPriceAlert(a(r)),vt("chat-recommend-price-alert",{url:(n=a(r))==null?void 0:n.link})},Qj=(t,e,r)=>{var n;e.handleShowPriceComp(a(r)),vt("chat-recommend-comparison",{url:(n=a(r))==null?void 0:n.link})},Jj=(t,e,r)=>{var n;e.handleAskAbout(a(r)),vt("chat-recommend-ask-about",{url:(n=a(r))==null?void 0:n.link})},Zj=(t,e)=>{var r;vt("chat-web-redirection",{url:(r=a(e))==null?void 0:r.link})},eF=H('<div class="flex flex-col gap-4 shadow-md p-2 rounded-lg"><div class="flex items-start justify-between gap-2"><!> <div class="flex-1 min-w-0 flex flex-col justify-between"><div><div class="flex justify-between items-center mb-1"><div class="flex gap-2 items-center"><img class="w-6 h-6 border rounded-full"> <span class="text-xs text-slate-600 capitalize font-medium"> </span></div> <div class="flex items-center justify-between"><div class="flex-shrink-0 flex flex-col"><span class="text-sm font-bold text-slate-950"> </span></div></div></div> <div class="mb-2"><p class="text-xs font-medium capitalize line-clamp-2 text-slate-600"> </p></div></div> <div class="flex flex-wrap gap-2 mt-2"><button class="p-1 rounded-full bg-primary-50 relative group" aria-label="price graph"><!> <div class="hidden group-hover:block absolute -top-8 left-1/2 -translate-x-1/2 bg-white text-surface-950 p-1 rounded border text-xs font-medium whitespace-nowrap">Price History</div></button> <button class="p-1 rounded-full bg-primary-50 relative group" aria-label="price alert"><!> <div class="hidden group-hover:block absolute -top-8 left-1/2 -translate-x-1/2 bg-white text-surface-950 p-1 rounded border text-xs font-medium whitespace-nowrap">Price Alert</div></button> <button class="p-1 rounded-full bg-primary-50 relative group" aria-label="compare price"><!> <div class="hidden group-hover:block absolute -top-8 left-1/2 -translate-x-1/2 bg-white text-surface-950 p-1 rounded border text-xs font-medium whitespace-nowrap">Compare Price</div></button> <button class="p-1 rounded-full bg-primary-50 relative group" aria-label="ask about"><!> <div class="hidden group-hover:block absolute -top-8 left-1/2 -translate-x-1/2 bg-white text-surface-950 p-1 rounded border text-xs font-medium whitespace-nowrap">Ask About</div></button> <a target="_blank" class="p-1 rounded-full bg-primary-50 relative group flex items-center"><span class="inline-block text-primary-600 w-5 h-5"><!></span> <div class="hidden group-hover:block absolute -top-8 right-0 bg-white text-surface-950 p-1 rounded border text-xs font-medium whitespace-nowrap">View Details</div></a></div></div></div></div>'),tF=H('<div class="space-y-4 w-full"><!> <!></div>');function ly(t,e){Xe(e,!0);let r=R(e,"explainText",3,""),n=R(e,"showAnimation",3,!1);const i="â‚¹",o="en-IN";let s=le(!r());var l=tF(),c=v(l);{var d=h=>{const p=Ne(()=>t_(r()));yw(h,{cls:"text-xs font-medium text-surface-700",get content(){return a(p)},speed:40,onComplete:()=>{g(s,!0),e.handleTypingComplete()},get animate(){return n()}})};W(c,h=>{r()&&h(d)})}var u=x(c,2);{var f=h=>{var p=ke(),m=de(p);St(m,17,()=>e.cardData,zt,(y,_)=>{var S=ke(),w=de(S);{var C=L=>{var k=eF();const P=Ne(()=>a(_).link),z=Ne(()=>{var ce;return(ce=Da)==null?void 0:ce[a(_).pos]}),T=Ne(()=>{var ce,ye;return((ye=(ce=a(z))==null?void 0:ce.currency)==null?void 0:ye[0])??i}),M=Ne(()=>{var ce;return((ce=a(z))==null?void 0:ce.countryCode)??o});var D=v(k),A=v(D);{var O=ce=>{var ye=Yj(),be=v(ye),ve=v(be),Se=v(ve);ae(()=>{var Ee,Be;pe(ye,"href","https://buyhatke.com/"+a(P)),pe(Se,"src",(Ee=a(_))==null?void 0:Ee.image),pe(Se,"alt",(Be=a(_))==null?void 0:Be.prod)}),b(ce,ye)};W(A,ce=>{var ye;(ye=a(_))!=null&&ye.image&&ce(O)})}var I=x(A,2),B=v(I),j=v(B),V=v(j),F=v(V),N=x(F,2),q=v(N),G=x(V,2),Q=v(G),Z=v(Q),E=v(Z),U=x(j,2),$=v(U),ee=v($),se=x(B,2),oe=v(se);oe.__click=[Xj,e,_];var K=v(oe);Ur(K,{src:qj,alt:"price graph icon",cls:"w-5 h-5 rounded-full"});var J=x(oe,2);J.__click=[Kj,e,_];var te=v(J);Ur(te,{src:__,alt:"price alert icon",cls:"w-5 h-5 rounded-full"});var X=x(J,2);X.__click=[Qj,e,_];var re=v(X);Ur(re,{src:$j,alt:"compare price icon",cls:"w-5 h-5 rounded-full"});var fe=x(X,2);fe.__click=[Jj,e,_];var ue=v(fe);Ur(ue,{src:Gj,alt:"ask about product",cls:"w-5 h-5 rounded-full "});var xe=x(fe,2);xe.__click=[Zj,_];var we=v(xe),me=v(we);Xt(me,()=>Wc),ae(ce=>{var ye,be,ve;pe(F,"src",(ye=a(_))==null?void 0:ye.siteImage),pe(F,"alt",(be=a(_))==null?void 0:be.siteName),Y(q,(ve=a(_))==null?void 0:ve.siteName),Y(E,`${a(T)??""}${ce??""}`),Y(ee,a(_).prod),pe(xe,"href","https://buyhatke.com/"+a(P))},[()=>kn(a(_).price,{locale:a(M),max:2})]),b(L,k)};W(w,L=>{a(_).link&&L(C)})}b(y,S)}),b(h,p)};W(u,h=>{a(s)&&h(f)})}b(t,l),Ke()}Tt(["click"]);var rF=H('<span class="text-xs text-slate-500 font-medium">Up to date</span>'),nF=H('<span class="text-xs text-slate-500 font-medium"> </span>'),aF=H('<span class="text-xs text-red-500 font-medium">Sync Again</span>'),iF=H('<p class="text-xs text-slate-500 font-medium text-start"><!></p>'),oF=H('<button class="w-full text-sm font-medium text-indigo-600 hover:text-indigo-800 transition-colors duration-200 border border-indigo-600 rounded-lg py-2">Analyze</button>'),sF=H('<span class="text-sm text-slate-950 font-bold whitespace-nowrap"> </span>'),lF=H('<span class="text-sm text-slate-950 font-bold whitespace-nowrap"> </span>'),cF=H('<button class="w-full !bg-orange-500 whitespace-nowrap rounded-lg text-white font-medium hover:bg-orange-600 transition-colors duration-200 text-sm py-2">Refresh</button>'),dF=H('<div class="flex flex-col items-start gap-1"><!></div> <!>',1),uF=H('<div class="h-full border rounded-lg"><div class="hover:ring-indigo-600 rounded-lg p-3 xs:p-4 flex flex-col justify-between gap-2 w-[136px] h-full font-metropolis"><div class="flex flex-col items-start gap-1"><div class="relative"><img width="48" height="48" class="drop-shadow-sm rounded-full aspect-square"></div> <div class="flex flex-col items-start gap-1"><span class="text-sm font-medium xs:font-bold text-slate-950 text-nowrap capitalize"> </span> <!></div></div> <!></div></div>');function fF(t,e){Xe(e,!1);const r=Ve(),n=Ve();let i=R(e,"storeData",8),o=R(e,"monthlySpend",24,()=>[]),s=R(e,"selectedAccount",8,0),l=o().reduce((M,D)=>M+D.totSpent,0),c=Ve(!0),d=Ve(0),u=Ve(!0);const f=M=>{if(!M)return!0;const D=new Date(M);if(isNaN(D.getTime()))return!1;const O=new Date().getTime()-D.getTime();return g(d,Math.ceil(O/(24*60*60*1e3))),O<24*60*60*1e3};De(()=>(he(o()),he(s())),()=>{var M;g(u,!!((M=o()[s()])!=null&&M.lastUpdated))}),De(()=>(he(o()),he(s())),()=>{var M;g(c,f((M=o()[s()])==null?void 0:M.lastUpdated))}),De(()=>(he(o()),he(s())),()=>{var M,D;g(r,((D=(M=o())==null?void 0:M[s()])==null?void 0:D.currency)??"â‚¹")}),De(()=>a(r),()=>{g(n,a(r)==="â‚¹"?"en-IN":a(r)==="â‚º "||a(r)==="TL"?"tr-TR":"en-US")}),Qr(),pr();var h=uF(),p=v(h),m=v(p),y=v(m),_=v(y),S=x(y,2),w=v(S),C=v(w),L=x(w,2);{var k=M=>{var D=iF(),A=v(D);{var O=B=>{var j=ke(),V=de(j);{var F=q=>{var G=rF();b(q,G)},N=q=>{var G=nF(),Q=v(G);ae(()=>Y(Q,`Synced ${a(d)??""}
									${(a(d)>1?"days":"day")??""} back`)),b(q,G)};W(V,q=>{a(c)?q(F):q(N,!1)})}b(B,j)},I=B=>{var j=aF();b(B,j)};W(A,B=>{a(u)?B(O):B(I,!1)})}b(M,D)};W(L,M=>{i().connectURL.length&&M(k)})}var P=x(m,2);{var z=M=>{var D=oF();tt("click",D,()=>{const A=new URL(i().connectURL[0]);A.searchParams.append("triggerSpend","true"),window.open(A,"_blank")}),b(M,D)},T=M=>{var D=dF(),A=de(D),O=v(A);{var I=F=>{var N=sF(),q=v(N);ae(G=>Y(q,G),[()=>I3(l,"hours")],Ie),b(F,N)},B=F=>{var N=lF(),q=v(N);ae(G=>Y(q,`${a(r)??""}${G??""}`),[()=>kn(l,{locale:a(n),max:0})],Ie),b(F,N)};W(O,F=>{a(r)==="seconds"?F(I):F(B,!1)})}var j=x(A,2);{var V=F=>{var N=cF();tt("click",N,()=>{const q=new URL(i().connectURL[0]);q.searchParams.append("triggerSpend","true"),window.open(q,"_blank")}),b(F,N)};W(j,F=>{a(c)||F(V)})}b(M,D)};W(P,M=>{a(u)?M(T,!1):M(z)})}ae(M=>{pe(_,"src",i().website_image),pe(_,"alt",`${i().website_name} logo`),Y(C,M)},[()=>Na(i().website_name,12)],Ie),b(t,h),Ke()}var vF=()=>{},hF=H('<button class="border rounded-lg text-start cursor-default"><div class="flex flex-col w-full min-w-[160px] rounded-lg"><div><img></div> <div class="p-3 pb-4"><p class="text-sm font-medium text-slate-950 text-nowrap"> </p> <p class="text-xs text-slate-600 font-medium"> <span> </span></p> <p class="text-sm xs:text-base pt-1 xs:pt-2 font-bold text-slate-950"> </p></div></div></button>'),pF=(t,e,r)=>{if(a(e).orderLink){const n=r(a(e).orderLink);window.open(n,"_blank")}},gF=H('<button><div class="flex flex-col w-fit min-w-[160px] rounded-lg"><div><img class="w-[128px] h-[128px] rounded-lg object-contain"></div> <div class="p-3 pb-4"><p class="text-sm font-medium text-slate-950 text-nowrap"> </p> <p class="text-xs text-slate-600 font-medium capitalize"> </p> <p class="text-sm xs:text-base pt-1 xs:pt-2 font-bold text-slate-950"> </p></div></div></button>'),mF=(t,e,r)=>{if(a(e).orderLink){const n=r(a(e).orderLink);window.open(n,"_blank")}},xF=H('<p class="text-xs text-slate-600 font-medium"> <br> </p>'),yF=H('<p class="text-xs text-slate-600 font-medium"> <br> </p>'),_F=H('<p class="text-xs text-slate-600 font-medium"> <br> </p>'),bF=H('<button><div class="flex flex-col w-fit min-w-[160px] rounded-lg h-full"><div><img class="rounded-t-lg w-full"></div> <div class="p-3 pb-4"><p class="text-sm font-medium text-slate-950 text-nowrap mt-1"> </p> <!> <p class="text-sm xs:text-base pt-1 xs:pt-2 font-bold text-slate-950"> </p></div></div></button>'),wF=(t,e,r)=>{if(a(e).orderLink){const n=r(a(e).orderLink);window.open(n,"_blank")}},kF=H('<button><div class="flex flex-col w-fit min-w-[160px] rounded-lg h-full"><div><img class="w-full h-full rounded-t-lg"></div> <div class="p-3 pb-4"><p class="text-sm font-medium text-slate-950 text-nowrap mt-1"> </p> <p class="text-xs text-slate-600 font-medium"> <br> </p> <p class="text-sm xs:text-base pt-1 xs:pt-2 font-bold text-slate-950"> </p></div></div></button>'),SF=(t,e,r)=>{if(a(e).orderLink){const n=r(a(e).orderLink);window.open(n,"_blank")}},CF=H('<button><div class="flex flex-col w-fit min-w-[160px] rounded-lg h-full"><div><img class="w-full h-full rounded-t-lg"></div> <div class="p-3 pb-4"><p class="text-sm font-medium text-slate-950 text-nowrap mt-1"> </p> <p class="text-xs text-slate-600 font-medium"> </p> <p class="text-sm xs:text-base pt-1 xs:pt-2 font-bold text-slate-950"> </p></div></div></button>'),AF=(t,e,r)=>{if(a(e).orderLink){const n=r(a(e).orderLink);window.open(n,"_blank")}},MF=H('<button><div class="flex flex-col w-fit min-w-[160px] rounded-lg h-full"><div><img class="w-full h-full rounded-t-lg"></div> <div class="p-3 pb-4"><p class="text-sm font-medium text-slate-950 text-nowrap mt-1"> </p> <p class="text-xs text-slate-600 font-medium"> <br> </p> <p class="text-sm xs:text-base pt-1 xs:pt-2 font-bold text-slate-950"> </p></div></div></button>'),PF=(t,e,r)=>{if(a(e).orderLink){const n=r(a(e).orderLink);window.open(n,"_blank")}},DF=H(" <br>",1),LF=H('<button><div class="flex flex-col justify-between w-fit min-w-[160px] rounded-lg h-full"><div class="bg-slate-100 rounded-t-lg"><img class="w-full h-full rounded-t-lg max-h-[120px]"></div> <div class="p-3 pb-4"><p class="text-sm font-medium text-slate-950 text-nowrap mt-1"> </p> <p class="text-xs text-slate-600 font-medium capitalize"><!> </p> <p class="text-sm xs:text-base pt-1 xs:pt-2 font-bold text-slate-950"> </p></div></div></button>'),EF=(t,e,r)=>{if(a(e).orderLink){const n=r(a(e).orderLink);window.open(n,"_blank")}},IF=H('<button><div class="flex flex-col justify-between w-fit min-w-[160px] rounded-lg h-full"><div><img src="https://compare.buyhatke.com/assets/img/spendCalc__cabsDefault.svg" class="w-full h-full rounded-t-lg max-h-[120px] object-cover"></div> <div class="p-3 pb-4"><p class="text-sm font-medium text-slate-950 text-nowrap mt-1"> </p> <p class="text-xs text-slate-600 font-medium capitalize"> </p> <p class="text-sm xs:text-base pt-1 xs:pt-2 font-bold text-slate-950"> </p></div></div></button>'),TF=(t,e,r)=>{if(a(e).orderLink){const n=r(a(e).orderLink);window.open(n,"_blank")}},OF=H('<button><div class="flex flex-col justify-between w-fit min-w-[160px] rounded-lg h-full"><div><img src="https://compare.buyhatke.com/assets/img/spendCalc__storeDefault.svg" class="w-full h-full rounded-t-lg max-h-[120px] object-contain"></div> <div class="p-3 pb-4"><p class="text-xs text-slate-600 font-medium"> <br> </p> <p class="text-sm xs:text-base pt-1 xs:pt-2 font-bold text-slate-950"> </p></div></div></button>'),RF=H('<div class="flex gap-4 overflow-x-auto min-w-[160px] mt-4"></div>');function gd(t,e){Xe(e,!1);let r=R(e,"spends",8);const n=(s,l,c,d="100")=>{try{return!s||typeof s!="string"?"https://compare.buyhatke.com/assets/img/spendCalc__storeDefault.svg":s.replace("{@width}",l).replace("{@height}",c).replace("{@quality}",d)}catch(u){return console.log(u),s}},i=s=>new URL(s.startsWith("http")?s:`https://${s}`).toString();pr();var o=RF();St(o,5,r,zt,(s,l)=>{var c=ke();const d=Ie(()=>a(l).pos),u=Ie(()=>a(l).currency||"â‚¹"),f=Ie(()=>a(u)==="â‚¹"?"en-IN":a(u)==="â‚º "||a(u)==="TL"?"tr-TR":"en-US");var h=de(c);{var p=y=>{var _=hF();const S=Ie(()=>{var B,j;return((j=(B=a(l))==null?void 0:B.productList)==null?void 0:j[0])??{}});_.__click=[vF];var w=v(_),C=v(w),L=v(C),k=x(C,2),P=v(k),z=v(P),T=x(P,2),M=v(T),D=x(M),A=v(D),O=x(T,2),I=v(O);ae((B,j,V,F)=>{var N,q,G,Q,Z,E;$e(C,Mr((N=a(S))!=null&&N.image?"":"p-2 mx-auto")),pe(L,"src",B),pe(L,"alt",(q=a(S))==null?void 0:q.prod),$e(L,`w-full h-[128px] rounded-t-lg mx-auto $${((G=a(S))!=null&&G.image?"object-contain":"")??""}`),Y(z,j),Y(M,`${a(l).productList.length||0} Order${(((Z=(Q=a(l))==null?void 0:Q.productList)==null?void 0:Z.length)===1?"":"s")??""}
							Â· `),pe(D,"title",((E=a(S))==null?void 0:E.restaurantName)||"Restaurant"),Y(A,V),Y(I,`${a(u)??""}${F??""}`)},[()=>{var B;return n(((B=a(S))==null?void 0:B.image)??"https://compare.buyhatke.com/assets/img/spendCalc__storeDefault.svg","128","128")},()=>{var B;return Na(((B=a(S))==null?void 0:B.prod)??"Product",15)},()=>Na(a(S).restaurantName||"Restaurant",8),()=>kn(a(l).price??0,{locale:a(f),max:0})],Ie),b(y,_)},m=y=>{var _=ke();const S=Ie(()=>{var k;return((k=a(l).productList)==null?void 0:k[0])??{}});var w=de(_);{var C=k=>{var P=gF();P.__click=[pF,l,i];var z=v(P),T=v(z),M=v(T),D=x(T,2),A=v(D),O=v(A),I=x(A,2),B=v(I),j=x(I,2),V=v(j);ae((F,N,q,G)=>{$e(P,`border rounded-lg text-start ${(a(l).orderLink?"hover:border-indigo-600 cursor-pointer":"cursor-default")??""}`),$e(T,Mr(a(S).image?"p-2 mx-auto":"rounded-t-lg ")),pe(M,"src",F),pe(M,"alt",a(S).prod),Y(O,N),Y(B,`${a(l).productList.length??""}
								items Â· ${q??""}`),Y(V,`${a(u)??""}${G??""}`)},[()=>n(a(S).image??" https://compare.buyhatke.com/assets/img/spendCalc__storeDefault.svg","128","128"),()=>Na(a(S).prod??"Product",15),()=>ui(a(l).orderDate),()=>kn(a(l).price??0,{locale:a(f),max:0})],Ie),b(k,P)},L=k=>{var P=ke(),z=de(P);{var T=D=>{var A=bF();A.__click=[mF,l,i];var O=v(A),I=v(O),B=v(I),j=x(I,2),V=v(j),F=v(V),N=x(V,2);{var q=E=>{var U=ke();const $=Ie(()=>a(l).productList[1]),ee=Ie(()=>"airline"in a($)&&a(S).destinationCode===a($).originCode&&a($).airline===a(S).airline);var se=de(U);{var oe=J=>{var te=xF(),X=v(te),re=x(X,2);ae(fe=>{Y(X,`${a(S).originCode??""} - ${a(S).destinationCode??""}
										- ${a($).destinationCode??""} `),Y(re,` ${fe??""}`)},[()=>ui(a(l).orderDate)],Ie),b(J,te)},K=J=>{var te=yF(),X=v(te),re=x(X,2);ae(fe=>{Y(X,`${a(S).originCode??""} - ${a(S).destinationCode??""} `),Y(re,` ${fe??""}`)},[()=>ui(a(l).orderDate)],Ie),b(J,te)};W(se,J=>{a(ee)?J(oe):J(K,!1)})}b(E,U)},G=E=>{var U=_F(),$=v(U),ee=x($,2);ae(se=>{Y($,`${a(S).originCode??""} - ${a(S).destinationCode??""} `),Y(ee,` ${se??""}`)},[()=>ui(a(l).orderDate)],Ie),b(E,U)};W(N,E=>{a(l).productList.length>1?E(q):E(G,!1)})}var Q=x(N,2),Z=v(Q);ae((E,U,$)=>{$e(A,`border rounded-lg text-start ${(a(l).orderLink?"hover:border-indigo-600 cursor-pointer":"cursor-default")??""}`),pe(B,"src",E),pe(B,"alt",a(S).airline),Y(F,U),Y(Z,`${a(u)??""}${$??""}`)},[()=>n(a(S).image??"https://compare.buyhatke.com/assets/img/spendCalc__planeDefault.svg","128","128"),()=>Na(a(S).airline??"Plane",15),()=>kn(a(l).price??0,{locale:a(f),max:0})],Ie),b(D,A)},M=D=>{var A=ke(),O=de(A);{var I=j=>{var V=kF();V.__click=[wF,l,i];var F=v(V),N=v(F),q=v(N),G=x(N,2),Q=v(G),Z=v(Q),E=x(Q,2),U=v(E),$=x(U,2),ee=x(E,2),se=v(ee);ae((oe,K,J,te)=>{$e(V,`border rounded-lg text-start ${(a(l).orderLink?"hover:border-indigo-600 cursor-pointer":"cursor-default")??""}`),pe(q,"src",oe),pe(q,"alt",a(S).hotelName),Y(Z,K),Y(U,`${a(S).destinationName??""} `),Y($,` ${J??""}`),Y(se,`${a(u)??""}${te??""}`)},[()=>n(a(S).image??"https://compare.buyhatke.com/assets/img/spendCalc__hotelDefault.svg","128","128"),()=>Na(a(S).hotelName??"Hotel",15),()=>ui(a(l).orderDate),()=>kn(a(l).price??0,{locale:a(f),max:0})],Ie),b(j,V)},B=j=>{var V=ke(),F=de(V);{var N=G=>{var Q=CF();Q.__click=[SF,l,i];var Z=v(Q),E=v(Z),U=v(E),$=x(E,2),ee=v($),se=v(ee),oe=x(ee,2),K=v(oe),J=x(oe,2),te=v(J);ae((X,re,fe,ue)=>{$e(Q,`border rounded-lg text-start ${(a(l).orderLink?"hover:border-indigo-600 cursor-pointer":"cursor-default")??""}`),pe(U,"src",X),pe(U,"alt",a(S).reastaurantName),Y(se,re),Y(K,fe),Y(te,`${a(u)??""}${ue??""}`)},[()=>n(a(S).image??"https://compare.buyhatke.com/assets/img/spendCalc__hotelDefault.svg","128","128"),()=>Na(a(S).reastaurantName??"Restaurant",15),()=>ui(a(l).orderDate),()=>kn(a(l).price??0,{locale:a(f),max:0})],Ie),b(G,Q)},q=G=>{var Q=ke(),Z=de(Q);{var E=$=>{var ee=MF();ee.__click=[AF,l,i];var se=v(ee),oe=v(se),K=v(oe),J=x(oe,2),te=v(J),X=v(te),re=x(te,2),fe=v(re),ue=x(fe,2),xe=x(re,2),we=v(xe);ae((me,ce,ye,be)=>{$e(ee,`border rounded-lg text-start ${(a(l).orderLink?"hover:border-indigo-600 cursor-pointer":"cursor-default")??""}`),pe(K,"src",me),pe(K,"alt",a(S).trainName??"train name"),Y(X,ce),Y(fe,`${a(S).originCode??""} - ${a(S).destinationCode??""} `),Y(ue,` ${ye??""}`),Y(we,`${a(u)??""}${be??""}`)},[()=>n(a(S).image??"https://compare.buyhatke.com/assets/img/spendCalc__trainDefault.svg","128","128"),()=>Na(a(S).trainName??"Train",15),()=>ui(a(l).orderDate),()=>kn(a(l).price??0,{locale:a(f),max:0})],Ie),b($,ee)},U=$=>{var ee=ke(),se=de(ee);{var oe=J=>{var te=LF();te.__click=[PF,l,i];var X=v(te),re=v(X),fe=v(re),ue=x(re,2),xe=v(ue),we=v(xe),me=x(xe,2),ce=v(me);{var ye=Ee=>{var Be=DF(),Ae=de(Be);ae(()=>Y(Ae,`${a(S).city??""} `)),b(Ee,Be)};W(ce,Ee=>{a(S).city&&Ee(ye)})}var be=x(ce),ve=x(me,2),Se=v(ve);ae((Ee,Be,Ae,Ce)=>{$e(te,`border rounded-lg text-start ${(a(l).orderLink?"hover:border-indigo-600 cursor-pointer":"cursor-default")??""}`),pe(fe,"src",Ee),pe(fe,"alt",a(S).vehicleType??"cabs"),Y(we,Be),Y(be,` ${Ae??""}`),Y(Se,`${a(u)??""}${Ce??""}`)},[()=>n(a(S).image??"https://compare.buyhatke.com/assets/img/spendCalc__cabsDefault.svg","128","128"),()=>Na(a(S).vehicleType??"Cab",15),()=>ui(a(l).orderDate),()=>kn(a(l).price??0,{locale:a(f),max:0})],Ie),b(J,te)},K=J=>{var te=ke(),X=de(te);{var re=ue=>{var xe=IF();xe.__click=[EF,l,i];var we=v(xe),me=v(we),ce=v(me),ye=x(me,2),be=v(ye),ve=v(be),Se=x(be,2),Ee=v(Se),Be=x(Se,2),Ae=v(Be);ae((Ce,_e,ge)=>{$e(xe,`border rounded-lg text-start ${(a(l).orderLink?"hover:border-indigo-600 cursor-pointer":"cursor-default")??""}`),pe(ce,"alt",a(S).busType??"Bus"),Y(ve,Ce),Y(Ee,_e),Y(Ae,`${a(u)??""}${ge??""}`)},[()=>Na(a(S).travelName??"Bus",15),()=>ui(a(S).startTime),()=>kn(a(l).price??0,{locale:a(f),max:0})],Ie),b(ue,xe)},fe=ue=>{var xe=ke(),we=de(xe);{var me=ce=>{var ye=OF();ye.__click=[TF,l,i];var be=v(ye),ve=v(be),Se=v(ve);pe(Se,"alt","Parcel");var Ee=x(ve,2),Be=v(Ee),Ae=v(Be),Ce=x(Ae,2),_e=x(Be,2),ge=v(_e);ae((Oe,Le)=>{$e(ye,`border rounded-lg text-start ${(a(l).orderLink?"hover:border-indigo-600 cursor-pointer":"cursor-default")??""}`),Y(Ae,`${a(S).pickUpAddressAnnot??""} - ${a(S).dropAddressAnnot??""} `),Y(Ce,` ${Oe??""}`),Y(ge,`${a(u)??""}${Le??""}`)},[()=>ui(a(l).orderDate),()=>kn(a(l).price??0,{locale:a(f),max:0})],Ie),b(ce,ye)};W(we,ce=>{"pickUpAddressAnnot"in a(S)&&ce(me)},!0)}b(ue,xe)};W(X,ue=>{"busType"in a(S)?ue(re):ue(fe,!1)},!0)}b(J,te)};W(se,J=>{"vehicleType"in a(S)?J(oe):J(K,!1)},!0)}b($,ee)};W(Z,$=>{"trainName"in a(S)?$(E):$(U,!1)},!0)}b(G,Q)};W(F,G=>{"reastaurantName"in a(S)?G(N):G(q,!1)},!0)}b(j,V)};W(O,j=>{"hotelName"in a(S)?j(I):j(B,!1)},!0)}b(D,A)};W(z,D=>{"airline"in a(S)?D(T):D(M,!1)},!0)}b(k,P)};W(w,k=>{"prod"in a(S)?k(C):k(L,!1)})}b(y,_)};W(h,y=>{a(d)=="2050"||a(d)=="1822"?y(p):y(m,!1)})}b(s,c)}),b(t,o),Ke()}Tt(["click"]);var NF=H('<div class="rounded-lg w-72 flex flex-col"><div class="rounded-t-lg bg-yellow-400 p-4 flex flex-col gap-2"><div><img alt="website logo" class="border w-10 h-10 rounded-full"></div> <div><span class="text-xs xs:text-sm text-slate-950 font-medium"> </span></div> <div><span class="text-4xl xs:text-6xl font-bold text-slate-950"> </span></div></div> <div class="rounded-b-lg bg-indigo-50 px-4 py-2"><span class="text-xs font-medium text-slate-600 mt-2 whitespace-nowrap"> </span></div></div>'),zF=H('<div class="flex gap-4 overflow-x-auto w-auto mb-2"></div>'),BF=H('<div class="flex flex-col h-full"><div class=" mb-2 text-sm font-medium text-slate-600">Spend Calculated Across Sites are:</div> <div class="flex flex-nowrap gap-4 overflow-x-auto h-full"></div></div>'),jF=H('<div class="flex flex-col"><p class="text-sm font-medium text-slate-600">This Month Top Spends</p> <!></div>'),FF=H('<div class="flex flex-col"><p class="text-sm font-medium text-slate-600">Last Month Top Spends</p> <!></div>'),UF=H('<div><p class="text-base xs:text-xl font-bold text-slate-950 mb-2"> </p> <div class="flex flex-col gap-6"><!> <!></div></div>'),VF=H(`<div class="max-w-[80%] p-3 text-xs font-medium rounded-lg text-slate-950 bg-slate-100 break-words">Looks like you've been saving big!</div>`),WF=H('<div class="w-full"><p class="text-base xs:text-xl font-bold text-slate-950">Top Spends</p> <!></div>'),HF=H(`<div class="max-w-[80%] p-3 text-xs font-medium rounded-lg text-slate-950 bg-slate-100 break-words">Looks like you've been saving big!</div>`),qF=H("<div><!></div>"),GF=H('<div class="w-full"><p class="text-base xs:text-xl font-bold text-slate-950">Last Month Spends</p> <!></div>'),$F=H(`<div class="max-w-[80%] p-3 text-xs font-medium rounded-lg text-slate-950 bg-slate-100 break-words">Looks like you've been saving big! You didn't spend anything in the last 30 days.</div>`),YF=H("<div><!></div>");function Pl(t,e){Xe(e,!0);const r={"3M":["7552"],"6M":["1829","2268","25621"],"1Y":["1822","25622","25623","25624"],"2Y":["1288","25618"]},n=(c="default")=>{var f;const d=((f=Object.entries(r).find(([,h])=>h.includes(c)))==null?void 0:f[0])??"default";return{"3M":"Total of last 3 months spend","6M":"Total of last 6 months spend","1Y":"Total of last 1 year spend","2Y":"Total of last 2 years spend",default:"Total spend"}[d]};var i=ke(),o=de(i);{var s=c=>{var d=zF();const u=Ne(()=>{var h,p;return(p=(h=e.data)==null?void 0:h.cardData)==null?void 0:p.currentSiteSpendDetails}),f=Ne(()=>{var h,p;return(p=(h=e.data)==null?void 0:h.cardData)==null?void 0:p.pos});St(d,21,()=>a(u),zt,(h,p,m)=>{var y=NF();const _=Ne(()=>a(p).currency),S=Ne(()=>a(_)==="â‚¹"?"en-IN":a(_)==="â‚º "||a(_)==="TL"?"tr-TR":"en-US");var w=v(y),C=v(w),L=v(C),k=x(C,2),P=v(k),z=v(P),T=x(k,2),M=v(T),D=v(M),A=x(w,2),O=v(A),I=v(O);ae((B,j,V)=>{var F,N;pe(L,"src",((N=(F=e.spendSitesData)==null?void 0:F[a(f)])==null?void 0:N.website_image)||""),Y(z,`${B??""} from ${j??""} order`),Y(D,`${a(p).currency??""}${V??""}`),Y(I,`Account: ${(a(p).email||a(p).phone||`Account ${m+1}`)??""}`)},[()=>n(String(a(f))),()=>kn(a(p).totOrder,{locale:a(S),max:0}),()=>kn(a(p).totSpent,{locale:a(S),max:0})]),b(h,y)}),b(c,d)},l=c=>{var d=ke(),u=de(d);{var f=p=>{var m=BF();const y=Ne(()=>{var S;return((S=e.data)==null?void 0:S.cardData)||{}});var _=x(v(m),2);St(_,21,()=>Object.entries(a(y)),zt,(S,w)=>{let C=()=>a(w)[0],L=()=>a(w)[1];var k=ke(),P=de(k);{var z=T=>{fF(T,{get storeData(){return e.spendSitesData[C()]},get monthlySpend(){return L()}})};W(P,T=>{Object.keys(e.spendSitesData).includes(C())&&T(z)})}b(S,k)}),b(p,m)},h=p=>{var m=ke(),y=de(m);{var _=w=>{var C=ke();const L=Ne(()=>{var M,D;return(D=(M=e.data)==null?void 0:M.cardData)==null?void 0:D.thisMonthSpend}),k=Ne(()=>{var M,D;return(D=(M=e.data)==null?void 0:M.cardData)==null?void 0:D.lastMonthSpend});var P=de(C);{var z=M=>{var D=UF(),A=v(D),O=v(A),I=x(A,2),B=v(I);{var j=N=>{var q=jF(),G=x(v(q),2);const Q=Ne(()=>{var Z;return(Z=a(L))==null?void 0:Z.topSpends});gd(G,{get spends(){return a(Q)}}),b(N,q)};W(B,N=>{var q,G;((G=(q=a(L))==null?void 0:q.topSpends)==null?void 0:G.length)>0&&N(j)})}var V=x(B,2);{var F=N=>{var q=FF(),G=x(v(q),2);const Q=Ne(()=>{var Z;return(Z=a(k))==null?void 0:Z.topSpends});gd(G,{get spends(){return a(Q)}}),b(N,q)};W(V,N=>{var q,G;((G=(q=a(k))==null?void 0:q.topSpends)==null?void 0:G.length)>0&&N(F)})}ae(N=>{var q,G;return Y(O,`You have spend ${N??""} more
				${((((q=a(L))==null?void 0:q.totalMonthSpend)||0)-(((G=a(k))==null?void 0:G.totalMonthSpend)||0)>0?"this month compared to last month.":"last month compared to this month.")??""}`)},[()=>{var N,q;return kn(Math.abs((((N=a(L))==null?void 0:N.totalMonthSpend)||0)-(((q=a(k))==null?void 0:q.totalMonthSpend)||0)),{max:0})}]),b(M,D)},T=M=>{var D=VF();b(M,D)};W(P,M=>{var D,A,O,I;((A=(D=a(L))==null?void 0:D.topSpends)==null?void 0:A.length)>0||((I=(O=a(k))==null?void 0:O.topSpends)==null?void 0:I.length)>0?M(z):M(T,!1)})}b(w,C)},S=w=>{var C=ke(),L=de(C);{var k=z=>{var T=qF();const M=Ne(()=>{var I;return(I=e.data)==null?void 0:I.cardData});var D=v(T);{var A=I=>{var B=WF(),j=x(v(B),2);gd(j,{get spends(){return a(M)}}),b(I,B)},O=I=>{var B=HF();b(I,B)};W(D,I=>{a(M).length>0?I(A):I(O,!1)})}Rt(1,T,()=>jr,()=>({duration:300,axis:"y"})),Rt(2,T,()=>jr,()=>({duration:300,axis:"y"})),b(z,T)},P=z=>{var T=ke(),M=de(T);{var D=O=>{var I=YF();const B=Ne(()=>{var N,q;return((q=(N=e.data)==null?void 0:N.cardData)==null?void 0:q.topSpends)??[]});var j=v(I);{var V=N=>{var q=GF(),G=x(v(q),2);gd(G,{get spends(){return a(B)}}),b(N,q)},F=N=>{var q=$F();b(N,q)};W(j,N=>{a(B).length>0?N(V):N(F,!1)})}Rt(1,I,()=>jr,()=>({duration:300,axis:"y"})),Rt(2,I,()=>jr,()=>({duration:300,axis:"y"})),b(O,I)},A=O=>{};W(M,O=>{var I;((I=e.data)==null?void 0:I.type)==="spendMonthlySummary"?O(D):O(A,!1)},!0)}b(z,T)};W(L,z=>{var T;((T=e.data)==null?void 0:T.type)==="spendTopResult"?z(k):z(P,!1)},!0)}b(w,C)};W(y,w=>{var C;((C=e.data)==null?void 0:C.type)==="spendCompareResult"?w(_):w(S,!1)},!0)}b(p,m)};W(u,p=>{var m;((m=e.data)==null?void 0:m.type)==="spendResultAll"?p(f):p(h,!1)},!0)}b(c,d)};W(o,c=>{var d;((d=e.data)==null?void 0:d.type)==="spendResult"?c(s):c(l,!1)})}b(t,i),Ke()}var XF=()=>_o(4),KF=H('<a target="_blank" class="block group"><div class="flex items-center gap-3 p-1 rounded-lg border border-gray-100 hover:border-indigo-200 hover:bg-indigo-50/30 transition-all duration-200"><div class="relative flex-shrink-0"><div class="w-12 h-12 rounded-lg overflow-hidden bg-gray-50"><!></div> <img class="rounded-full border border-gray-100 absolute -top-1 -right-1" height="16" width="16"></div> <div class="flex-1 min-w-0"><div class="flex items-start justify-between gap-2"><div class="flex-1 min-w-0"><div class="text-xs font-medium text-gray-900 line-clamp-2 leading-tight mb-1"><!></div> <div class="text-xs text-gray-500 capitalize"> </div></div> <div class="flex-shrink-0 text-right"><!></div></div></div> <div class="flex-shrink-0 text-gray-400 group-hover:text-indigo-500 transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div></div></a>'),QF=H('<div class="p-3 bg-gray-50 mt-2 rounded-lg"><div class="text-xs text-gray-600 text-center">Click any product to view details and compare prices</div></div>'),JF=H('<div><div><div class="text-xs font-medium text-gray-700 mt-2">Starting from <span class="text-emerald-600 font-bold"> </span></div></div> <div class="grid gap-1 space-y-2 mt-2"></div> <!></div>');function ZF(t,e){Xe(e,!0);const r="â‚¹",n="en-IN";let o=(m=>m?Math.min(...m.map(y=>y.price)):0)(e.data.cardData);var s=JF(),l=v(s),c=v(l),d=x(v(c)),u=v(d),f=x(l,2);St(f,21,()=>e.data.cardData,zt,(m,y)=>{var _=KF();const S=Ne(()=>{var N;return(N=Da)==null?void 0:N[a(y).pos]}),w=Ne(()=>{var N,q;return((q=(N=a(S))==null?void 0:N.currency)==null?void 0:q[0])??r}),C=Ne(()=>{var N;return((N=a(S))==null?void 0:N.countryCode)??n});_.__click=[XF];var L=v(_),k=v(L),P=v(k),z=v(P);Mc(z,{get imageUrl(){return a(y).imageUrl},get productName(){return a(y).prod},className:"w-full h-full object-cover"});var T=x(P,2),M=x(k,2),D=v(M),A=v(D),O=v(A),I=v(O);bo(I,{get productName(){return a(y).prod},lines:2});var B=x(O,2),j=v(B),V=x(A,2),F=v(V);rl(F,{get currencySymbol(){return a(w)},get locale(){return a(C)},get price(){return a(y).price},get currentPrice(){return e.data.currentPrice},priceBoxClass:"h-3 w-3",priceIconClass:"h-3 w-3",priceTextClass:"text-sm font-bold text-gray-900",lastPriceTextClass:"text-xs text-gray-500",hidePercentage:!0}),ae(()=>{pe(_,"href",a(y).prodUrl),pe(T,"src",a(y).site_logo),pe(T,"alt",a(y).site_name),Y(j,a(y).site_name)}),b(m,_)});var h=x(f,2);{var p=m=>{var y=QF();b(m,y)};W(h,m=>{var y,_;((_=(y=e.data)==null?void 0:y.cardData)==null?void 0:_.length)>0&&m(p)})}ae(m=>Y(u,`${r}${m??""}`),[()=>o.toLocaleString()]),b(t,s),Ke()}Tt(["click"]);var eU=H('<img alt="price up">'),tU=H('<img alt="price down">'),rU=H('<div class="flex items-center gap-0.5"><!> <!></div>'),nU=H('<div class="w-full h-[1px] bg-slate-200 my-2"></div>'),aU=H('<div class="flex flex-col gap-3 rounded-lg"><div class="flex items-center gap-3"><div class="shrink-0 rounded-lg"><!></div> <div class="flex flex-col gap-2 w-full"><div class="flex items-center justify-between w-full"><div><!></div> <div class="flex justify-end"><a class="border rounded-full border-slate-600 text-slate-600 text-sm font-medium px-4 py-1" target="_blank"> </a></div></div> <div class="text-xs font-medium text-slate-900"><!></div></div></div> <div class=" flex gap-1 flex-grow w-full"><div class="flex w-full gap-1"><div class="flex flex-col flex-1 gap-1 text-xs text-slate-500 bg-slate-100 rounded p-2"><p> </p> <span class="flex items-center gap-1"><!> <!></span></div> <div class="flex flex-col flex-1 gap-1 text-xs text-slate-500 rounded p-2"><p> </p> <div class="flex gap-2"><!> <!></div></div></div></div></div> <!>',1),iU=H('<div class="flex flex-col gap-4 py-2"><div><p class="text-sm font-medium text-slate-950">Your set price alert are here</p></div> <!></div>');function oU(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(tr,"$LL",r),o=chrome.runtime.getURL(op),s=chrome.runtime.getURL(ip),l=u=>{var f;try{return((f=Da[u])==null?void 0:f.countryCode)??"en-US"}catch{return"en-US"}};var c=iU(),d=x(v(c),2);St(d,17,()=>e.cardData,zt,(u,f,h)=>{var p=aU();const m=Ne(()=>Number(a(f).cur_price??0)-Number(a(f).price_added??0));var y=de(p),_=v(y),S=v(_),w=v(S);const C=Ne(()=>{var re;return(re=a(f))==null?void 0:re.image});Mc(w,{get imageUrl(){return a(C)},get productName(){return a(f).prod},className:"h-16 w-16 rounded-lg border  text-slate-600"});var L=x(S,2),k=v(L),P=v(k),z=v(P);as(z,{get siteLogo(){return a(f).logo},get siteName(){return a(f).site_name}});var T=x(P,2),M=v(T),D=v(M),A=x(k,2),O=v(A);bo(O,{get productName(){return a(f).prod},lines:2});var I=x(_,2),B=v(I),j=v(B),V=v(j),F=v(V),N=x(V,2),q=v(N);up(q,{});var G=x(q,2);const Q=Ne(()=>l(a(f).position)),Z=Ne(()=>a(f).price_added||a(f).cur_price);Sn(G,{get currencySymbol(){return a(f).currency},get locale(){return a(Q)},get price(){return a(Z)},className:"text-slate-950 text-sm font-bold"});var E=x(j,2),U=v(E),$=v(U),ee=x(U,2),se=v(ee);const oe=Ne(()=>l(a(f).position));Sn(se,{get currencySymbol(){return a(f).currency},get locale(){return a(oe)},get price(){return a(f).cur_price},className:"text-slate-950 text-sm font-bold"});var K=x(se,2);{var J=re=>{var fe=rU(),ue=v(fe);{var xe=ve=>{var Se=eU();pe(Se,"src",o),b(ve,Se)},we=ve=>{var Se=ke(),Ee=de(Se);{var Be=Ae=>{var Ce=tU();pe(Ce,"src",s),b(Ae,Ce)};W(Ee,Ae=>{a(m)<0&&Ae(Be)},!0)}b(ve,Se)};W(ue,ve=>{a(m)>0?ve(xe):ve(we,!1)})}var me=x(ue,2);const ce=Ne(()=>l(a(f).position)),ye=Ne(()=>Math.abs(a(m))||0),be=Ne(()=>`text-xs font-bold ${a(m)<0?"text-green-500":"text-red-500"}`);Sn(me,{get currencySymbol(){return a(f).currency},get locale(){return a(ce)},get price(){return a(ye)},get className(){return a(be)}}),b(re,fe)};W(K,re=>{a(m)!==0&&re(J)})}var te=x(y,2);{var X=re=>{var fe=nU();b(re,fe)};W(te,re=>{h<e.cardData.length-1&&re(X)})}ae((re,fe,ue)=>{pe(M,"href",a(f).link),Y(D,re),Y(F,fe),qe(E,"bg-red-50",a(m)>0),qe(E,"bg-green-50",a(m)<0),Y($,ue)},[()=>i()("common.buyNow"),()=>i()("priceHistory.priceAlertComponent.priceSetOn"),()=>i()("priceHistory.priceAlertComponent.currentPrice")]),b(u,p)}),b(t,c),Ke(),n()}var sU=(t,e)=>{e()},lU=H('<div class="px-2 md:px-4 py-1 md:pr-7 rounded-full border-2 border-green-600 text-green-600 bg-green-50 flex gap-2 items-center w-fit mt-2 text-sm font-medium whitespace-nowrap"><span class="w-6 h-6"><!></span> Epic Hatke Steal ðŸš€</div>'),cU=H('<div class="px-2 md:px-4 py-1 md:pr-7 rounded-full border-2 border-green-400 text-green-400 bg-green-50 flex gap-2 items-center w-fit mt-2 text-sm font-medium whitespace-nowrap"><span class="w-6 h-6"><!></span> Hot Hatke Deal ðŸ”¥</div>'),dU=H('<div class="px-2 md:px-4 py-1 md:pr-7 rounded-full border-2 border-lime-400 text-lime-400 bg-lime-50 flex gap-2 items-center w-fit mt-2 text-sm font-medium whitespace-nowrap"><span class="w-6 h-6"><!></span> Decent Catch ðŸŽ£</div>'),uU=H('<div class="px-2 md:px-4 py-1 md:pr-7 rounded-full border-2 border-amber-500 text-amber-500 bg-amber-50 flex gap-2 items-center w-fit mt-2 text-sm font-medium whitespace-nowrap"><span class="w-6 h-6"><!></span> Deal Mirage ðŸŒµ</div>'),fU=H('<div class="px-2 md:px-4 py-1 md:pr-7 rounded-full border-2 border-red-500 text-red-500 bg-red-50 flex gap-2 items-center w-fit mt-2 text-sm font-medium whitespace-nowrap"><span class="w-6 h-6"><!></span> Skip It ðŸš«</div>'),vU=H('<div class="border-r h-16 my-auto border-slate-100"></div>'),hU=H(`<div><div class="bg-primary-50 flex gap-2 justify-between py-2 px-4 rounded-t-lg"><h4 class="text-base font-medium text-surface-950">Deal Scanner</h4> <button class="text-primary-600 hover:text-primary-800 focus:text-primary-800 text-xs font-medium flex gap-1 items-center rounded-t">View Detail</button></div> <div class="px-4 py-4"><div><div><!> <!> <div><!> <div class="flex justify-end mt-4"><div class="flex gap-1 items-center mx-auto text-sm text-surface-950 font-light">Deal Score<span class="font-bold"> </span> <div class="group relative"><span class="hidden group-hover:block border rounded-lg bg-white text-surface-600 p-2 text-[10px] absolute -right-2 bottom-6 w-[141px] font-medium shadow-lg">We analyse past prices and patterns to tell you if it's truly a
									smart deal.</span> <span class="text-xs font-bold text-surface-950 flex gap-1"><img alt="info" width="10px" height="10px"></span></div></div></div></div></div></div> <div><img alt="chart icon" class="w-6 h-6"> <div><h6 class="text-base font-semibold text-slate-950"> </h6></div></div></div></div>`);function pU(t,e){Xe(e,!0);let r=R(e,"dealsData",19,()=>({})),n=R(e,"wrapperClass",3,"border rounded-lg w-full sm:w-1/2"),i=R(e,"type",3,1),{price:o=0,thunderObj:s={}}=r(),l=le(""),c=le(""),d=le(""),u=le("bg-orange-100"),f=Ne(()=>Jy(o,s));const h=()=>{var E;((E=a(f))==null?void 0:E.total[1])<=50?o<s.avg?o>(s==null?void 0:s.min6)?(g(l,ne(so)),g(c,"Higher than 6 mon min"),g(u,"bg-orange-100"),g(d,"Price is higher than the 6 month min")):o>(s==null?void 0:s.min)?(g(l,ne(so)),g(c,"Above Min Low"),g(u,"bg-orange-100"),g(d,"Price is above the all-time minimum")):(g(l,ne(Ps)),g(c,"No change in price"),g(u,"bg-orange-100"),g(d,"There is not significant change in price")):s.avgbbd&&o==s.avgbbd?(g(l,ne(Ps)),g(c,"Price Same as Last Sale"),g(u,"bg-orange-50"),g(d,"Current price is same as last sale")):s.avgbbd&&o>s.avgbbd?(g(l,ne(so)),g(c,"Higher than Last Sale"),g(u,"bg-orange-50"),g(d,"Was cheaper during the previous sale")):s.avg1mon&&o>s.avg1mon?(g(l,ne(so)),g(c,"Seller Price Pump detected"),g(u,"bg-orange-50"),g(d,"Price spiked before sale")):s.avg1mon&&o<=1.01*s.avg1mon?(g(l,ne(Ps)),g(c,"No change in price"),g(u,"bg-orange-50"),g(d,"Price same as always")):(g(l,ne(Zy)),g(c,"More Than Average Price"),g(u,"bg-red-50"),g(d,"Current price is above average. Not a good time to buy!")):o<s.avg?o<=s.min?(g(l,ne(e_)),s!=null&&s.pnt&&(s==null?void 0:s.pnt)<60?g(c,"Lowest Since Launch"):g(c,"Lowest Price Ever"),g(d,"Best price weâ€™ve ever recorded for this product"),g(u,"bg-green-100")):s.min6&&o<=s.min6?(g(l,ne(zd)),g(c,"Lowest in 6 Months"),g(u,"bg-green-50"),g(d,"Lowest seen in the last 180 days. Great time to buy!")):s.avgbbd&&o<s.avgbbd?(g(l,ne(Bd)),g(c,"Better Than Last Sale"),g(u,"bg-green-50"),g(d,"Better than the last big sale price")):(g(l,ne(Bd)),g(c,"Less Than Average Price"),g(u,"bg-green-50"),g(d,"Lower than the average price. Good time to buy!")):(g(l,ne(zd)),g(c,"More than Average "),g(u,"bg-orange-100"))},p=()=>{var U,$,ee,se,oe,K,J,te,X,re,fe;const E={pid:r().pid??"",prod:((ee=($=(U=r())==null?void 0:U.thunderObj)==null?void 0:$.productData)==null?void 0:ee.prod)??"",image:((K=(oe=(se=r())==null?void 0:se.thunderObj)==null?void 0:oe.productData)==null?void 0:K.image)??"",price:o,prodUrl:((X=(te=(J=r())==null?void 0:J.thunderObj)==null?void 0:te.productData)==null?void 0:X.prodUrl)??"",currency:((fe=(re=r())==null?void 0:re.thunderConfig)==null?void 0:fe.currency)||"â‚¹",stats:{avg:(s==null?void 0:s.avg)??0,avg1mon:(s==null?void 0:s.avg1mon)??0,avgbbd:(s==null?void 0:s.avgbbd)??0,min:(s==null?void 0:s.min)??0,min6:(s==null?void 0:s.min6)??0,pnt:(s==null?void 0:s.pnt)??0}};T3(E)};Zt(()=>{h()});var m=hU(),y=v(m),_=x(v(y),2);_.__click=[sU,p];var S=x(y,2),w=v(S),C=v(w),L=v(C);{var k=E=>{var U=lU(),$=v(U),ee=v($);Xt(ee,()=>Os),b(E,U)},P=E=>{var U=ke(),$=de(U);{var ee=oe=>{var K=cU(),J=v(K),te=v(J);Xt(te,()=>Os),b(oe,K)},se=oe=>{var K=ke(),J=de(K);{var te=re=>{var fe=dU(),ue=v(fe),xe=v(ue);Xt(xe,()=>Os),b(re,fe)},X=re=>{var fe=ke(),ue=de(fe);{var xe=me=>{var ce=uU(),ye=v(ce),be=v(ye);Xt(be,()=>Eu),b(me,ce)},we=me=>{var ce=fU(),ye=v(ce),be=v(ye);Xt(be,()=>Eu),b(me,ce)};W(ue,me=>{a(f).total[1]>20?me(xe):me(we,!1)},!0)}b(re,fe)};W(J,re=>{a(f).total[1]>50?re(te):re(X,!1)},!0)}b(oe,K)};W($,oe=>{a(f).total[1]>70?oe(ee):oe(se,!1)},!0)}b(E,U)};W(L,E=>{a(f).total[1]>85?E(k):E(P,!1)})}var z=x(L,2);{var T=E=>{var U=vU();b(E,U)};W(z,E=>{i()===1&&E(T)})}var M=x(z,2),D=v(M);$u(D,{get dropPercentage(){return a(f).total[1]},width:90,wrapperClass:"!p-0"});var A=x(D,2),O=v(A),I=x(v(O)),B=v(I),j=x(I,2),V=x(v(j),2),F=v(V),N=x(w,2),q=v(N),G=x(q,2),Q=v(G),Z=v(Q);ae((E,U)=>{var $;$e(m,Mr(n())),$e(C,`w-full h-full flex justify-between ${(i()===2?"flex-col-reverse items-center  gap-4":"items-start")??""}`),Y(B,($=a(f))==null?void 0:$.total[1]),pe(F,"src",E),$e(N,`py-2 px-4 text-sm font-bold text-slate-950 rounded-md mt-4 flex gap-4 items-start ${a(u)??""}`),pe(q,"src",U),Y(Z,a(c))},[()=>chrome.runtime.getURL(ss),()=>chrome.runtime.getURL(a(l))]),b(t,m),Ke()}Tt(["click"]);var gU=H('<span class="text-red-500"> </span><br> <span class="text-xs text-surface-600 font-medium"> </span>',1),mU=H('<span class="text-orange-500"> </span><br> <span class="text-xs text-surface-600"> </span>',1),xU=H('<span class="text-lime-500"> </span> <br> <span class="text-xs font-medium text-surface-600"> </span>',1),yU=H('<span class="text-lime-500"> </span><br> <span class="text-xs text-surface-600 font-medium"> </span>',1),_U=H('<span class="text-green-500"> </span><br> <span class="text-xs text-surface-600 font-medium"> </span>',1),bU=H('<span class="text-green-600"> </span><br> <span class="text-xs text-surface-600 font-medium"> </span>',1),wU=H('<div class="flex flex-col items-center gap-2 flex-1"><div><p class="text-slate-950 text-sm font-medium"> </p></div> <div class="flex flex-col gap-2 w-full"><h4 class="text-base font-bold text-surface-950"> </h4></div> <div class="bg-surface-50 p-2 w-full rounded-lg"><div class="flex flex-col gap-1"><div class="flex gap-1 items-center"><!> <div class="relative group inline-block"><!> <div class="absolute left-1/2 -translate-x-1/2 top-full mt-1 hidden group-hover:block bg-white text-surface-600 border rounded-md shadow-md w-40 p-2 z-10"><p class="text-[10px] font-medium"> </p> <ul class="text-[10px] font-medium mt-1"><li class="flex items-center gap-1"><span class="inline-block w-1 h-1 bg-surface-600 rounded-full"></span> <span class="font-bold"> </span> </li> <li class="flex items-center gap-1"><span class="inline-block w-1 h-1 bg-surface-600 rounded-full"></span><span class="font-bold"> </span> </li> <li class="flex items-center gap-1"><span class="inline-block w-1 h-1 bg-surface-600 rounded-full"></span> <span class="font-bold"> </span> </li></ul></div></div></div> <div class="flex"><p class="text-[10px] text-surface-600 font-medium"> </p></div></div> <div role="button" tabindex="0" class="flex gap-2"><div class="flex flex-col gap-2"><!> <div class="mx-auto"><p class="text-[10px] font-medium text-surface-600 flex gap-2 items-center"><span class="inline-block w-2 h-2 bg-red-500"></span> <span class="inline-block w-2 h-2 bg-green-500"></span> </p></div></div> <div class="flex flex-col justify-center"><p class="text-sm font-medium text-surface-600"> </p> <p class="text-sm sm:text-base font-bold mt-2"><!></p></div></div></div></div>');function kU(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(tr,"$LL",r);let o=R(e,"headerText",3,""),s=R(e,"width",3,114),l=R(e,"dropPercentage",19,()=>({days:0,weeks:0,months:0})),c=le(ne(l().days)),d=le(""),u=[i()("common.2-3DAYS"),i()("common.1WEEK"),i()("common.1MONTH")];const f=ve=>{g(d,ne(ve)),ve==="2-3 Days"||ve==="2D"?g(c,ne(l().days)):ve==="1 Week"?g(c,ne(l().weeks)):ve==="1 Month"&&g(c,ne(l().months))};var h=wU(),p=v(h),m=v(p),y=v(m),_=x(p,2),S=v(_),w=v(S),C=x(_,2),L=v(C),k=v(L),P=v(k);qu(P,{list:u,onSelectRange:f,widthClass:"w-fit",tabClass:"w-fit px-2 py-0.5",textSize:"text-xs font-medium text-nowrap whitespace-nowrap"});var z=x(P,2),T=v(z);Ur(T,{src:ss,alt:"info icon",cls:"w-3 h-3"});var M=x(T,2),D=v(M),A=v(D),O=x(D,2),I=v(O),B=x(v(I),2),j=v(B),V=x(B),F=x(I,2),N=x(v(F)),q=v(N),G=x(N),Q=x(F,2),Z=x(v(Q),2),E=v(Z),U=x(Z),$=x(k,2),ee=v($),se=v(ee),oe=x(L,2),K=v(oe),J=v(K);$u(J,{get dropPercentage(){return a(c)},get width(){return s()}});var te=x(J,2),X=v(te),re=x(v(X)),fe=x(re,2),ue=x(K,2),xe=v(ue),we=v(xe),me=x(xe,2),ce=v(me);{var ye=ve=>{var Se=gU(),Ee=de(Se),Be=v(Ee),Ae=x(Ee,3),Ce=v(Ae);ae((_e,ge)=>{Y(Be,_e),Y(Ce,ge)},[()=>i()("priceHistory.priceDropComponent.holdOff"),()=>i()("priceHistory.priceDropComponent.strongDropExpected")]),b(ve,Se)},be=ve=>{var Se=ke(),Ee=de(Se);{var Be=Ce=>{var _e=mU(),ge=de(_e),Oe=v(ge),Le=x(ge,3),Re=v(Le);ae((Me,Te)=>{Y(Oe,Me),Y(Re,Te)},[()=>i()("priceHistory.priceDropComponent.waitForSavings"),()=>i()("priceHistory.priceAlertComponent.setPriceAlert")]),b(Ce,_e)},Ae=Ce=>{var _e=ke(),ge=de(_e);{var Oe=Re=>{var Me=ke(),Te=de(Me);{var ze=Ye=>{var Je=xU(),et=de(Je),Ze=v(et),Ge=x(et,4),Pe=v(Ge);ae((We,He)=>{Y(Ze,We),Y(Pe,He)},[()=>i()("priceHistory.priceDropComponent.fairValue"),()=>i()("priceHistory.priceDropComponent.acceptableToPurchaseNow")]),b(Ye,Je)},Fe=Ye=>{var Je=yU(),et=de(Je),Ze=v(et),Ge=x(et,3),Pe=v(Ge);ae((We,He)=>{Y(Ze,We),Y(Pe,He)},[()=>i()("priceHistory.priceDropComponent.waitForBetterValue"),()=>i()("priceHistory.priceDropComponent.lowRiskOfPriceHike")]),b(Ye,Je)};W(Te,Ye=>{a(d)==="2-3 Days"||a(d)==="2D"?Ye(ze):Ye(Fe,!1)})}b(Re,Me)},Le=Re=>{var Me=ke(),Te=de(Me);{var ze=Ye=>{var Je=_U(),et=de(Je),Ze=v(et),Ge=x(et,3),Pe=v(Ge);ae((We,He)=>{Y(Ze,We),Y(Pe,He)},[()=>i()("priceHistory.priceDropComponent.itsgoodTime"),()=>i()("priceHistory.priceDropComponent.priceIsStable")]),b(Ye,Je)},Fe=Ye=>{var Je=bU(),et=de(Je),Ze=v(et),Ge=x(et,3),Pe=v(Ge);ae((We,He)=>{Y(Ze,We),Y(Pe,He)},[()=>i()("common.buyNow"),()=>i()("priceHistory.priceDropComponent.OptimalPricePoint")]),b(Ye,Je)};W(Te,Ye=>{a(c)<=80?Ye(ze):Ye(Fe,!1)},!0)}b(Re,Me)};W(ge,Re=>{a(c)<=60?Re(Oe):Re(Le,!1)},!0)}b(Ce,_e)};W(Ee,Ce=>{a(c)<=40?Ce(Be):Ce(Ae,!1)},!0)}b(ve,Se)};W(ce,ve=>{a(c)<=20?ve(ye):ve(be,!1)})}ae((ve,Se,Ee,Be,Ae,Ce,_e,ge,Oe,Le,Re,Me)=>{Y(y,o()),Y(w,ve),Y(A,Se),Y(j,Ee),Y(V,`: ${Be??""}`),Y(q,Ae),Y(G,`: ${Ce??""}`),Y(E,_e),Y(U,`:
								${ge??""}`),Y(se,Oe),Y(re,` ${Le??""} `),Y(fe,` ${Re??""}`),Y(we,Me)},[()=>i()("priceHistory.priceDropComponent.shouldYouBuyNow"),()=>i()("priceHistory.priceDropComponent.wePredictBasedOnUrgency"),()=>i()("common.2-3DAYS"),()=>i()("priceHistory.priceDropComponent.needItFast"),()=>i()("common.1WEEK"),()=>i()("priceHistory.priceDropComponent.needItSoon"),()=>i()("common.1MONTH"),()=>i()("priceHistory.priceDropComponent.willingToWait"),()=>i()("priceHistory.priceDropComponent.selectBasedOnYourNeed"),()=>i()("common.badTime"),()=>i()("common.goodTime"),()=>i()("priceHistory.priceDropComponent.ourRecommendation")]),b(t,h),Ke(),n()}var SU=H('<th class="px-2 py-2 text-left font-medium border-b border-slate-300 whitespace-nowrap"> </th>'),CU=H('<td class="px-2 py-2 border-b border-slate-200 align-top text-xs"> </td>'),AU=H('<tr class="odd:bg-white even:bg-slate-50"><td class="px-2 py-2 font-medium border-b border-slate-200 w-[100px] whitespace-nowrap"> </td><!></tr>'),MU=H('<div class="mt-3 border border-slate-200 rounded-md bg-slate-50 p-3"><p class="font-bold mb-1 text-sm">Conclusion:</p> <p class="leading-snug font-medium text-xs text-slate-600"> </p></div>'),PU=H('<div class=" text-surface-600 overflow-hidden"><h2 class="font-medium text-xs mb-3"> </h2> <div class="overflow-x-auto scroll-hide"><table class="min-w-full text-sm"><thead><tr class="bg-slate-100 text-xs uppercase tracking-wide"></tr></thead><tbody></tbody></table></div> <!></div>');function DU(t,e){Xe(e,!0);let r=R(e,"data",19,()=>({})),n=le(ne({headers:[],rows:[]})),i=le("");const o=L=>typeof L!="string"?L:new DOMParser().parseFromString(L,"text/html").body.textContent??L,s=L=>{const{headers:k=[],rows:P=[]}=L??{};return{headers:k.map(o),rows:P.map(z=>{const T={};return Object.entries(z).forEach(([M,D])=>{T[M]=o(D)}),T})}},l=Ne(()=>{var L,k;return((k=(L=a(n))==null?void 0:L.headers)==null?void 0:k.slice(1))??[]}),c=Ne(()=>a(l).length>1?`${a(l).slice(0,-1).join(", ")} & ${a(l).at(-1)}`:a(l)[0]??""),d=L=>o(L??"");Zt(()=>{var k,P;const L=s((k=r())==null?void 0:k.table);g(n,ne({headers:L.headers,rows:L.rows})),g(i,ne(d((P=r())==null?void 0:P.conclusion)))});var u=PU(),f=v(u),h=v(f),p=x(f,2),m=v(p),y=v(m),_=v(y);St(_,21,()=>a(n).headers,zt,(L,k)=>{var P=SU(),z=v(P);ae(()=>Y(z,a(k))),b(L,P)});var S=x(y);St(S,21,()=>a(n).rows,zt,(L,k)=>{var P=AU(),z=v(P),T=v(z),M=x(z);St(M,17,()=>Object.keys(a(k)).filter(D=>D!=="feature"),zt,(D,A)=>{var O=CU(),I=v(O);ae(()=>Y(I,a(k)[a(A)])),b(D,O)}),ae(()=>Y(T,a(k).feature)),b(L,P)});var w=x(p,2);{var C=L=>{var k=MU(),P=x(v(k),2),z=v(P);ae(()=>Y(z,a(i))),b(L,k)};W(w,L=>{a(i)&&L(C)})}ae(()=>Y(h,`Here's a detailed comparison between ${a(c)??""}`)),b(t,u),Ke()}var LU=H('<button class="text-slate-500 hover:text-slate-700 font-semibold"><img alt="close modal" class="w-6 h-6 p-1 bg-slate-100 rounded-full"></button>'),EU=H('<img alt="arrow-down">'),IU=H('<div class="flex flex-col gap-1 border border-slate-200 rounded-md py-1 px-2 bg-white shadow-sm"><p class="text-xs font-medium text-slate-900"> </p> <div class="flex justify-between items-center"><span class="text-[10px] text-slate-600">Price:</span> <!></div></div>'),TU=H('<div class="flex-1 flex-shrink-0 flex items-center justify-between gap-1 p-2 bg-yellow-50 rounded border border-yellow-500"><div class="flex items-center gap-2"><!> <span class="text-xs text-surface-500 font-medium"> </span> <div class="relative group"><!> <div class="hidden group-hover:flex absolute top-4 left-0 p-2 border shadow-sm bg-surface-50 z-[999999] rounded text-[10px] w-40 whitespace-normal break-words text-surface-500 font-medium"> </div></div></div> <span class="text-sm font-medium text-surface-950"><!></span></div>'),OU=H('<div><div class="flex flex-col gap-2"><div class="flex items-center justify-between"><p class="text-base font-bold text-slate-950"> </p> <!></div> <div class="flex items-center gap-2"><!> <p class="text-sm font-medium text-slate-950"> </p></div></div> <div class="mt-2 h-[200px] px-2 modal-chart-container"><!></div> <div class="space-y-2 mt-2"><p class="text-base font-bold text-surface-950">Price Stats</p> <div class="flex flex-col justify-between gap-2 mt-2"><div class="flex items-center justify-between p-2 gap-2 border rounded-lg"><div class="flex items-center gap-2"><img alt="highPrice"> <span class="text-xs text-surface-500 font-medium"> </span></div> <span class="text-sm font-medium text-surface-950"><!></span></div> <div class="flex items-center justify-between p-2 gap-2 border rounded-lg"><div class="flex items-center gap-2"><img alt="averagePrice"> <span class="text-xs text-surface-500 font-medium"> </span></div> <span class="text-sm font-medium text-surface-950"><!></span></div> <div class="flex items-center justify-between p-2 gap-2 border rounded-lg"><div class="flex items-center gap-2"><img alt="lowPrice"> <span class="text-xs text-surface-500 font-medium"> </span></div> <span class="text-sm font-medium text-surface-950"><!></span></div> <!></div></div></div>'),RU=H('<p class="text-xs font-medium text-surface-600">No graph data found for this product.</p>');function cy(t,e){var k,P,z,T,M;Xe(e,!0);const[r,n]=ct(),i=()=>ie(tr,"$LL",r);let o=R(e,"productPrice",3,0),s=R(e,"closePriceGraphModal",3,null),l=R(e,"wrapperClass",3,"bg-white w-full p-2 rounded-lg relative"),c=le(""),d=le("#EF4444"),u=le(""),f=le(0),h=le(ne(e.priceGraphData.map(D=>({x:new Date(D.x),y:D.y})))),p=le(ne({min:0,max:0,avg:0}));const m=Fu(e.priceGraphData,String(e.pos)),y=((z=(P=(k=Da)==null?void 0:k[e.pos])==null?void 0:P.currency)==null?void 0:z[0])??"â‚¹",_=((M=(T=Da)==null?void 0:T[e.pos])==null?void 0:M.countryCode)??"en-IN";Zt(()=>{const D=rc(e.priceGraphData,"3M");g(h,ne(D.map(N=>({x:new Date(N.x),y:N.y}))));let{minPrice:A,maxPrice:O,avgPrice:I}=ju(D);g(p,ne({min:A,max:O,avg:I}));const{graph_color:B,icon:j,transKey:V,percentageDiff:F}=Ns(a(p).min,a(p).max,a(p).avg,o(),!0);g(c,ne(V)),g(d,ne(B)),g(u,ne(j)),g(f,ne(F))});var S=ke(),w=de(S);{var C=D=>{var A=OU(),O=v(A),I=v(O),B=v(I),j=v(B),V=x(B,2);{var F=Re=>{var Me=LU();Me.__click=function(...ze){var Fe;(Fe=s())==null||Fe.apply(this,ze)};var Te=v(Me);ae(ze=>pe(Te,"src",ze),[()=>chrome.runtime.getURL(Hi)]),b(Re,Me)};W(V,Re=>{typeof s()=="function"&&Re(F)})}var N=x(I,2),q=v(N);{var G=Re=>{var Me=EU();pe(Me,"width",20),pe(Me,"height",20),ae(Te=>pe(Me,"src",Te),[()=>chrome.runtime.getURL(a(u))]),b(Re,Me)};W(q,Re=>{a(u)&&Re(G)})}var Q=x(q,2),Z=v(Q),E=x(O,2),U=v(E);const $=Ne(()=>[{key:"Price",value:"y",color:a(d)}]),ee=Ne(()=>({fill:a(d),stroke:a(d),strokeWidth:1,r:1,class:"chart-point"}));fw(U,{get data(){return a(h)},height:200,x:"x",y:"y",yNice:!0,yPadding:[0,10],padding:{top:10,bottom:25,left:10,right:35},get series(){return a($)},get points(){return a(ee)},props:{xAxis:{rule:!0,ticks:5,class:"text-slate-600 text-[10px]",format:Re=>Re.toLocaleString("default",{day:"numeric",month:"short"})},yAxis:{rule:!0,ticks:5,class:"text-slate-600 text-[10px]",format:Re=>typeof Re!="number"?"":`${y}${kn(Re,{locale:_,notation:"compact",min:0,max:2})}`,placement:"right"}},$$slots:{tooltip:(Re,Me)=>{const Te=Ne(()=>Me.x),ze=Ne(()=>Me.y);var Fe=ke(),Ye=de(Fe);np(Ye,()=>tg,(Je,et)=>{et(Je,{y:"data",anchor:"bottom",contained:"container",children:za,$$slots:{default:(Ze,Ge)=>{const Pe=Ne(()=>Ge.data);var We=IU(),He=v(We),nt=v(He),Qe=x(He,2),rt=x(v(Qe),2);const ot=Ne(()=>a(ze)(a(Pe)));Sn(rt,{get price(){return a(ot)},currencySymbol:y,locale:_,className:"text-xs text-slate-950 font-bold"}),ae(Lt=>Y(nt,Lt),[()=>Qy(a(Te)(a(Pe)))]),b(Ze,We)}}})}),b(Re,Fe)}}});var se=x(E,2),oe=x(v(se),2),K=v(oe),J=v(K),te=v(J),X=x(te,2),re=v(X),fe=x(J,2),ue=v(fe);Sn(ue,{get price(){return a(p).max},currencySymbol:y,locale:_});var xe=x(K,2),we=v(xe),me=v(we),ce=x(me,2),ye=v(ce),be=x(we,2),ve=v(be);Sn(ve,{get price(){return a(p).avg},currencySymbol:y,locale:_});var Se=x(xe,2),Ee=v(Se),Be=v(Ee),Ae=x(Be,2),Ce=v(Ae),_e=x(Ee,2),ge=v(_e);Sn(ge,{get price(){return a(p).min},currencySymbol:y,locale:_});var Oe=x(Se,2);{var Le=Re=>{var Me=TU(),Te=v(Me),ze=v(Te);Ur(ze,{src:og,alt:"greatSalesPrice"});var Fe=x(ze,2),Ye=v(Fe),Je=x(Fe,2),et=v(Je);Ur(et,{src:ss,alt:"info",cls:"opacity-60 w-[10px] h-[10px]"});var Ze=x(et,2),Ge=v(Ze),Pe=x(Te,2),We=v(Pe);Sn(We,{price:m,currencySymbol:y,locale:_,className:"text-surface-950 text-sm font-bold"}),ae(()=>{var He,nt,Qe,rt;Y(Ye,(nt=(He=qo)==null?void 0:He[e.pos])==null?void 0:nt.title),Y(Ge,(rt=(Qe=qo)==null?void 0:Qe[e.pos])==null?void 0:rt.titleFull)}),Rt(1,Ze,()=>jr,()=>({duration:300,axis:"y"})),Rt(2,Ze,()=>jr,()=>({duration:300,axis:"y"})),b(Re,Me)};W(Oe,Re=>{m>-1&&Re(Le)})}ae((Re,Me,Te,ze,Fe,Ye,Je,et)=>{$e(A,Mr(l())),Y(j,Re),Y(Z,Me),pe(te,"src",Te),Y(re,ze),pe(me,"src",Fe),Y(ye,Ye),pe(Be,"src",Je),Y(Ce,et)},[()=>i()("priceHistory.graph.priceHistory"),()=>i()(a(c),{values:{diff:a(f)}}),()=>chrome.runtime.getURL(ig),()=>i()("priceHistory.priceDropComponent.highestPrice"),()=>chrome.runtime.getURL(ag),()=>i()("priceHistory.priceDropComponent.averagePrice"),()=>chrome.runtime.getURL(ng),()=>i()("priceHistory.priceDropComponent.lowestPrice")]),b(D,A)},L=D=>{var A=RU();b(D,A)};W(w,D=>{a(h).length?D(C):D(L,!1)})}b(t,S),Ke(),n()}Tt(["click"]);var NU=H('<div class="flex-1 flex-shrink-0 flex items-center justify-between gap-1 p-2 bg-yellow-50 rounded border border-yellow-500"><div class="flex items-center gap-2"><!> <span class="text-xs text-surface-500 font-medium"> </span> <div class="relative group"><!> <div class="hidden group-hover:flex absolute top-4 left-0 p-2 border shadow-sm bg-surface-50 z-[999999] rounded text-[10px] w-40 whitespace-normal break-words text-surface-500 font-medium"> </div></div></div> <span class="text-sm font-medium text-surface-950"><!></span></div>'),zU=H('<div class="w-full flex flex-col gap-4"><div class="space-y-2 mt-2"><p class="text-base font-bold text-surface-950">Price Stats</p> <div class="flex flex-col justify-between gap-2 mt-2"><div class="flex items-center justify-between p-2 gap-2 border rounded-lg"><div class="flex items-center gap-2"><img alt="highPrice"> <span class="text-xs text-surface-500 font-medium"> </span></div> <span class="text-sm font-medium text-surface-950"><!></span></div> <div class="flex items-center justify-between p-2 gap-2 border rounded-lg"><div class="flex items-center gap-2"><img alt="averagePrice"> <span class="text-xs text-surface-500 font-medium"> </span></div> <span class="text-sm font-medium text-surface-950"><!></span></div> <div class="flex items-center justify-between p-2 gap-2 border rounded-lg"><div class="flex items-center gap-2"><img alt="lowPrice"> <span class="text-xs text-surface-500 font-medium"> </span></div> <span class="text-sm font-medium text-surface-950"><!></span></div> <!></div></div></div>');function BU(t,e){var U,$,ee,se,oe;Xe(e,!0);const[r,n]=ct(),i=()=>ie(tr,"$LL",r);let o=R(e,"productPrice",3,0),s=le(""),l=le("#EF4444"),c=le(""),d=le(0),u=le(ne({min:0,max:0,avg:0}));const f=Fu(e.priceGraphData,String(e.pos)),h=((ee=($=(U=Da)==null?void 0:U[e.pos])==null?void 0:$.currency)==null?void 0:ee[0])??"â‚¹",p=((oe=(se=Da)==null?void 0:se[e.pos])==null?void 0:oe.countryCode)??"en-IN";Zt(()=>{const K=rc(e.priceGraphData,"3M");let{minPrice:J,maxPrice:te,avgPrice:X}=ju(K);g(u,ne({min:J,max:te,avg:X}));const{graph_color:re,icon:fe,transKey:ue,percentageDiff:xe}=Ns(a(u).min,a(u).max,a(u).avg,o(),!0);g(s,ne(ue)),g(l,ne(re)),g(c,ne(fe)),g(d,ne(xe))});var m=zU(),y=v(m),_=x(v(y),2),S=v(_),w=v(S),C=v(w),L=x(C,2),k=v(L),P=x(w,2),z=v(P);Sn(z,{get price(){return a(u).max},currencySymbol:h,locale:p});var T=x(S,2),M=v(T),D=v(M),A=x(D,2),O=v(A),I=x(M,2),B=v(I);Sn(B,{get price(){return a(u).avg},currencySymbol:h,locale:p});var j=x(T,2),V=v(j),F=v(V),N=x(F,2),q=v(N),G=x(V,2),Q=v(G);Sn(Q,{get price(){return a(u).min},currencySymbol:h,locale:p});var Z=x(j,2);{var E=K=>{var J=NU(),te=v(J),X=v(te);Ur(X,{src:og,alt:"greatSalesPrice"});var re=x(X,2),fe=v(re),ue=x(re,2),xe=v(ue);Ur(xe,{src:ss,alt:"info",cls:"opacity-60 w-[10px] h-[10px]"});var we=x(xe,2),me=v(we),ce=x(te,2),ye=v(ce);Sn(ye,{price:f,currencySymbol:h,locale:p,className:"text-surface-950 text-sm font-bold"}),ae(()=>{var be,ve,Se,Ee;Y(fe,(ve=(be=qo)==null?void 0:be[e.pos])==null?void 0:ve.title),Y(me,(Ee=(Se=qo)==null?void 0:Se[e.pos])==null?void 0:Ee.titleFull)}),Rt(1,we,()=>jr,()=>({duration:300,axis:"y"})),Rt(2,we,()=>jr,()=>({duration:300,axis:"y"})),b(K,J)};W(Z,K=>{f>-1&&K(E)})}ae((K,J,te,X,re,fe)=>{pe(C,"src",K),Y(k,J),pe(D,"src",te),Y(O,X),pe(F,"src",re),Y(q,fe)},[()=>chrome.runtime.getURL(ig),()=>i()("priceHistory.priceDropComponent.highestPrice"),()=>chrome.runtime.getURL(ag),()=>i()("priceHistory.priceDropComponent.averagePrice"),()=>chrome.runtime.getURL(ng),()=>i()("priceHistory.priceDropComponent.lowestPrice")]),b(t,m),Ke(),n()}var jU=(t,e)=>e(1),FU=(t,e)=>e(2),UU=(t,e)=>e(3),VU=H('<div class="flex flex-col gap-2"><textarea class="w-full p-2 border rounded border-slate-200 font-medium ring-0 outline-0" placeholder="Tell us what went wrong..."></textarea></div>'),WU=(t,e,r,n)=>e.handleFeedbackSubmit(e.message,a(r),a(n)),HU=H('<div class="absolute inset-0 w-full h-full bg-black bg-opacity-70 p-2 flex flex-col justify-end"><div><div class="flex flex-col gap-2"><div class="flex items-center justify-between"><p class="text-base font-bold text-slate-950">Help Us Improve</p> <button class="text-slate-500 hover:text-slate-700 font-semibold"><!></button></div> <div class="flex flex-col gap-3"><p class="text-sm text-slate-700 font-medium">How was the response?</p> <div class="flex flex-col gap-2"><button>This is Irrelevant âŒ</button> <button>This is Inaccurate âš ï¸</button> <button>âœï¸ Something else</button></div> <!> <div class="flex gap-2 pt-2"><button class="flex-1 border rounded py-2 text-center font-medium">Cancel</button> <button class="flex-1 bg-primary-600 text-white rounded py-2 disabled:opacity-60 font-medium"><!></button></div></div></div></div></div>');function qU(t,e){Xe(e,!0);let r=R(e,"wrapperClass",3,"bg-white w-full p-2 rounded-lg"),n=le(null),i=le(""),o=!1;function s(M){g(n,ne(M)),M!==3&&g(i,"")}var l=HU(),c=v(l),d=v(c),u=v(d),f=x(v(u),2);f.__click=function(...M){var D;(D=e.closeFeedbackModal)==null||D.apply(this,M)};var h=v(f);Ur(h,{src:Hi,alt:"close modal",cls:"w-6 h-6 p-1 bg-slate-100 rounded-full"});var p=x(u,2),m=x(v(p),2),y=v(m);y.__click=[jU,s];var _=x(y,2);_.__click=[FU,s];var S=x(_,2);S.__click=[UU,s];var w=x(m,2);{var C=M=>{var D=VU(),A=v(D);Ui(A,()=>a(i),O=>g(i,O)),b(M,D)};W(w,M=>{a(n)===3&&M(C)})}var L=x(w,2),k=v(L);k.__click=function(...M){var D;(D=e.closeFeedbackModal)==null||D.apply(this,M)};var P=x(k,2);P.__click=[WU,e,i,n];var z=v(P);{var T=M=>{var D=Wt("Send");b(M,D)};W(z,M=>{M(T,!1)})}ae(()=>{$e(c,Mr(r())),$e(y,`flex-1 py-2 rounded border font-medium ${a(n)===1?"border-primary-600 bg-primary-50":"border-slate-200"}`),$e(_,`flex-1 py-2 rounded border font-medium ${a(n)===2?"border-primary-600 bg-primary-50":"border-slate-200"}`),$e(S,`flex-1 py-2 rounded border font-medium ${a(n)===3?"border-primary-600 bg-primary-50":"border-slate-200"}`),P.disabled=a(n)===null||o}),b(t,l),Ke()}Tt(["click"]);var GU=H('<div class="flex flex-col gap-2"><p class="text-sm font-medium text-slate-950">No results found. Try checking another product or store.</p></div>'),$U=H('<button class="text-slate-500 hover:text-slate-700 font-semibold flex-shrink-0"><!></button>'),YU=H('<span class="text-xs font-bold text-primary-600 absolute right-[1px] bottom-[1px] px-2 py-1 bg-surface-50 rounded-tl-lg rounded-br-[7px]"> </span>'),XU=H('<span class="text-xs font-bold text-primary-600 absolute right-[1px] bottom-[1px] px-2 py-1 bg-surface-50 rounded-tl-lg rounded-br-[7px]"> </span>'),KU=H('<span class="text-xs font-bold text-primary-600 absolute right-[1px] bottom-[1px] px-2 py-1 bg-surface-50 rounded-tl-lg rounded-br-[7px]"> </span>'),QU=H('<span class="text-xs font-bold text-primary-600 absolute right-[1px] top-[1px] px-2 py-1 bg-surface-50 rounded-tr-lg rounded-bl-[7px] capitalize"> </span>'),JU=H('<span class="text-xs font-medium text-warning-500">Currently Out of Stock</span>'),ZU=H('<a target="_blank" class="flex gap-3 border-gray-100 py-4 border-b last:border-b-0"><div class="flex gap-3"><div class="shrink-0 rounded-lg relative"><img class="rounded-lg border border-gray-200 h-[104px] w-[104px] object-contain"> <!> <!></div> <div class="flex flex-grow flex-col gap-1.5"><div class="flex items-center justify-between"><div class="flex items-center gap-2"><img class="h-6 w-6 rounded-full border border-surface-100"> <span class="text-sm font-medium text-surface-950 truncate w-28"> </span></div> <div class="flex items-center gap-2"></div></div> <div><p class="text-xs font-medium text-surface-900 line-clamp-2"> </p></div> <div class="flex flex-col"><div class="flex gap-2 text-[10px] text-surface-600 items-center"><!></div> <span class="text-xs font-medium text-surface-500">Free Delivery</span> <!></div></div></div></a>'),eV=H('<p class="mt-4 text-xs font-medium text-surface-600">You can view complete list on Price Comparions Bar or on our <a target="_blank" class="text-primary-600 hover:text-primary-800 text-end">Buyhatke Web <span class="inline-block w-3 h-3"><!></span></a></p>'),tV=H('<div><div class="flex items-start justify-between"><p class="text-sm font-medium text-slate-950">Compare Available Prices <!></p> <!></div> <div class="max-h-[400px] overflow-auto scroll-hide border rounded-lg px-2"></div> <!></div>');function dy(t,e){Xe(e,!0);let r=R(e,"wrapperClass",3,"p-2 bg-white w-full rounded-lg");const n="â‚¹",i="en-IN";var o=ke(),s=de(o);{var l=d=>{var u=GU();b(d,u)},c=d=>{var u=tV(),f=v(u),h=v(f),p=x(v(h));{var m=L=>{var k=Wt();ae(P=>Y(k,`of ${P??""}`),[()=>Na(e.productData.prod,45,"end")]),b(L,k)};W(p,L=>{var k;(k=e.productData)!=null&&k.prod&&L(m)})}var y=x(h,2);{var _=L=>{var k=$U();k.__click=function(...z){var T;(T=e.closeModal)==null||T.apply(this,z)};var P=v(k);Ur(P,{src:Hi,alt:"close modal",cls:"w-6 h-6 p-1 bg-slate-100 rounded-full"}),b(L,k)};W(y,L=>{typeof e.closeModal=="function"&&L(_)})}var S=x(f,2);St(S,21,()=>[...e.compareDataArr].filter(L=>(L==null?void 0:L.trustedFlag)!==!1).slice(0,10),zt,(L,k)=>{var P=ZU();const z=Ne(()=>{var X;return(X=Da)==null?void 0:X[a(k).position]}),T=Ne(()=>{var X,re;return((re=(X=a(z))==null?void 0:X.currency)==null?void 0:re[0])??n}),M=Ne(()=>{var X;return((X=a(z))==null?void 0:X.countryCode)??i});var D=v(P),A=v(D),O=v(A),I=x(O,2);{var B=X=>{var re=ke(),fe=de(re);{var ue=we=>{var me=YU(),ce=v(me);ae(()=>{var ye,be;return Y(ce,`${((ye=a(k))==null?void 0:ye.packOf)??""} X ${((be=a(k))==null?void 0:be.qty)??""}`)}),b(we,me)},xe=we=>{var me=XU(),ce=v(me);ae(()=>{var ye;return Y(ce,(ye=a(k))==null?void 0:ye.qty)}),b(we,me)};W(fe,we=>{var me;(me=a(k))!=null&&me.packOf?we(ue):we(xe,!1)})}b(X,re)},j=X=>{var re=ke(),fe=de(re);{var ue=xe=>{var we=KU(),me=v(we);ae(()=>{var ce;return Y(me,`Pack of ${((ce=a(k))==null?void 0:ce.packOf)??""}`)}),b(xe,we)};W(fe,xe=>{var we;(we=a(k))!=null&&we.packOf&&xe(ue)},!0)}b(X,re)};W(I,X=>{var re;(re=a(k))!=null&&re.qty?X(B):X(j,!1)})}var V=x(I,2);{var F=X=>{var re=QU(),fe=v(re);ae(()=>{var ue;return Y(fe,(ue=a(k))==null?void 0:ue.colorTag)}),b(X,re)};W(V,X=>{var re;(re=a(k))!=null&&re.colorTag&&X(F)})}var N=x(A,2),q=v(N),G=v(q),Q=v(G),Z=x(Q,2),E=v(Z),U=x(q,2),$=v(U),ee=v($),se=x(U,2),oe=v(se),K=v(oe);rl(K,{get price(){return a(k).price},get currentPrice(){return a(k).price},get currencySymbol(){return a(T)},get locale(){return a(M)},priceBoxClass:"h-4 w-4",priceIconClass:"h-4 w-4",priceTextClass:"text-sm text-surface-950",lastPriceTextClass:"text-xs",productPriceComponentClass:"flex"});var J=x(oe,4);{var te=X=>{var re=JU();b(X,re)};W(J,X=>{var re;(re=a(k))!=null&&re.oos&&X(te)})}ae(()=>{pe(P,"href",a(k).link),pe(O,"src",a(k).image),pe(O,"alt",a(k).prod),pe(Q,"src",a(k).site_image),pe(Q,"alt",a(k).site_name),Y(E,a(k).site_name),Y(ee,a(k).prod)}),b(L,P)});var w=x(S,2);{var C=L=>{var k=eV(),P=x(v(k)),z=x(v(P)),T=v(z);Xt(T,()=>Wc),ae(()=>pe(P,"href",`https://buyhatke.com/?text=${e.productData.link}`)),b(L,k)};W(w,L=>{e.compareDataArr.length>5&&e.productData.link&&L(C)})}ae(()=>$e(u,`flex flex-col gap-2 ${r()??""} `)),b(d,u)};W(s,d=>{e.compareDataArr.length===0?d(l):d(c,!1)})}b(t,o),Ke()}Tt(["click"]);const Ci=Object.create(null);Ci.open="0";Ci.close="1";Ci.ping="2";Ci.pong="3";Ci.message="4";Ci.upgrade="5";Ci.noop="6";const Dd=Object.create(null);Object.keys(Ci).forEach(t=>{Dd[Ci[t]]=t});const B0={type:"error",data:"parser error"},_w=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",bw=typeof ArrayBuffer=="function",ww=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,sg=({type:t,data:e},r,n)=>_w&&e instanceof Blob?r?n(e):uy(e,n):bw&&(e instanceof ArrayBuffer||ww(e))?r?n(e):uy(new Blob([e]),n):n(Ci[t]+(e||"")),uy=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function fy(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let uh;function rV(t,e){if(_w&&t.data instanceof Blob)return t.data.arrayBuffer().then(fy).then(e);if(bw&&(t.data instanceof ArrayBuffer||ww(t.data)))return e(fy(t.data));sg(t,!1,r=>{uh||(uh=new TextEncoder),e(uh.encode(r))})}const vy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wl=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<vy.length;t++)Wl[vy.charCodeAt(t)]=t;const nV=t=>{let e=t.length*.75,r=t.length,n,i=0,o,s,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const d=new ArrayBuffer(e),u=new Uint8Array(d);for(n=0;n<r;n+=4)o=Wl[t.charCodeAt(n)],s=Wl[t.charCodeAt(n+1)],l=Wl[t.charCodeAt(n+2)],c=Wl[t.charCodeAt(n+3)],u[i++]=o<<2|s>>4,u[i++]=(s&15)<<4|l>>2,u[i++]=(l&3)<<6|c&63;return d},aV=typeof ArrayBuffer=="function",lg=(t,e)=>{if(typeof t!="string")return{type:"message",data:kw(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:iV(t.substring(1),e)}:Dd[r]?t.length>1?{type:Dd[r],data:t.substring(1)}:{type:Dd[r]}:B0},iV=(t,e)=>{if(aV){const r=nV(t);return kw(r,e)}else return{base64:!0,data:t}},kw=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Sw="",oV=(t,e)=>{const r=t.length,n=new Array(r);let i=0;t.forEach((o,s)=>{sg(o,!1,l=>{n[s]=l,++i===r&&e(n.join(Sw))})})},sV=(t,e)=>{const r=t.split(Sw),n=[];for(let i=0;i<r.length;i++){const o=lg(r[i],e);if(n.push(o),o.type==="error")break}return n};function lV(){return new TransformStream({transform(t,e){rV(t,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,n)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(r)})}})}let fh;function md(t){return t.reduce((e,r)=>e+r.length,0)}function xd(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let n=0;for(let i=0;i<e;i++)r[i]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function cV(t,e){fh||(fh=new TextDecoder);const r=[];let n=0,i=-1,o=!1;return new TransformStream({transform(s,l){for(r.push(s);;){if(n===0){if(md(r)<1)break;const c=xd(r,1);o=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(md(r)<2)break;const c=xd(r,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(md(r)<8)break;const c=xd(r,8),d=new DataView(c.buffer,c.byteOffset,c.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){l.enqueue(B0);break}i=u*Math.pow(2,32)+d.getUint32(4),n=3}else{if(md(r)<i)break;const c=xd(r,i);l.enqueue(lg(o?c:fh.decode(c),e)),n=0}if(i===0||i>t){l.enqueue(B0);break}}}})}const Cw=4;function Tn(t){if(t)return dV(t)}function dV(t){for(var e in Tn.prototype)t[e]=Tn.prototype[e];return t}Tn.prototype.on=Tn.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Tn.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};Tn.prototype.off=Tn.prototype.removeListener=Tn.prototype.removeAllListeners=Tn.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Tn.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};Tn.prototype.emitReserved=Tn.prototype.emit;Tn.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Tn.prototype.hasListeners=function(t){return!!this.listeners(t).length};const gf=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),Ba=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),uV="arraybuffer";function Aw(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const fV=Ba.setTimeout,vV=Ba.clearTimeout;function mf(t,e){e.useNativeTimers?(t.setTimeoutFn=fV.bind(Ba),t.clearTimeoutFn=vV.bind(Ba)):(t.setTimeoutFn=Ba.setTimeout.bind(Ba),t.clearTimeoutFn=Ba.clearTimeout.bind(Ba))}const hV=1.33;function pV(t){return typeof t=="string"?gV(t):Math.ceil((t.byteLength||t.size)*hV)}function gV(t){let e=0,r=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function Mw(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function mV(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function xV(t){let e={},r=t.split("&");for(let n=0,i=r.length;n<i;n++){let o=r[n].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}class yV extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class cg extends Tn{constructor(e){super(),this.writable=!1,mf(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,n){return super.emitReserved("error",new yV(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=lg(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=mV(e);return r.length?"?"+r:""}}class _V extends cg{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};sV(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,oV(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=Mw()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let Pw=!1;try{Pw=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const bV=Pw;function wV(){}class kV extends _V{constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}class ki extends Tn{constructor(e,r,n){super(),this.createRequest=e,mf(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const r=Aw(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=ki.requestsCount++,ki.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=wV,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ki.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ki.requestsCount=0;ki.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",hy);else if(typeof addEventListener=="function"){const t="onpagehide"in Ba?"pagehide":"unload";addEventListener(t,hy,!1)}}function hy(){for(let t in ki.requests)ki.requests.hasOwnProperty(t)&&ki.requests[t].abort()}const SV=function(){const t=Dw({xdomain:!1});return t&&t.responseType!==null}();class CV extends kV{constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=SV&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new ki(Dw,this.uri(),e)}}function Dw(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||bV))return new XMLHttpRequest}catch{}if(!e)try{return new Ba[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Lw=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class AV extends cg{get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,n=Lw?{}:Aw(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;sg(n,this.supportsBinary,o=>{try{this.doWrite(n,o)}catch{}i&&gf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=Mw()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const vh=Ba.WebSocket||Ba.MozWebSocket;class MV extends AV{createSocket(e,r,n){return Lw?new vh(e,r,n):r?new vh(e,r):new vh(e)}doWrite(e,r){this.ws.send(r)}}class PV extends cg{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=cV(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),i=lV();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const o=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),o())}).catch(l=>{})};o();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;this._writer.write(n).then(()=>{i&&gf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const DV={websocket:MV,webtransport:PV,polling:CV},LV=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,EV=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function j0(t){if(t.length>8e3)throw"URI too long";const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let i=LV.exec(t||""),o={},s=14;for(;s--;)o[EV[s]]=i[s]||"";return r!=-1&&n!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=IV(o,o.path),o.queryKey=TV(o,o.query),o}function IV(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function TV(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,o){i&&(r[i]=o)}),r}const F0=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ld=[];F0&&addEventListener("offline",()=>{Ld.forEach(t=>t())},!1);class ho extends Tn{constructor(e,r){if(super(),this.binaryType=uV,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const n=j0(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=j0(r.host).host);mf(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=xV(this.opts.query)),F0&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ld.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=Cw,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&ho.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",ho.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=pV(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,gf(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const o={type:e,data:r,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(ho.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),F0&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Ld.indexOf(this._offlineEventListener);n!==-1&&Ld.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}ho.protocol=Cw;class OV extends ho{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),n=!1;ho.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;ho.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(u(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=r.name,this.emitReserved("upgradeError",h)}}))};function o(){n||(n=!0,u(),r.close(),r=null)}const s=f=>{const h=new Error("probe error: "+f);h.transport=r.name,o(),this.emitReserved("upgradeError",h)};function l(){s("transport closed")}function c(){s("socket closed")}function d(f){r&&f.name!==r.name&&o()}const u=()=>{r.removeListener("open",i),r.removeListener("error",s),r.removeListener("close",l),this.off("close",c),this.off("upgrading",d)};r.once("open",i),r.once("error",s),r.once("close",l),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}}let RV=class extends OV{constructor(e,r={}){const n=typeof e=="object"?e:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>DV[i]).filter(i=>!!i)),super(e,n)}};function NV(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=j0(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+e,n.href=n.protocol+"://"+o+(r&&r.port===n.port?"":":"+n.port),n}const zV=typeof ArrayBuffer=="function",BV=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Ew=Object.prototype.toString,jV=typeof Blob=="function"||typeof Blob<"u"&&Ew.call(Blob)==="[object BlobConstructor]",FV=typeof File=="function"||typeof File<"u"&&Ew.call(File)==="[object FileConstructor]";function dg(t){return zV&&(t instanceof ArrayBuffer||BV(t))||jV&&t instanceof Blob||FV&&t instanceof File}function Ed(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(Ed(t[r]))return!0;return!1}if(dg(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Ed(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&Ed(t[r]))return!0;return!1}function UV(t){const e=[],r=t.data,n=t;return n.data=U0(r,e),n.attachments=e.length,{packet:n,buffers:e}}function U0(t,e){if(!t)return t;if(dg(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=U0(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=U0(t[n],e));return r}return t}function VV(t,e){return t.data=V0(t.data,e),delete t.attachments,t}function V0(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=V0(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=V0(t[r],e));return t}const WV=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],HV=5;var Vr;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Vr||(Vr={}));class qV{constructor(e){this.replacer=e}encode(e){return(e.type===Vr.EVENT||e.type===Vr.ACK)&&Ed(e)?this.encodeAsBinary({type:e.type===Vr.EVENT?Vr.BINARY_EVENT:Vr.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===Vr.BINARY_EVENT||e.type===Vr.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=UV(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function py(t){return Object.prototype.toString.call(t)==="[object Object]"}class ug extends Tn{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===Vr.BINARY_EVENT;n||r.type===Vr.BINARY_ACK?(r.type=n?Vr.EVENT:Vr.ACK,this.reconstructor=new GV(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(dg(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(Vr[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Vr.BINARY_EVENT||n.type===Vr.BINARY_ACK){const o=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const s=e.substring(o,r);if(s!=Number(s)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(s)}if(e.charAt(r+1)==="/"){const o=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(o,r)}else n.nsp="/";const i=e.charAt(r+1);if(i!==""&&Number(i)==i){const o=r+1;for(;++r;){const s=e.charAt(r);if(s==null||Number(s)!=s){--r;break}if(r===e.length)break}n.id=Number(e.substring(o,r+1))}if(e.charAt(++r)){const o=this.tryParse(e.substr(r));if(ug.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case Vr.CONNECT:return py(r);case Vr.DISCONNECT:return r===void 0;case Vr.CONNECT_ERROR:return typeof r=="string"||py(r);case Vr.EVENT:case Vr.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&WV.indexOf(r[0])===-1);case Vr.ACK:case Vr.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class GV{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=VV(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const $V=Object.freeze(Object.defineProperty({__proto__:null,Decoder:ug,Encoder:qV,get PacketType(){return Vr},protocol:HV},Symbol.toStringTag,{value:"Module"}));function ni(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const YV=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Iw extends Tn{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ni(e,"open",this.onopen.bind(this)),ni(e,"packet",this.onpacket.bind(this)),ni(e,"error",this.onerror.bind(this)),ni(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var n,i,o;if(YV.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const s={type:Vr.EVENT,data:r};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const u=this.ids++,f=r.pop();this._registerAckCallback(u,f),s.id=u}const l=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=r;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},i),s=(...l)=>{this.io.clearTimeoutFn(o),r.apply(this,l)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...r){return new Promise((n,i)=>{const o=(s,l)=>s?i(s):n(l);o.withError=!0,r.push(o),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...o)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Vr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Vr.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Vr.EVENT:case Vr.BINARY_EVENT:this.onevent(e);break;case Vr.ACK:case Vr.BINARY_ACK:this.onack(e);break;case Vr.DISCONNECT:this.ondisconnect();break;case Vr.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:Vr.ACK,id:e,data:i}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Vr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function ul(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}ul.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+r:t-r}return Math.min(t,this.max)|0};ul.prototype.reset=function(){this.attempts=0};ul.prototype.setMin=function(t){this.ms=t};ul.prototype.setMax=function(t){this.max=t};ul.prototype.setJitter=function(t){this.jitter=t};class W0 extends Tn{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,mf(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new ul({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const i=r.parser||$V;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new RV(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=ni(r,"open",function(){n.onopen(),e&&e()}),o=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},s=ni(r,"error",o);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ni(e,"ping",this.onping.bind(this)),ni(e,"data",this.ondata.bind(this)),ni(e,"error",this.onerror.bind(this)),ni(e,"close",this.onclose.bind(this)),ni(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){gf(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Iw(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Dl={};function Id(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=NV(t,e.path||"/socket.io"),n=r.source,i=r.id,o=r.path,s=Dl[i]&&o in Dl[i].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||s;let c;return l?c=new W0(n,e):(Dl[i]||(Dl[i]=new W0(n,e)),c=Dl[i]),r.query&&!e.query&&(e.query=r.queryKey),c.socket(r.path,e)}Object.assign(Id,{Manager:W0,Socket:Iw,io:Id,connect:Id});let Ri=null,H0;function XV(t){H0=t}async function To(t){try{return new Promise((e,r)=>{if(!H0)return r(new Error("uiTabIdForChat is not set in communicator2"));Ri||(Ri=chrome.runtime.connect({name:"buyhatke-chatAssistant-"+H0}),Ri.onDisconnect.addListener(()=>{Ri=null})),Ri.postMessage(t);const n=i=>{var o;i.type===t.type&&((o=Ri==null?void 0:Ri.onMessage)==null||o.removeListener(n),i.error?r(new Error(i.error)):e(i.mydata))};Ri.onMessage.addListener(n)})}catch(e){throw console.log("Error in communicator2:",e),e}}class KV{constructor(e,r,n,i,o){Jt(this,"socket",null);Jt(this,"url");Jt(this,"path");Jt(this,"room",null);Jt(this,"extId");Jt(this,"extAuth");Jt(this,"tabId");Jt(this,"handlersAttached",!1);Jt(this,"connectStatus",bt(!1));this.url=e,this.path=r,this.extId=n,this.extAuth=i,this.tabId=o}normalizeHttpsUrl(e){return location.protocol==="https:"&&e.startsWith("http://")?"https://"+e.replace(/^http:\/\//,""):e}attachHandlers(e,r){this.socket&&(this.socket.off("connect"),this.socket.off("connect_error"),this.socket.off("disconnect"),this.socket.off("chat:done"),this.socket.off("chat:error"),this.socket.on("connect",()=>this.connectStatus.set(!0)),this.socket.on("connect_error",()=>this.connectStatus.set(!1)),this.socket.on("disconnect",()=>this.connectStatus.set(!1)),this.socket.on("chat:done",e),this.socket.on("chat:error",r??(n=>console.error("Chat socket error:",n))))}connect(e,r){if(this.socket&&this.socket.connected){this.connectStatus.set(!0),e&&(this.socket.off("chat:done"),this.socket.on("chat:done",e)),r&&(this.socket.off("chat:error"),this.socket.on("chat:error",r));return}this.socket||(this.socket=Id(this.normalizeHttpsUrl(this.url),{path:this.path,transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:20,reconnectionDelay:600,timeout:15e3})),this.handlersAttached?e&&(this.socket.off("chat:done"),this.socket.on("chat:done",e)):(this.handlersAttached=!0,this.attachHandlers(e,r)),this.socket.connected||this.socket.once("connect",()=>{var n,i,o;this.room=`${this.extId}-${this.extAuth}-${this.tabId}`,(n=this.socket)==null||n.emit("addRoom",[this.room]),(i=this.socket)==null||i.emit("diag:ping",{room:this.room,tag:Date.now()}),(o=this.socket)==null||o.emit("debug:enable",{room:this.room})})}sendQuery(e,r,n="",i="",o="en",s){if(!this.socket)throw new Error("Socket not initialized â€” call connect() first");this.room||(this.room=`${this.extId}-${this.extAuth}-${this.tabId}`);const l={userQuery:e,prevQuery:r.slice(-5)},c=JSON.stringify(l);this.socket.emit("chat:start",{room:this.room,userQuery:c,extId:this.extId,extAuth:this.extAuth,tabId:this.tabId,meta:{jobId:49},currentProductUrl:n,currentProductDetails:i,userLanguage:o??"en",pos:s})}disconnect(){var e;(e=this.socket)==null||e.disconnect(),this.socket=null,this.connectStatus.set(!1),this.handlersAttached=!1}}class QV{constructor(e="chatAssist-chatHistory"){Jt(this,"key");Jt(this,"maxSessionLimit");Jt(this,"messageLimit");Jt(this,"sessions");this.key=e,this.maxSessionLimit=15,this.messageLimit=50,this.sessions=[]}async dbOperation(e,r,n){return To({type:`chatHistory-${e}`,mydata:{key:r,value:n}})}serializeForStorage(e){return JSON.parse(JSON.stringify(e))}async persist(e=!0){try{const r=this.serializeForStorage(this.sessions);await this.dbOperation("set",this.key,r)}catch(r){if(e&&this.handleQuotaExceeded(r)){await this.persist(!1);return}console.error("Error persisting chat history:",r)}}handleQuotaExceeded(e){if(!(e instanceof DOMException)||e.name!=="QuotaExceededError")return!1;if(this.sessions.length>1)return this.sessions.pop(),!0;const r=this.sessions[0];if(r&&Array.isArray(r.messages)&&r.messages.length>10){const n=Math.ceil(r.messages.length/2);return r.messages=r.messages.slice(n),!0}return!1}generateId(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}-${Math.random().toString(36).slice(2,10)}`}moveSessionToTop(e){if(e<0||e>=this.sessions.length)return;const[r]=this.sessions.splice(e,1);this.sessions.unshift(r)}async init(){try{const e=await this.dbOperation("get",this.key)??[],r=(Array.isArray(e)?e:[]).map(n=>({...n,messages:Array.isArray(n==null?void 0:n.messages)?n.messages:[]}));return this.sessions=r,this.sessions=r.slice(0,this.maxSessionLimit),this.getSessions()}catch(e){return console.error("Error initializing chat history:",e),this.sessions=[],[]}}getSessions(){return this.sessions.map(e=>({...e,messages:Array.isArray(e.messages)?[...e.messages]:[]}))}getSessionMessages(e){const r=this.sessions.find(n=>n.id===e);return r&&Array.isArray(r.messages)?[...r.messages]:[]}createSession(e){const r=new Date().toISOString(),n={id:this.generateId(),title:e??`Chat ${new Date().toLocaleString()}`,messages:[],createdAt:r,updatedAt:r};return this.sessions=[n,...this.sessions],this.sessions.length>this.maxSessionLimit&&(this.sessions=this.sessions.slice(0,this.maxSessionLimit)),this.persist(),n}appendMessage(e,r){const n=this.sessions.findIndex(s=>s.id===e);if(n===-1)return;const i=this.sessions[n],o={text:r.text,type:r.type,time:r.time,queryId:r.queryId,followUpQuestions:r.followUpQuestions?[...r.followUpQuestions]:void 0,feedback:r.type==="bot"?r.feedback??null:void 0,feedbackId:r.feedbackId,actionType:r.actionType,isFinal:r.isFinal??!0,inputHint:r.inputHint?JSON.parse(JSON.stringify(r.inputHint)):void 0};if(i.messages=Array.isArray(i.messages)?[...i.messages,o]:[o],i.messages.length>this.messageLimit){const s=i.messages.length-this.messageLimit;i.messages.splice(0,s)}i.updatedAt=new Date().toISOString(),this.moveSessionToTop(n),this.persist()}updateFeedback(e,r,n){if(!e)return;const i=this.sessions.findIndex(c=>c.id===e);if(i===-1)return;const o=this.sessions[i];if(r<0||r>=o.messages.length)return;const s=o.messages[r];if(!s||s.type!=="bot")return;const l={text:s.text,type:s.type,time:s.time,queryId:s.queryId,followUpQuestions:s.followUpQuestions?[...s.followUpQuestions]:void 0,feedback:n,feedbackId:s.feedbackId,actionType:s.actionType,isFinal:s.isFinal??!0,inputHint:s.inputHint?JSON.parse(JSON.stringify(s.inputHint)):void 0};o.messages=[...o.messages.slice(0,r),l,...o.messages.slice(r+1)],o.updatedAt=new Date().toISOString(),this.moveSessionToTop(i),this.persist()}deleteSession(e){const r=this.sessions.length;this.sessions=this.sessions.filter(n=>n.id!==e),this.sessions.length!==r&&this.persist()}async clear(){this.sessions=[];try{await this.dbOperation("delete",this.key)}catch(e){console.error("Error clearing chat history:",e)}}}const JV={productPage:[{text:"Better alternatives of this product"},{text:"What is the minimum price in last 3 months?",queryId:84,params:{aggregateType:"min",isProdSame:!0,timestamp:(()=>{const t=new Date(Date.now());return t.setMonth(t.getMonth()-3),t.toISOString().split(".")[0]+"Z"})(),followUpQuestions:["Show me full price history","Show me prices across sites"]}},{text:"Is this the good time to buy?",queryId:201,params:{isProdSame:!0,followUpQuestions:["How Set Alert feature work?","How to find good deals using buyhatke?"]}}],notProductPage:[{text:"Recommend me a gaming laptop"},{text:"Recommend me earbuds for gym under 2k"},{text:"Compare iPhone 17 Pro with Samsung S25 Ultra"},{text:"Recommend a fridge for a family of 4"},{text:"Suggest me air purifier for 150 sqft room"}]};function ZV(t){return t.filter(e=>typeof e=="string").map(e=>{const[r,n]=e.split("=>").map(o=>o.trim()),i=n==null?void 0:n.match(/queryId\s*:\s*(\d+)/);return i?{text:r,queryId:Number(i[1])}:{text:r}})}const gy=t=>{if(!t||typeof t!="object")return null;const e=t;return e.type==="yesno"?{type:"yesno"}:e.type==="priceSuggestions"&&e.options?{type:"priceSuggestions",options:e.options,currentPrice:e==null?void 0:e.currentPrice}:e.type==="productUrl"?{type:"productUrl",helperText:typeof e.helperText=="string"?e.helperText:void 0,placeholder:typeof e.placeholder=="string"?e.placeholder:void 0,submitLabel:typeof e.submitLabel=="string"?e.submitLabel:void 0}:null};function eW(){return new Date().toISOString().replace("T"," ").replace("Z","Z")}function yd(t){return t.replace(/<\/?[^>]+(>|$)/g,"")}function tW(t){var i,o,s,l,c;const e=[];let r=null;for(const d of t)if(d.type==="user")r=d.text??"";else if(d.type==="bot"&&r!==null){if((d.queryId===200||d.queryId===91)&&d.text)try{const u=JSON.parse(d.text);let f="";if(u.items&&Array.isArray(u.items)){const h=u.items.map(p=>{const m=_g(p==null?void 0:p.prod,10),y=(p==null?void 0:p.price)??"N/A",_=(p==null?void 0:p.siteName)??"";return`${m} (Price: â‚¹${y}) on ${_}`});f=JSON.stringify(h)}else if(u.data&&Array.isArray(u.data)){const h=u.data.map(p=>{const m=_g(p==null?void 0:p.prod,10),y=(p==null?void 0:p.price)??"N/A",_=p==null?void 0:p.site_name;return`${m} (Price: â‚¹${y}) on ${_}`});f=JSON.stringify(h)}e.push({question:r,answer:yd(f)})}catch(u){console.error("Failed to parse recommendation JSON:",u),e.push({question:r,answer:yd(d.text??"")})}else if(d.queryId==84||d.queryId==205){const u=JSON.parse((d==null?void 0:d.text)??"{}"),{pos:f,productPrice:h,priceGraphData:p}=u,m=Fu(p,String(f)),y=rc(p,"ALL"),{minPrice:_,maxPrice:S,avgPrice:w}=ju(y),C=((s=(o=(i=Da)==null?void 0:i[f])==null?void 0:o.currency)==null?void 0:s[0])??"â‚¹",L=(c=(l=qo)==null?void 0:l[f])==null?void 0:c.titleFull,k=[];k.push("Price Stats (All Time):"),h!=null&&k.push(`- Current Price: ${C}${h}`),_&&k.push(`- Minimum Price: ${C}${_}`),S&&k.push(`- Maximum Price: ${C}${S}`),w&&k.push(`- Average Price: ${C}${w}`),m&&m!=-1&&k.push(`- ${L}: ${C}${h}`),k.length===1&&k.push("No price stats available.");const P=k.join(`
`);e.push({question:r,answer:yd(P)})}else e.push({question:r,answer:yd(d.text??"")});r=null}return e.slice(-5).map((d,u)=>({[`Q${u+1}`]:d.question,[`A${u+1}`]:d.answer}))}const Tw=typeof document<"u"&&typeof window<"u",Ll=Tw?navigator.userAgent:null,ks=()=>{if(Tw){if(Ll.match(/iPad/i)||Ll.match(/iPhone/i)||Ll.match(/iPod/i))return"iOS";if(Ll.match(/Android/i))return"Android";if(Ll.match(/Windows Phone/i))return"Windows Phone"}return!1};class rW{constructor(e){Jt(this,"config");Jt(this,"callbacks");Jt(this,"checkMicrophonePermission",async()=>{const e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(this.isBraveBrowser())return!1;if(e)return!0;try{return navigator.permissions?(await navigator.permissions.query({name:"microphone"})).state==="granted":!0}catch{return!0}});Jt(this,"requestMicrophonePermission",async()=>{const e=ks(),r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(this.isBraveBrowser())return this.showBraveNotSupportedAlert(),!1;if(r)return!0;try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("getUserMedia not supported");return(await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}})).getTracks().forEach(o=>o.stop()),!0}catch(i){const o=i.name;return o==="NotAllowedError"||o==="PermissionDeniedError"?this.showPermissionDeniedAlert(e):o==="NotFoundError"||o==="DevicesNotFoundError"?this.showNoMicrophoneAlert(e):o==="NotSupportedError"?this.showNotSupportedAlert(e):this.showGenericPermissionAlert(e),!1}});Jt(this,"showBraveNotSupportedAlert",()=>{window.alert(`ðŸš« Voice Search Not Available in Brave Browser

Brave browser has disabled voice recognition features for privacy reasons.

This includes:
â€¢ Speech Recognition API
â€¢ Microphone access for voice features
â€¢ Third-party speech services

To use voice search, please switch to:
â€¢ Google Chrome
â€¢ Mozilla Firefox
â€¢ Safari (macOS/iOS)
â€¢ Microsoft Edge

These browsers support voice search functionality.`)});Jt(this,"showPermissionDeniedAlert",e=>{const r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);e==="iOS"?window.alert(`ðŸ”’ Microphone Access Denied

To enable voice search:

1. Go to Settings > Privacy & Security > Microphone
2. Find Safari and toggle it ON
3. Return to Safari and refresh this page
4. Try voice search again

Note: Voice search requires iOS 14.3 or later`):e==="Android"?window.alert(`ðŸ”’ Microphone Access Denied

To enable voice search:

1. Tap "Allow" when prompted for microphone access
2. Or go to Settings > Apps > [Your Browser] > Permissions
3. Enable Microphone permission
4. Refresh this page and try again

Note: Use Chrome or Firefox for best results`):r?window.alert(`ðŸ”’ Microphone Access Denied

To enable voice search in Safari:

1. Click "Allow" when prompted for microphone access
2. Or go to Safari > Settings > Websites > Microphone
3. Allow access for this website
4. Refresh the page and try again

Note: Voice search requires Safari 14.1+ or macOS Safari`):window.alert(`ðŸ”’ Microphone Access Denied

To enable voice search:

1. Click "Allow" when prompted for microphone access
2. Or check your browser's microphone settings
3. Look for the microphone icon in your address bar
4. Refresh this page and try again

Note: Use Chrome, Firefox, or Safari for best results`)});Jt(this,"showNoMicrophoneAlert",e=>{e==="iOS"?window.alert(`ðŸŽ¤ No Microphone Found

Please check:

1. Your device has a working microphone
2. No other apps are using the microphone
3. Try using the Voice Memos app to test
4. Restart your device if needed`):e==="Android"?window.alert(`ðŸŽ¤ No Microphone Found

Please check:

1. Your device has a working microphone
2. No other apps are using the microphone
3. Try using the Camera app to test recording
4. Restart your device if needed`):window.alert(`ðŸŽ¤ No Microphone Found

Please check:

1. Your device has a working microphone
2. Microphone is not muted or disabled
3. No other applications are using the microphone
4. Try refreshing the page`)});Jt(this,"showNotSupportedAlert",e=>{const r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);this.isBraveBrowser()?window.alert(`ðŸš« Voice Search Disabled in Brave Browser

Brave browser disables the Speech Recognition API for privacy reasons.

To use voice search, please switch to:
â€¢ Google Chrome
â€¢ Mozilla Firefox
â€¢ Safari (on macOS/iOS)
â€¢ Microsoft Edge

These browsers support voice search functionality.`):e==="iOS"?window.alert(`âŒ Voice Search Not Supported

Requirements:

â€¢ iOS 14.3 or later
â€¢ Safari browser
â€¢ Microphone permission

Please update your device or use Safari browser.`):e==="Android"?window.alert(`âŒ Voice Search Not Supported

Requirements:

â€¢ Android 5.0 or later
â€¢ Chrome or Firefox browser
â€¢ Microphone permission

Please use Chrome or Firefox browser.`):r?window.alert(`âŒ Voice Search Not Supported

Requirements:

â€¢ Safari 14.1 or later
â€¢ macOS Safari or iOS Safari
â€¢ Microphone permission

Please update Safari to the latest version.`):window.alert(`âŒ Voice Search Not Supported

Requirements:

â€¢ Modern browser (Chrome, Firefox, Safari)
â€¢ Microphone permission
â€¢ HTTPS connection

Please use a supported browser.`)});Jt(this,"showGenericPermissionAlert",e=>{const r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);e==="iOS"?window.alert(`âš ï¸ Microphone Permission Required

Voice search needs microphone access:

1. Go to Settings > Privacy & Security > Microphone
2. Enable Safari
3. Refresh this page

If the issue persists, try restarting Safari.`):e==="Android"?window.alert(`âš ï¸ Microphone Permission Required

Voice search needs microphone access:

1. Allow microphone access when prompted
2. Or check browser settings
3. Refresh this page

If the issue persists, try restarting your browser.`):r?window.alert(`âš ï¸ Microphone Permission Required

Voice search needs microphone access:

1. Click "Allow" when prompted
2. Or go to Safari > Settings > Websites > Microphone
3. Allow access for this website
4. Refresh this page

If the issue persists, try restarting Safari.`):window.alert(`âš ï¸ Microphone Permission Required

Voice search needs microphone access:

1. Click "Allow" when prompted
2. Check browser microphone settings
3. Refresh this page

If the issue persists, try a different browser.`)});Jt(this,"getIOSVersion",()=>{if(!(ks()==="iOS"))return null;const n=navigator.userAgent.match(/OS (\d+)_/);return n?parseInt(n[1],10):null});Jt(this,"getSafariVersion",()=>{const r=navigator.userAgent.match(/Version\/(\d+\.\d+)/);return r?parseFloat(r[1]):null});Jt(this,"isBraveBrowser",()=>{var r,n;const e=navigator.userAgent;if(e.includes("Brave")||navigator.brave&&typeof((r=navigator.brave)==null?void 0:r.isBrave)=="function")return!0;if(typeof window<"u"){const i="SpeechRecognition"in window||"webkitSpeechRecognition"in window,o="chrome"in window&&((n=window.chrome)==null?void 0:n.runtime);if(e.includes("Chrome")&&!i&&o)return!0}return!!(typeof window<"u"&&window.brave)});Jt(this,"isSafariSupported",()=>{if(!/^((?!chrome|android).)*safari/i.test(navigator.userAgent))return!0;const r=this.getSafariVersion();return r?r>=14.1:!1});Jt(this,"isIOSVersionSupported",()=>{const e=this.getIOSVersion();return e?e>=14:!1});Jt(this,"getVoiceSearchTooltip",()=>{if(this.config.isRecording)return"Stop Recording";if(!this.config.isVoiceSupported){const e=ks()==="iOS",r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(this.isBraveBrowser())return"Voice Search disabled in Brave - Use Chrome, Firefox, or Safari";if(e){const i=this.getIOSVersion();return i!==null&&i<14?"Voice Search requires iOS 14.3+ - Please update your device":"Voice Search not supported - Use Safari on iOS 14.3+"}else if(r){const i=this.getSafariVersion();return i!==null&&i<14.1?"Voice Search requires Safari 14.1+ - Please update Safari":"Voice Search not supported - Please update Safari"}return"Voice Search not supported"}return"Voice Search"});Jt(this,"initializeVoiceRecognition",e=>{this.config.isTranslationSupported=e;const r=ks()==="iOS",n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(this.isBraveBrowser()){vt("ext-voice_recognition_blocked_brave",{}),this.config.isVoiceSupported=!1;return}if(r&&!this.isIOSVersionSupported()){vt("ext-voice_recognition_unsupported_ios",{ios_version:this.getIOSVersion()??"unknown"}),this.config.isVoiceSupported=!1;return}if(n&&!this.isSafariSupported()){vt("ext-voice_recognition_unsupported_safari",{safari_version:this.getSafariVersion()??"unknown"}),this.config.isVoiceSupported=!1;return}if(typeof window<"u"&&("SpeechRecognition"in window||"webkitSpeechRecognition"in window))try{const o=window.SpeechRecognition||window.webkitSpeechRecognition;o&&(this.config.recognition=new o,n||r?(this.config.recognition.continuous=!1,this.config.recognition.interimResults=!1,this.config.recognition.lang="en-US",this.config.recognition.maxAlternatives=1,this.config.recognition.serviceURI=void 0):(this.config.recognition.continuous=!1,this.config.recognition.interimResults=!1,this.config.recognition.lang="auto"),this.config.recognition.onstart=()=>{var s,l;this.config.isRecording=!0,vt("ext-voice_recognition_start",{}),(l=(s=this.callbacks).onStart)==null||l.call(s)},this.config.recognition.onresult=async s=>{const l=s.results[0][0].transcript;this.config.isRecording=!1,vt("ext-voice_recognition_transcript",{value:l}),l.trim()&&this.callbacks.onTranscript(l)},this.config.recognition.onerror=s=>{var l,c;if(this.config.isRecording=!1,vt("ext-voice_recognition_error",{value:s.error}),n||r)switch(s.error){case"not-allowed":window.alert(`ðŸ”’ Microphone Access Required

To enable voice search in Safari:

1. Click "Allow" when prompted for microphone access
2. Or go to Safari > Settings > Websites > Microphone
3. Allow access for this website
4. Refresh the page and try again

Note: Voice search requires iOS 14.3+ or macOS Safari`);break;case"no-speech":window.alert("No speech detected. Please try speaking clearly and try again.");break;case"audio-capture":window.alert("Audio capture failed. Please check your microphone and try again.");break;case"network":window.alert("Network error. Please check your internet connection and try again.");break;case"service-not-allowed":window.alert("Voice recognition service not available. Please try again later.");break;case"aborted":window.alert("Voice recognition was interrupted. Please try again.");break;case"language-not-supported":window.alert("Language not supported. Please try speaking in English.");break;default:window.alert(`Voice recognition error: ${s.error}. Please try again.`)}else s.error==="not-allowed"?window.alert("Microphone permission denied. Please allow microphone access to use voice search."):window.alert("Voice recognition error. Please try again.");(c=(l=this.callbacks).onError)==null||c.call(l,s.error)},this.config.recognition.onend=()=>{var s,l;this.config.isRecording=!1,vt("ext-voice_recognition_end",{}),(l=(s=this.callbacks).onEnd)==null||l.call(s)},this.config.recognition.onnomatch=()=>{this.config.isRecording=!1},this.config.recognition.onsoundstart=()=>{},this.config.recognition.onsoundend=()=>{},this.config.recognition.onspeechstart=()=>{},this.config.recognition.onspeechend=()=>{},this.config.isVoiceSupported=!0)}catch{this.config.isVoiceSupported=!1}else this.config.isVoiceSupported=!1});Jt(this,"startVoiceRecording",async()=>{if(this.isBraveBrowser()){this.showBraveNotSupportedAlert();return}if(!this.config.isVoiceSupported){const n=ks()==="iOS",i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(n){const o=this.getIOSVersion();o&&o<14?window.alert("Voice recognition requires iOS 14.3 or later. Please update your device."):window.alert("Voice recognition is not supported in this browser. Please use Safari on iOS 14.3 or later.")}else i?window.alert("Voice recognition is not supported in this Safari version. Please update Safari or use Chrome/Firefox."):window.alert("Voice recognition is not supported in this browser.");return}if(this.config.isRecording){this.stopVoiceRecording();return}if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent))try{this.config.recognition&&this.config.recognition.start()}catch{window.alert(`ðŸ”’ Microphone Access Required

To enable voice search in Safari:

1. Click "Allow" when prompted for microphone access
2. Or go to Safari > Settings > Websites > Microphone
3. Allow access for this website
4. Refresh the page and try again

Note: Voice search requires iOS 14.3+ or macOS Safari`)}else{if(!await this.checkMicrophonePermission()&&!await this.requestMicrophonePermission())return;try{this.config.recognition&&this.config.recognition.start()}catch{const i=ks();i==="iOS"?window.alert(`Error starting voice recognition.

Please ensure:
1. Microphone permission is granted to Safari
2. You are using Safari browser
3. Your iOS version is 14.3 or later

Go to Settings > Privacy & Security > Microphone to check permissions.`):i==="Android"?window.alert(`Error starting voice recognition.

Please ensure:
1. Microphone permission is granted
2. You are using a supported browser (Chrome, Firefox)
3. Your device supports voice recognition

Check your browser settings for microphone permissions.`):window.alert(`Error starting voice recognition.

Please ensure:
1. Microphone permission is granted
2. You are using a supported browser
3. Your browser supports voice recognition

Try refreshing the page and allowing microphone access.`)}}});Jt(this,"stopVoiceRecording",()=>{this.config.recognition&&this.config.isRecording&&this.config.recognition.stop()});Jt(this,"destroy",()=>{this.config.recognition&&this.config.isRecording&&this.config.recognition.stop(),this.config.recognition=null});this.config={isRecording:!1,isVoiceSupported:!1,isTranslationSupported:!1,recognition:null},this.callbacks=e}get isRecording(){return this.config.isRecording}get isVoiceSupported(){return this.config.isVoiceSupported}get isTranslationSupported(){return this.config.isTranslationSupported}get recognition(){return this.config.recognition}}const nW=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 30 30">
	<path fill="currentColor" fill-rule="evenodd"
		d="M15.2 3.68c.85 0 1.53.69 1.53 1.53v8.28h8.28a1.53 1.53 0 1 1 0 3.07h-8.28v8.28a1.53 1.53 0 1 1-3.07 0v-8.28H5.38a1.53 1.53 0 1 1 0-3.07h8.28V5.21c0-.84.7-1.53 1.54-1.53Z"
		clip-rule="evenodd" />
</svg>
`,aW="/assets/mic-r7tXzPMa.svg",iW="/assets/thumbsUpRaw-e04Qa5WV.svg",oW="/assets/thumbsDownRaw--siyNVZh.svg",sW="/assets/listening-vk1KRZK0.svg",lW=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
	<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 8v4l2.5 2.5" />
	<path fill="currentColor"
		d="m5.6 5.6-.53-.53zM4.34 6.87h-.75c0 .42.33.75.74.75zm2.54.76a.75.75 0 1 0 0-1.5zm-1.8-3.3a.75.75 0 1 0-1.5 0zm-1.25 6.45a.75.75 0 1 0-1.49-.2zm15.03-5.64a9.75 9.75 0 0 0-13.79-.07l1.06 1.06a8.25 8.25 0 0 1 11.67.07zM5.14 18.86a9.75 9.75 0 0 0 13.79.07l-1.06-1.06A8.25 8.25 0 0 1 6.2 17.8zm13.79.07a9.75 9.75 0 0 0-.07-13.8L17.8 6.2a8.25 8.25 0 0 1 .07 11.67zM5.07 5.07 3.81 6.34 4.87 7.4l1.26-1.27zm-.74 2.55 2.55.01v-1.5H4.35zm.76-.75-.02-2.55h-1.5l.02 2.55zm-2.75 3.71a9.8 9.8 0 0 0 2.8 8.28L6.2 17.8a8.3 8.3 0 0 1-2.37-7.02z" />
</svg>
`;let El={sessionId:null,hasState:!1},_d=null;const cW=async(t,e,r,n,i,o,s)=>{try{await e.clear(),r(),g(n,null),g(i,ne([])),o(),g(s,!1)}catch(l){console.error("Error clearing chat history:",l)}};async function dW(t,e,r){if(a(e)){if(a(r)){a(e).stopVoiceRecording(),g(r,!1);return}await a(e).startVoiceRecording()}}const uW=(t,e)=>{g(e,ne({...a(e),isSelected:!1}))};var fW=(t,e,r)=>{e(a(r))},vW=H('<button class="px-4 py-1 rounded-full bg-primary-50 hover:bg-primary-100 w-fit"><span class="text-xs font-medium text-primary-600 hover:text-primary-800 whitespace-nowrap"> </span></button>'),hW=(t,e,r)=>{e(a(r))},pW=H('<button class="px-4 py-1 rounded-full bg-primary-50 hover:bg-primary-100 w-fit"><span class="text-xs font-medium text-primary-600 hover:text-primary-800 whitespace-nowrap"> </span></button>'),gW=H(`<div class="flex flex-col items-center justify-center text-surface-500 text-lg font-medium h-full"><p class="mb-2 text-center max-w-[80%] mx-auto">ðŸ›ï¸ Hi! I'm your Shopping Assistant.</p> <div class="flex flex-col gap-2 w-full items-center"><!></div></div>`),mW=H('<div class="mb-2"><p class="text-sm font-medium">Price hikes, fake cuts, or just not worth it â€” see for yourself.</p></div> <!>',1),xW=H('<div class="text-xs font-medium rounded-lg text-surface-600 break-words w-full"> </div>'),yW=H('<div class="text-xs font-medium rounded-lg text-surface-600 break-words w-full"><!></div>'),_W=(t,e,r)=>{e(a(r))},bW=H('<button class="px-3 py-2 rounded-lg border border-primary-100 bg-primary-50 hover:bg-primary-100 group"><span class="text-xs font-medium text-surface-600 hover:text-surface-800 group-hover:text-surface-800 text-start block"> </span></button>'),wW=H('<div class="flex flex-wrap scroll-hide items-start gap-2 mt-2"><p class="text-xs font-medium text-slate-950">What do you want me to do next?</p> <!></div>'),kW=H(`<div class="flex gap-1 items-center mt-1"><button class="p-1 rounded-lg relative group transition-colors hover:bg-surface-100"><!> <span class="absolute -top-8 -left-2 hidden group-hover:block text-xs font-medium bg-slate-100 p-1 rounded-lg whitespace-nowrap z-10 after:content-[''] after:absolute after:top-full after:left-3 after:border-4 after:border-transparent after:border-t-slate-100">Good Response</span></button> <button class="p-1 rounded-lg relative group transition-colors hover:bg-surface-100"><!> <span class="absolute -top-8 -left-2 hidden group-hover:block text-xs font-medium bg-slate-100 p-1 rounded-lg whitespace-nowrap z-10 after:content-[''] after:absolute after:top-full after:left-3 after:border-4 after:border-transparent after:border-t-slate-100">Bad Response</span></button></div>`),SW=H("<div><div><!></div> <!> <!></div>"),CW=H('<div class="text-sm font-medium text-surface-600"> </div>'),AW=H('<div class="flex gap-2 mt-2 mb-4"><div class="flex space-x-1 items-center"><!> <div class="w-2 h-2 bg-slate-400 rounded-full animate-bounce"></div> <div class="w-2 h-2 bg-slate-400 rounded-full animate-bounce" style="animation-delay: 0.1s"></div> <div class="w-2 h-2 bg-slate-400 rounded-full animate-bounce" style="animation-delay: 0.2s"></div></div></div>'),MW=H("<!> <!>",1),PW=(t,e)=>{e("no")},DW=(t,e)=>{e("yes")},LW=H('<div class="flex flex-col gap-2"><div class="flex gap-2 items-center justify-between"><p class="text-sm text-surface-600 font-medium">Please confirm your choice below:</p> <button><!></button></div> <div class="flex gap-2 mt-2 flex-grow items-center justify-center w-full"><button class="bg-white border border-indigo-600 hover:border-indigo-800 py-2 px-4 text-indigo-600 hover:text-indigo-800 font-bold rounded-md w-full max-h-[40px]">No</button> <button class="bg-primary-600 hover:bg-primary-800 text-white font-bold py-2 px-4 rounded-md w-full">Yes</button></div></div>'),EW=(t,e,r)=>e(a(r)),IW=(t,e)=>{t.key==="Enter"&&(t.preventDefault(),e())},TW=H('<p class="text-xs text-danger-500 font-light"> </p>'),OW=(t,e,r)=>{e(r().value)},RW=H('<button class="px-2 py-1 rounded-lg border border-surface-300 bg-surface-50 hover:bg-surface-100 group"><span class="text-xs font-medium text-surface-600"> </span></button>'),NW=H('<div class="flex flex-col gap-2"><div class="flex gap-2 items-center justify-between"><p class="text-sm font-medium text-surface-600">Enter the price you prefer</p> <button><!></button></div> <div class="flex flex-col gap-1 w-full"><div class="flex gap-2 items-center relative"><input type="number" class="w-full px-3 py-2 border rounded-md text-sm border-surface-300 text-surface-700 bg-white focus:outline-none focus:ring-2 focus:ring-primary-500"> <button class="px-3 py-2 rounded-md text-sm font-semibold text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-40 disabled:cursor-not-allowed">Submit</button></div> <!></div> <div class="flex gap-1"><p class="text-sm font-medium text-surface-600 flex items-center gap-1"><span class="text-[10px]">Or</span> Select from Suggested Price:</p></div> <div class="flex gap-4"></div></div>'),zW=(t,e,r)=>e(a(r)),BW=(t,e,r)=>{t.key==="Enter"&&(t.preventDefault(),e(a(r)))},jW=H('<p class="text-xs text-red-600 font-light"> </p>'),FW=(t,e,r)=>e(a(r)),UW=H('<div class="flex flex-col gap-2 mt-2"><div class="flex gap-2 items-center justify-between"><p class="text-sm text-surface-600 font-medium"> </p> <button><!></button></div> <input type="url" class="w-full px-3 py-2 border rounded-md text-sm border-surface-300 text-surface-700 bg-white focus:outline-none focus:ring-2 focus:ring-primary-500"> <!> <button class="px-4 py-1.5 rounded-md text-sm font-semibold text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-40 disabled:cursor-not-allowed"> </button></div>'),VW=H('<div class="flex flex-col w-full gap-2 bg-surface-100 rounded-lg p-4 h-full"><!></div>'),WW=H('<div class="bg-white border rounded-lg p-1 flex gap-2 relative w-full mb-2"><img class="w-12 h-12 rounded-lg object-contain"> <p class="text-xs font-medium capitalize line-clamp-2 text-surface-600 mt-2 mr-4"> </p> <button class="absolute -right-2 -top-2 bg-surface-50 p-1 rounded-full border"><!></button></div>'),HW=(t,e,r,n)=>{g(e,ne(r())),n(r()),vt("chat-lang-change",{value:r()})},qW=H("<button> </button>"),GW=(t,e)=>{e(),vt("chat-history-view",{})},$W=(t,e)=>{e(),vt("chat-new-chat",{})},YW=H('<img alt="mic icon" class="w-6 h-6">'),XW=br('<svg class="w-6 h-6 animate-spin aspect-square" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>'),KW=br('<svg class="w-6 h-6 rotate-90" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg>'),QW=H('<!> <div class="flex flex-col w-full gap-2 bg-surface-100 rounded-lg p-2"><div class="flex bg-surface-100 h-full"><textarea class="flex-1 px-1 py-2 bg-surface-100 rounded-lg focus:border-transparent disabled:bg-surface-100 disabled:text-surface-600 outline-none text-base font-light break-words resize-none overflow-hidden my-auto h-full" rows="1"></textarea></div> <div class="flex gap-2 items-center justify-between"><div class="p-2 bg-surface-200 rounded-full relative group/settings overflow-visible"><!> <div class="hidden group-hover/settings:flex flex-col absolute bottom-6 left-0 p-1 gap-2 shadow-sm rounded-xl bg-white border z-[999999] overflow-visible w-[180px]"><div class="relative group/lang"><div class="flex items-center justify-between p-2 rounded-lg hover:bg-primary-50 text-primary-600 hover:text-primary-800 text-sm font-medium cursor-pointer"><div class="flex gap-2 items-center"><!> <p> </p></div> <!></div> <div class="hidden group-hover/lang:flex flex-col absolute bottom-4 left-3/4 p-2 gap-1 shadow-sm rounded-xl bg-white border z-[1000000] w-[180px] h-[160px] overflow-y-auto"></div></div> <div class="rounded-lg p-2 bg-white hover:bg-primary-50 text-primary-600 hover:text-primary-800 text-sm font-medium cursor-pointer whitespace-nowrap"><button class="flex gap-2 items-center"><span class="inline-block w-5 h-5 flex-shrink-0"><!></span> <span>Chat History</span></button></div> <div class="rounded-lg p-2 bg-white hover:bg-primary-50 text-primary-600 hover:text-primary-800 text-sm font-medium cursor-pointer whitespace-nowrap"><button class="flex gap-2 items-center"><span class="inline-block w-5 h-5"><!></span> <p>New Chat</p></button></div></div></div> <div class="flex gap-2 items-center justify-between"><button id="micButton" class="p-2 bg-primary-600 text-white rounded-full hover:bg-primary-800 disabled:bg-surface-300 disabled:cursor-not-allowed transition-colors h-fit"><!></button> <button class="p-2 bg-indigo-600 text-white rounded-full hover:bg-indigo-6=800 disabled:bg-surface-300 disabled:cursor-not-allowed transition-colors h-fit"><!></button></div></div></div>',1),JW=H('<p class="text-xs text-surface-500">No saved chats yet. Start chatting to create history.</p>'),ZW=(t,e,r)=>{e(a(r).id)},eH=(t,e,r)=>{(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),e(a(r).id))},tH=H('<span class="text-[10px] px-2 py-[2px] font-medium rounded-full bg-primary-50 text-primary-600">Active</span>'),rH=(t,e,r)=>{t.stopPropagation(),e(a(r).id)},nH=H('<div class="flex items-center gap-2 border border-surface-200 rounded-lg p-2 hover:bg-surface-50 transition cursor-pointer" role="button" tabindex="0"><div class="flex-1"><p class="text-sm font-semibold text-surface-700 line-clamp-1"> </p> <p class="text-[11px] text-surface-500"> </p></div> <!> <button class=" p-2 rounded-full bg-surface-100 hover:bg-surface-200"><!></button></div>'),aH=H('<div class="flex flex-col gap-2 max-h-72 overflow-y-auto scroll-hide"></div>'),iH=H('<div class="absolute inset-0 z-50 flex items-end justify-center bg-black bg-opacity-70 p-2"><button class="absolute inset-0 z-50" aria-label="close history panel"></button> <div class="w-full bg-white border border-surface-200 p-4 z-[1000000] flex flex-col gap-3 justify-between rounded-lg max-h-[600px] min-h-[300px]"><div class="flex items-center justify-between"><p class="text-sm font-semibold text-surface-700">Chat History</p> <button class="bg-surface-100 hover:bg-surface-200 p-2 rounded-full"><!></button></div> <div class="flex-grow"><!></div> <div class="flex gap-2"><button class="flex-1 text-sm font-medium text-primary-600 hover:text-primary-800 bg-primary-50 hover:bg-primary-100 rounded-lg py-2 transition">Start new chat</button> <button class="w-36 text-sm font-medium text-red-600 hover:text-white bg-transparent hover:bg-red-600 border border-red-200 hover:border-red-600 rounded-lg py-2 transition">Clear all chats</button></div></div></div>'),oH=H('<div class="absolute inset-0 w-full h-full bg-black bg-opacity-70 p-2 flex flex-col justify-end"><!></div>'),sH=H('<div class="absolute inset-0 w-full h-full bg-black bg-opacity-70 p-2 flex flex-col justify-end"><!></div>'),lH=H('<main class="w-full h-full flex flex-col justify-center relative"><div id="chatbot-messages" class="p-4 overflow-y-auto scroll-hide rounded-t-lg select-text flex-grow h-full"><!></div> <div class="sticky bottom-0 m-2"><!></div> <!></main> <!> <!> <!> <div class="hidden"><ul class="list-disc list-outside"></ul></div>',1);function cH(t,e){var Dr;Xe(e,!0);const[r,n]=ct(),i=()=>ie(fn,"$nonPersistAppStore",r);let o=le(ne(_d));const s=new QV;let l=le(null),c=le(ne([])),d=le(!1),u=le("SET price alert!"),f=le(null),h=le(null),p=le(""),m=le(!1),y=le(ne([])),_=le(null),S=le(""),w=le(!1);const C=()=>{g(w,!1)},L=()=>{g(w,!0)},k=["Receiving","Analyzing","Fetching","Refining","Reflecting"];let P=0,z;function T(){g(m,!0),P=0,g(S,ne(k[P])),z=setInterval(()=>{P=(P+1)%k.length,g(S,ne(k[P]))},3e3)}function M(){g(m,!1),clearInterval(z)}let D=le(""),A=le(ne({})),O=le(ne({})),I=le(null),B=le(!1),j=le(!1),V=le(!1),F=le(!1),N=le(ne({isSelected:!1,productDetails:{position:Ni,prod:bh(),url:((Dr=kf)==null?void 0:Dr.url)??"",image:bg(),pid:kh(),price:wh(),currencySymbol:"â‚¹"},productDescription:i().productDetails.description}));const q=JV,G=()=>{g(c,ne(s.getSessions()))},Q=je=>{if(!a(l)){const st=s.createSession(je??a(p));g(l,ne(st.id)),G()}},Z=je=>{const st=s.getSessionMessages(je);g(l,ne(je)),g(y,ne([...st])),g(d,!1),M(),g(A,ne({})),g(p,""),Be(null),te()},E=je=>{s.deleteSession(je),G(),a(l)===je&&X()},U=()=>{g(d,!a(d))},$=je=>{try{return new Date(je).toLocaleString()}catch{return je}},ee=()=>{g(V,!1)},se=()=>{g(F,!1)};function oe(je){je.key==="Enter"&&!je.shiftKey&&(je.preventDefault(),Fe())}function K(){if(!a(f))return;a(f).style.height="auto";const je=parseFloat(getComputedStyle(a(f)).lineHeight),Ue=je*5;if(a(p).trim()===""){a(f).rows=1,a(f).style.height=je+16+"px",a(f).style.overflowY="hidden";return}const Ut=a(f).scrollHeight;Ut<=Ue?(a(f).style.height=Ut+"px",a(f).style.overflowY="hidden"):(a(f).style.height=Ue+"px",a(f).style.overflowY="auto")}function J(){requestAnimationFrame(()=>{if(!a(h))return;const je=a(h).querySelectorAll('[data-message-type="user"]'),st=je[je.length-1];if(st){const Ue=a(h).getBoundingClientRect().top,Ut=st.getBoundingClientRect().top,_t=a(h).scrollTop,Dt=Ut-Ue;a(h).scrollTo({top:_t+Dt,behavior:"smooth"});return}a(h).scrollTo({top:a(h).scrollHeight,behavior:"smooth"})})}function te(){requestAnimationFrame(()=>{a(h)&&(a(h).scrollTop=a(h).scrollHeight)})}const X=()=>{try{M(),g(y,ne([])),g(A,ne({})),g(p,""),g(l,null),g(d,!1),Be(null),te()}catch(je){console.log("error in handleNewChat",je)}};async function re(je,st,Ue){let Ut={feedbackType:Ue,feedbackId:je.feedbackId,actionType:je.actionType,comment:st};try{je!=null&&je.feedbackId&&await To({type:"chatAssist-sendFeedback",data:Ut}),_a({duration:3e3,description:"Thanks for the feeback!!!"})}catch{}C()}function fe(je,st){g(y,ne(a(y).map((Ue,Ut)=>{if(Ut!==je||Ue.type!=="bot")return Ue;let _t=st;return s.updateFeedback(a(l),je,_t),G(),Ue.feedback!=st&&vt("chat_feedback",{feedbackType:_t}),{...Ue,feedback:_t}})))}const ue=new Set([81,84,89,90,91,93,94,95,97,98,114,201,202,203,205]);function xe(je){return je.type==="user"||!je.text?!1:!ue.has(je.queryId??-1)}let we=le(!1),me=le(!0),ce=le(null),ye=le(!1),be=le(""),ve=le(null),Se=le(""),Ee=le(null);const Be=je=>{var st,Ue;if(g(ce,ne(gy(je==null?void 0:je.inputHint))),!a(ce)){g(ye,!1);return}((st=a(ce))==null?void 0:st.type)==="priceSuggestions"?(g(Se,""),g(Ee,null)):((Ue=a(ce))==null?void 0:Ue.type)=="productUrl"&&(g(be,""),g(ve,null)),g(ye,!0)},Ae=()=>{var je,st;g(ye,!1),((je=a(ce))==null?void 0:je.type)==="priceSuggestions"?(g(Se,""),g(Ee,null)):((st=a(ce))==null?void 0:st.type)=="productUrl"&&(g(be,""),g(ve,null))},Ce=je=>{const st=je.trim();return st?/(https?:\/\/[^\s]+)|(www\.[^\s]+)/i.test(st)?(g(ve,null),!0):(g(ve,"Enter a valid URL starting with http, https, or www."),!1):(g(ve,"Please enter a product link."),!1)},_e=je=>{var Dt;const st=je;if(!st)return g(Ee,"Please enter a price value."),null;const Ue=Number(st);if(Number.isNaN(Ue))return g(Ee,"Enter a valid number."),null;const Ut=1,_t=((Dt=a(ce))==null?void 0:Dt.type)==="priceSuggestions"&&typeof a(ce).currentPrice=="number"?a(ce).currentPrice:null;return Ue<Ut?(g(Ee,`Value must be at least â‚¹${Ut}.`),null):_t!==null&&Ue>_t?(g(Ee,`Value must be below â‚¹${Math.floor(_t)}.`),null):(g(Ee,null),Ue)},ge=()=>{const je=_e(a(Se));je!==null&&et(String(je))},Oe=je=>{const st=je.trim();Ce(st)&&et(st)};function Le(je,st,Ue,Ut=[],_t,Dt,lt=!0,Vt=null){Q();let Ht=eW(),vr=ZV(Ut);const kr=gy(Vt);let yr={text:je,type:st,time:Ht,queryId:Ue,followUpQuestions:vr,feedback:st==="bot"?null:void 0,feedbackId:_t,actionType:Dt,isFinal:lt,inputHint:kr};const Sr=xe(yr);g(we,ne(Sr)),g(me,ne(!Sr)),g(y,ne([...a(y),yr])),Be(yr),J(),a(l)&&(s.appendMessage(a(l),yr),G())}function Re(){g(me,!0)}async function Me(je){var st,Ue,Ut,_t,Dt,lt,Vt,Ht,vr,kr,yr,Sr,Ir,Tr,Gr,rn,nr,ir,Cr,Rr;try{g(A,ne(await To({type:"chatAssist-userMessage",language:"en",queryId:je==null?void 0:je.queryId,actionId:((st=a(A))==null?void 0:st.actionId)??0,retryCount:((Ue=a(A))==null?void 0:Ue.retryCount)??0,userQuery:a(u),productDetails:a(A).productDetails??a(N).productDetails,aiResponse:typeof je=="object"&&je!==null?je:{}})));let lr=typeof a(A).systemResponse=="object"?JSON.stringify(a(A).systemResponse):a(A).systemResponse;((Ut=a(A))==null?void 0:Ut.msgType)==="string"?Le(lr,"bot",void 0,(_t=a(A))!=null&&_t.actionId?void 0:((lt=(Dt=a(A))==null?void 0:Dt.aiResponse)==null?void 0:lt.followUpQuestions)??[],(Ht=(Vt=a(A))==null?void 0:Vt.aiResponse)==null?void 0:Ht.feedbackId,(kr=(vr=a(A))==null?void 0:vr.aiResponse)==null?void 0:kr.type,!((yr=a(A))!=null&&yr.actionId),((Sr=a(A))==null?void 0:Sr.inputHint)??null):Le(lr,"bot",(Tr=(Ir=a(A))==null?void 0:Ir.aiResponse)==null?void 0:Tr.queryId,((rn=(Gr=a(A))==null?void 0:Gr.aiResponse)==null?void 0:rn.followUpQuestions)??[],(ir=(nr=a(A))==null?void 0:nr.aiResponse)==null?void 0:ir.feedbackId,(Rr=(Cr=a(A))==null?void 0:Cr.aiResponse)==null?void 0:Rr.type)}catch(lr){console.error("Error sending message:",lr),Le("Sorry, there was an error processing your request.","bot")}finally{M(),requestAnimationFrame(()=>{var lr;(lr=a(f))==null||lr.focus()})}}const Te=je=>{var st;try{const Ue=JSON.parse(je.output);Ue.type==="FAQ"||Ue.type==="Invalid"||Ue.type==="Greetings"?Le(Ue==null?void 0:Ue.answer,"bot",void 0,(Ue==null?void 0:Ue.followUpQuestions)??[],Ue==null?void 0:Ue.feedbackId,Ue==null?void 0:Ue.type):Ue.type==="Action"||Ue.type==="Referrals"?Ue!=null&&Ue.queryId?(Ue==null?void 0:Ue.queryId)===91?Ue!=null&&Ue.needTocallAPI&&((st=Ue==null?void 0:Ue.items)==null?void 0:st.length)==0?Me(Ue):Le(JSON.stringify(Ue),"bot",(Ue==null?void 0:Ue.queryId)??91,(Ue==null?void 0:Ue.followUpQuestions)??[],Ue==null?void 0:Ue.feedbackId,Ue==null?void 0:Ue.type):Me(Ue):Le(Ue==null?void 0:Ue.answer,"bot",void 0,(Ue==null?void 0:Ue.followUpQuestions)??[],Ue==null?void 0:Ue.feedbackId,Ue==null?void 0:Ue.type):Ue.type==="Recommend"?Le(JSON.stringify(Ue),"bot",(Ue==null?void 0:Ue.queryId)??200,(Ue==null?void 0:Ue.followUpQuestions)??[],Ue==null?void 0:Ue.feedbackId,Ue==null?void 0:Ue.type):Ue.type==="ProductComparison"?Le(JSON.stringify(Ue),"bot",(Ue==null?void 0:Ue.queryId)??203,(Ue==null?void 0:Ue.followUpQuestions)??[],Ue==null?void 0:Ue.feedbackId,Ue==null?void 0:Ue.type):Le("Sorry, there was an error processing your request.","bot"),M()}catch(Ue){console.log("error in handleChatoutput",Ue)}},ze=je=>{Le("Sorry, there was an error processing your request.","bot"),M()};async function Fe(){var Ue,Ut;const je=a(p).trim();if(!je)return;const st=a(y).map(({followUpQuestions:_t,...Dt})=>Dt);Le(je,"user"),g(p,""),K();try{T(),g(u,ne(je));const _t=a(N).isSelected?(Ue=kf)==null?void 0:Ue.url:"",Dt=a(N).isSelected?a(N).productDescription:"",lt=tW(st);(Ut=a(o))==null||Ut.sendQuery(a(u),lt,_t,Dt,Vi[a(dt)],Number(Ni))}catch(_t){console.error("Error sending message:",_t),Le("Sorry, there was an error processing your request.","bot")}finally{requestAnimationFrame(()=>{a(f)&&a(f).focus()})}}const Ye=je=>{var Ut,_t;const st=(Ut=Da)==null?void 0:Ut[Ni],Ue=((_t=st==null?void 0:st.currency)==null?void 0:_t[0])||"â‚¹";g(N,ne({isSelected:!0,productDetails:{position:je.pos,prod:je.prod,url:je.link,image:je.image,pid:je.pid,price:je.price,currencySymbol:Ue},productDescription:JSON.stringify(je??{})}))},Je=je=>{je!=null&&je.queryId?(Q(je.text),Le(je.text,"user"),Me({type:"Action",queryId:je.queryId,...je==null?void 0:je.params})):(g(p,ne(je.text)),Fe())},et=je=>{var st;g(u,ne(String(je))),Le(a(u),"user"),Ae(),Me((st=a(A))==null?void 0:st.aiResponse)},Ze=async()=>{var je,st,Ue;try{const Ut=bh(),_t=kh(),Dt=wh(),lt=bg(),Vt=(je=Da)==null?void 0:je[Ni],Ht=((st=Vt==null?void 0:Vt.currency)==null?void 0:st[0])||"â‚¹";if(!Ut||!_t)return;const vr=await R3();vr["Product Price"]=`${Ht}${Dt}`,g(N,ne({isSelected:!0,productDetails:{position:Ni,prod:Ut,url:((Ue=kf)==null?void 0:Ue.url)??"",image:lt??"",pid:_t,price:Dt??0,currencySymbol:Ht},productDescription:vr?JSON.stringify(vr):void 0}))}catch(Ut){console.error("initCurrentProduct error:",Ut)}},Ge=async()=>{try{await s.init(),G(),El.hasState&&El.sessionId?s.getSessions().some(st=>st.id===El.sessionId)?Z(El.sessionId):X():(g(y,ne([])),g(l,null))}catch(je){console.error("Error initializing chat history",je)}},Pe=async()=>{const je=await an("ext_id"),st=await an("ext_auth");!je||!st||(a(o)||(g(o,ne(new KV("https://chattest.buyhatke.com","/chat-socket",je,st,a(D)))),_d=a(o)),a(o).connect(Te,ze))};let We=le(ne({})),He=le(0),nt=le(0);const Qe=async(je,st,Ue)=>{try{const Ut=await To({type:"chatAssist-getPriceGraphPoint",pid:st,pos:je});g(We,ne(Ut.priceGraphData.pointMap??{})),g(He,ne(Ue)),g(nt,ne(je)),g(V,!0)}catch(Ut){console.log("error in handleShowPriceGraph",Ut)}};let rt=le(ne([])),ot=le(ne({}));const Lt=async je=>{var st;try{if(!je.pid||!je.pos)return;const Ue=await To({type:"chatAssist-getCompareList",pid:je.pid,pos:je.pos});g(ot,ne(je)),g(rt,ne(((st=Ue==null?void 0:Ue.compareData)==null?void 0:st.data)??[])),g(F,!0)}catch(Ue){console.log("error in handleShowPriceComp",Ue)}},Et=async je=>{try{(await To({type:"chatAssist-setPriceAlert",productData:je})).status==1&&_a({duration:3e3,description:`Price Alert Set Succesfully for ${je.prod}`})}catch(st){console.log("error in handleSetPriceAlert",st)}};let dt=le("");const wt=async()=>{try{const je=await an("chat-language")??"en";g(dt,ne(je))}catch{}},it=async je=>{try{await Xr("chat-language",je)}catch{}},ht=()=>{var je;(je=a(o))==null||je.disconnect(),_d=null};Zt(async()=>{g(D,ne(await O3())),g(D,ne(String(a(D).id??""))),XV(a(D)),Pe(),Ze(),wt(),await Ge();const je=await To({type:"chatAssist-getAllSites"});g(O,ne((je==null?void 0:je.getAllSitesData)||{})),g(I,ne(new rW({onTranscript:st=>{g(p,ne(st)),g(B,!1)},onError:st=>{g(B,!1)},onStart:()=>{g(B,!0)},onEnd:()=>{g(B,!1)}}))),a(I).initializeVoiceRecognition(!1),g(j,ne(a(I).isVoiceSupported)),window.addEventListener("beforeunload",ht)}),Gn(()=>{var je;(je=a(I))==null||je.destroy(),El={sessionId:a(l),hasState:!0},_d=a(o),window.removeEventListener("beforeunload",ht)});var at=lH(),gt=de(at),Gt=v(gt),Kt=v(Gt);{var sr=je=>{var st=gW(),Ue=x(v(st),2),Ut=v(Ue);{var _t=lt=>{var Vt=ke(),Ht=de(Vt);St(Ht,17,()=>q.productPage,zt,(vr,kr)=>{var yr=vW();yr.__click=[fW,Je,kr];var Sr=v(yr),Ir=v(Sr);ae(()=>Y(Ir,a(kr).text)),b(vr,yr)}),b(lt,Vt)},Dt=lt=>{var Vt=ke(),Ht=de(Vt);St(Ht,17,()=>q.notProductPage,zt,(vr,kr)=>{var yr=pW();yr.__click=[hW,Je,kr];var Sr=v(yr),Ir=v(Sr);ae(()=>Y(Ir,a(kr).text)),b(vr,yr)}),b(lt,Vt)};W(Ut,lt=>{a(N).isSelected?lt(_t):lt(Dt,!1)})}b(je,st)},wr=je=>{var st=MW(),Ue=de(st);St(Ue,17,()=>a(y),zt,(Dt,lt,Vt)=>{var Ht=SW();pe(Ht,"data-message-index",Vt);var vr=v(Ht),kr=v(vr);{var yr=nr=>{const ir=Ne(()=>{var cr;return JSON.parse(((cr=a(lt))==null?void 0:cr.text)??'{items: [], explain: ""}')}),Cr=Ne(()=>{var cr;return((cr=a(ir))==null?void 0:cr.explain)??""}),Rr=Ne(()=>{var cr;return((cr=a(ir))==null?void 0:cr.items)??[]}),lr=Ne(()=>a(we)&&Vt===a(y).length-1);ly(nr,{get explainText(){return a(Cr)},get cardData(){return a(Rr)},handleShowPriceGraph:Qe,handleSetPriceAlert:Et,handleAskAbout:Ye,handleShowPriceComp:Lt,get showAnimation(){return a(lr)},handleTypingComplete:Re})},Sr=nr=>{var ir=ke(),Cr=de(ir);{var Rr=cr=>{var Qt=mW();const Pt=Ne(()=>{var Yt;return JSON.parse(((Yt=a(lt))==null?void 0:Yt.text)??"")});var qt=x(de(Qt),2);pU(qt,{get dealsData(){return a(Pt)},wrapperClass:"w-full border rounded-lg",type:2}),b(cr,Qt)},lr=cr=>{var Qt=ke(),Pt=de(Qt);{var qt=or=>{const dr=Ne(()=>{var on;return JSON.parse(((on=a(lt))==null?void 0:on.text)??"")});kU(or,{get headerText(){return a(dr).explain},get dropPercentage(){return a(dr).priceGraphData},width:114})},Yt=or=>{var dr=ke(),on=de(dr);{var Zr=Pn=>{const pn=Ne(()=>{var wn;return JSON.parse(((wn=a(lt))==null?void 0:wn.text)??"[]")});Wj(Pn,{get coupons(){return a(pn)}})},yn=Pn=>{var pn=ke(),wn=de(pn);{var ta=Nn=>{const Ft=Ne(()=>{var Er;return JSON.parse(((Er=a(lt))==null?void 0:Er.text)??"{}")}),Or=Ne(()=>{var Er;return((Er=a(Ft))==null?void 0:Er.productPrice)??0}),$r=Ne(()=>{var Er;return((Er=a(Ft))==null?void 0:Er.priceGraphData)??[]}),gn=Ne(()=>{var Er;return((Er=a(Ft))==null?void 0:Er.pos)??0});cy(Nn,{get priceGraphData(){return a($r)},get productPrice(){return a(Or)},get pos(){return a(gn)},wrapperClass:"w-full"})},ba=Nn=>{var Ft=ke(),Or=de(Ft);{var $r=Er=>{const Yr=Ne(()=>{var dn;return JSON.parse(((dn=a(lt))==null?void 0:dn.text)??"[]")});oU(Er,{get cardData(){return a(Yr)}})},gn=Er=>{var Yr=ke(),dn=de(Yr);{var ra=wa=>{const Ia=Ne(()=>{var ka;return{currentPrice:i().productDetails.currentPrice,prodUrl:i().productDetails.productLink,cardData:JSON.parse(((ka=a(lt))==null?void 0:ka.text)??"[]")}});ZF(wa,{get data(){return a(Ia)}})},So=wa=>{var Ia=ke(),ka=de(Ia);{var Co=Ka=>{var Yn=ke();const Sa=Ne(()=>{var An;return JSON.parse(((An=a(lt))==null?void 0:An.text)??"{items: []}")});var Ca=de(Yn);{var Zi=An=>{const Xn=Ne(()=>{var Un;return((Un=a(Sa))==null?void 0:Un.explain)??""}),Mi=Ne(()=>{var Un;return((Un=a(Sa))==null?void 0:Un.items)??[]}),ha=Ne(()=>a(we)&&Vt===a(y).length-1);ly(An,{get explainText(){return a(Xn)},get cardData(){return a(Mi)},handleShowPriceGraph:Qe,handleSetPriceAlert:Et,handleAskAbout:Ye,handleShowPriceComp:Lt,get showAnimation(){return a(ha)}})},Aa=An=>{const Xn=Ne(()=>{var ha;return(ha=a(Sa))==null?void 0:ha.data}),Mi=Ne(()=>{var ha;return{link:(ha=a(Sa))==null?void 0:ha.url}});dy(An,{get compareDataArr(){return a(Xn)},get productData(){return a(Mi)}})};W(Ca,An=>{var Xn;(Xn=a(Sa))!=null&&Xn.needTocallAPI?An(Zi):An(Aa,!1)})}b(Ka,Yn)},Xa=Ka=>{var Yn=ke(),Sa=de(Yn);{var Ca=Aa=>{const An=Ne(()=>{var Xn;return{type:"spendResult",cardData:JSON.parse(((Xn=a(lt))==null?void 0:Xn.text)??"")}});Pl(Aa,{get data(){return a(An)},get spendSitesData(){return a(O)}})},Zi=Aa=>{var An=ke(),Xn=de(An);{var Mi=Un=>{const pa=Ne(()=>{var Pi;return{type:"spendResultAll",cardData:JSON.parse(((Pi=a(lt))==null?void 0:Pi.text)??"")}});Pl(Un,{get data(){return a(pa)},get spendSitesData(){return a(O)}})},ha=Un=>{var pa=ke(),Pi=de(pa);{var Ao=Qa=>{const Ta=Ne(()=>{var Wr;return{type:"spendMonthlySummary",cardData:JSON.parse(((Wr=a(lt))==null?void 0:Wr.text)??"")}});Pl(Qa,{get data(){return a(Ta)},get spendSitesData(){return a(O)}})},Mo=Qa=>{var Ta=ke(),Wr=de(Ta);{var vn=en=>{const Vn=Ne(()=>{var Di;return{type:"spendTopResult",cardData:JSON.parse(((Di=a(lt))==null?void 0:Di.text)??"")}});Pl(en,{get data(){return a(Vn)},get spendSitesData(){return a(O)}})},Kn=en=>{var Vn=ke(),Di=de(Vn);{var hs=Ja=>{const Oa=Ne(()=>{var Li;return{type:"spendCompareResult",cardData:JSON.parse(((Li=a(lt))==null?void 0:Li.text)??"")}});Pl(Ja,{get data(){return a(Oa)},get spendSitesData(){return a(O)}})},ps=Ja=>{var Oa=ke(),Li=de(Oa);{var gs=Za=>{var na=xW();const ei=Ne(()=>{var ci;return JSON.parse(((ci=a(lt))==null?void 0:ci.text)??"{}")});var ms=v(na);ae(()=>{var ci;return Y(ms,`You have earned $${a(ei).finalCurrency??""}$${a(ei).totalEarnings||0} . You
								have referred $${((ci=a(ei).arr)==null?void 0:ci.length)||0} friends. Your total rewards balance
								is $${a(ei).finalCurrency??""}$${a(ei).totalEarnings-a(ei).totalRedeemed||0}.`)}),b(Za,na)},eo=Za=>{var na=ke(),ei=de(na);{var ms=Ei=>{const di=Ne(()=>{var qc;return JSON.parse(((qc=a(lt))==null?void 0:qc.text)??"{}")});DU(Ei,{get data(){return a(di)}})},ci=Ei=>{var di=ke(),qc=de(di);{var Fw=xs=>{const Ii=Ne(()=>{var Qn;return JSON.parse(((Qn=a(lt))==null?void 0:Qn.text)??"{}")}),xf=Ne(()=>{var Qn;return((Qn=a(Ii))==null?void 0:Qn.productPrice)??0}),yf=Ne(()=>{var Qn;return((Qn=a(Ii))==null?void 0:Qn.priceGraphData)??[]}),_f=Ne(()=>{var Qn;return((Qn=a(Ii))==null?void 0:Qn.pos)??0});BU(xs,{get priceGraphData(){return a(yf)},get productPrice(){return a(xf)},get pos(){return a(_f)}})},Uw=xs=>{var Ii=yW(),xf=v(Ii);const yf=Ne(()=>{var Qn;return t_(((Qn=a(lt))==null?void 0:Qn.text)??"")}),_f=Ne(()=>{var Qn;return a(we)&&Vt===a(y).length-1&&((Qn=a(lt))==null?void 0:Qn.type)!=="user"});yw(xf,{cls:"text-xs font-medium rounded-lg text-surface-600 break-words w-full inline-block",get content(){return a(yf)},speed:40,get animate(){return a(_f)},onStart:()=>{g(me,!1)},onComplete:()=>{g(we,!1),g(me,!0)}}),b(xs,Ii)};W(qc,xs=>{var Ii;((Ii=a(lt))==null?void 0:Ii.queryId)==205?xs(Fw):xs(Uw,!1)},!0)}b(Ei,di)};W(ei,Ei=>{var di;((di=a(lt))==null?void 0:di.queryId)==203?Ei(ms):Ei(ci,!1)},!0)}b(Za,na)};W(Li,Za=>{var na;((na=a(lt))==null?void 0:na.queryId)==114?Za(gs):Za(eo,!1)},!0)}b(Ja,Oa)};W(Di,Ja=>{var Oa;((Oa=a(lt))==null?void 0:Oa.queryId)==98?Ja(hs):Ja(ps,!1)},!0)}b(en,Vn)};W(Wr,en=>{var Vn;((Vn=a(lt))==null?void 0:Vn.queryId)==97?en(vn):en(Kn,!1)},!0)}b(Qa,Ta)};W(Pi,Qa=>{var Ta;((Ta=a(lt))==null?void 0:Ta.queryId)==95?Qa(Ao):Qa(Mo,!1)},!0)}b(Un,pa)};W(Xn,Un=>{var pa;((pa=a(lt))==null?void 0:pa.queryId)===94?Un(Mi):Un(ha,!1)},!0)}b(Aa,An)};W(Sa,Aa=>{var An;((An=a(lt))==null?void 0:An.queryId)===93?Aa(Ca):Aa(Zi,!1)},!0)}b(Ka,Yn)};W(ka,Ka=>{var Yn;((Yn=a(lt))==null?void 0:Yn.queryId)==91?Ka(Co):Ka(Xa,!1)},!0)}b(wa,Ia)};W(dn,wa=>{var Ia;((Ia=a(lt))==null?void 0:Ia.queryId)==90?wa(ra):wa(So,!1)},!0)}b(Er,Yr)};W(Or,Er=>{var Yr;((Yr=a(lt))==null?void 0:Yr.queryId)===89?Er($r):Er(gn,!1)},!0)}b(Nn,Ft)};W(wn,Nn=>{var Ft;((Ft=a(lt))==null?void 0:Ft.queryId)==84?Nn(ta):Nn(ba,!1)},!0)}b(Pn,pn)};W(on,Pn=>{var pn;((pn=a(lt))==null?void 0:pn.queryId)==81?Pn(Zr):Pn(yn,!1)},!0)}b(or,dr)};W(Pt,or=>{var dr;((dr=a(lt))==null?void 0:dr.queryId)===202?or(qt):or(Yt,!1)},!0)}b(cr,Qt)};W(Cr,cr=>{var Qt;((Qt=a(lt))==null?void 0:Qt.queryId)===201?cr(Rr):cr(lr,!1)},!0)}b(nr,ir)};W(kr,nr=>{var ir;((ir=a(lt))==null?void 0:ir.queryId)===200?nr(yr):nr(Sr,!1)})}var Ir=x(vr,2);{var Tr=nr=>{var ir=wW(),Cr=x(v(ir),2);St(Cr,17,()=>{var Rr;return(Rr=a(lt))==null?void 0:Rr.followUpQuestions},zt,(Rr,lr)=>{var cr=bW();cr.__click=[_W,Je,lr];var Qt=v(cr),Pt=v(Qt);ae(()=>{var qt,Yt;return Y(Pt,`${((qt=a(lr))==null?void 0:qt.text)??""}${((Yt=a(lr))==null?void 0:Yt.queryId)??""}`)}),b(Rr,cr)}),Rt(2,ir,()=>jr,()=>({duration:300,axis:"y"})),b(nr,ir)};W(Ir,nr=>{var ir;a(me)&&((ir=a(lt))!=null&&ir.followUpQuestions)&&a(lt).followUpQuestions.length&&Vt==a(y).length-1&&nr(Tr)})}var Gr=x(Ir,2);{var rn=nr=>{var ir=kW(),Cr=v(ir);Cr.__click=()=>{fe(Vt,"up"),re(a(lt),"",0)};var Rr=v(Cr);{var lr=or=>{Ur(or,{src:N3,alt:"good response",cls:"w-4 h-4"})},cr=or=>{Ur(or,{src:iW,alt:"good response",cls:"w-4 h-4"})};W(Rr,or=>{a(lt).feedback=="up"?or(lr):or(cr,!1)})}var Qt=x(Cr,2);Qt.__click=()=>{fe(Vt,"down"),g(_,ne(a(lt))),L()};var Pt=v(Qt);{var qt=or=>{Ur(or,{src:z3,alt:"bad response",cls:"w-4 h-4"})},Yt=or=>{Ur(or,{src:oW,alt:"bad response",cls:"w-4 h-4"})};W(Pt,or=>{a(lt).feedback=="down"?or(qt):or(Yt,!1)})}b(nr,ir)};W(Gr,nr=>{(Vt!==a(y).length-1||a(me))&&a(lt).type==="bot"&&a(lt).isFinal&&nr(rn)})}ae(()=>{var nr,ir,Cr;$e(Ht,`flex flex-col gap-2 w-full py-2 ${(((nr=a(lt))==null?void 0:nr.type)=="user"?"items-end":"")??""}`),pe(Ht,"data-message-type",(ir=a(lt))==null?void 0:ir.type),$e(vr,Mr(((Cr=a(lt))==null?void 0:Cr.type)=="user"?"rounded-lg shadow-sm p-2 max-w-[90%] bg-primary-100":"w-full"))}),Rt(1,Ht,()=>Hn,()=>({y:10,duration:200})),b(Dt,Ht)});var Ut=x(Ue,2);{var _t=Dt=>{var lt=AW(),Vt=v(lt),Ht=v(Vt);{var vr=kr=>{var yr=CW(),Sr=v(yr);ae(()=>Y(Sr,a(S))),b(kr,yr)};W(Ht,kr=>{a(S)&&kr(vr)})}b(Dt,lt)};W(Ut,Dt=>{a(m)&&Dt(_t)})}b(je,st)};W(Kt,je=>{a(y).length==0?je(sr):je(wr,!1)})}Ar(Gt,je=>g(h,je),()=>a(h));var ft=x(Gt,2),Mt=v(ft);const yt=Ne(()=>!a(ye)||!a(ce));zj(Mt,{get isFlipped(){return a(yt)},front:Ue=>{var Ut=VW(),_t=v(Ut);{var Dt=Vt=>{var Ht=LW(),vr=v(Ht),kr=x(v(vr),2);kr.__click=Ae;var yr=v(kr);Ur(yr,{src:Ds,alt:"back icon",cls:"w-4 h-4 rotate-180"});var Sr=x(vr,2),Ir=v(Sr);Ir.__click=[PW,et];var Tr=x(Ir,2);Tr.__click=[DW,et],b(Vt,Ht)},lt=Vt=>{var Ht=ke(),vr=de(Ht);{var kr=Sr=>{var Ir=NW(),Tr=v(Ir),Gr=x(v(Tr),2);Gr.__click=Ae;var rn=v(Gr);Ur(rn,{src:Ds,alt:"back icon",cls:"w-4 h-4 rotate-180"});var nr=x(Tr,2),ir=v(nr),Cr=v(ir);Cr.__input=[EW,_e,Se],Cr.__keydown=[IW,ge];var Rr=x(Cr,2);Rr.__click=ge;var lr=x(ir,2);{var cr=Pt=>{var qt=TW(),Yt=v(qt);ae(()=>Y(Yt,a(Ee))),b(Pt,qt)};W(lr,Pt=>{a(Ee)&&Pt(cr)})}var Qt=x(nr,4);St(Qt,21,()=>{var Pt;return Object.entries((Pt=a(ce))==null?void 0:Pt.options)},zt,(Pt,qt)=>{let Yt=()=>a(qt)[1];var or=RW();or.__click=[OW,et,Yt];var dr=v(or),on=v(dr);ae(()=>Y(on,Yt().text)),b(Pt,or)}),ae(()=>Rr.disabled=!!a(Ee)||!a(Se)),Ui(Cr,()=>a(Se),Pt=>g(Se,Pt)),b(Sr,Ir)},yr=Sr=>{var Ir=ke(),Tr=de(Ir);{var Gr=rn=>{var nr=UW(),ir=v(nr),Cr=v(ir),Rr=v(Cr),lr=x(Cr,2);lr.__click=Ae;var cr=v(lr);Ur(cr,{src:Ds,alt:"back icon",cls:"w-4 h-4 rotate-180"});var Qt=x(ir,2);Qt.__input=[zW,Ce,be],Qt.__keydown=[BW,Oe,be];var Pt=x(Qt,2);{var qt=dr=>{var on=jW(),Zr=v(on);ae(()=>Y(Zr,a(ve))),b(dr,on)};W(Pt,dr=>{a(ve)&&dr(qt)})}var Yt=x(Pt,2);Yt.__click=[FW,Oe,be];var or=v(Yt);ae(dr=>{var on,Zr,yn;Y(Rr,((on=a(ce))==null?void 0:on.helperText)??"Enter a valid product URL:"),pe(Qt,"placeholder",((Zr=a(ce))==null?void 0:Zr.placeholder)??"https://example.com/product"),Yt.disabled=dr,Y(or,((yn=a(ce))==null?void 0:yn.submitLabel)??"Submit")},[()=>!!a(ve)||!a(be).trim()]),Ui(Qt,()=>a(be),dr=>g(be,dr)),b(rn,nr)};W(Tr,rn=>{var nr;((nr=a(ce))==null?void 0:nr.type)==="productUrl"&&rn(Gr)},!0)}b(Sr,Ir)};W(vr,Sr=>{var Ir;((Ir=a(ce))==null?void 0:Ir.type)==="priceSuggestions"?Sr(kr):Sr(yr,!1)},!0)}b(Vt,Ht)};W(_t,Vt=>{var Ht;((Ht=a(ce))==null?void 0:Ht.type)==="yesno"?Vt(Dt):Vt(lt,!1)})}b(Ue,Ut)},back:Ue=>{var Ut=QW(),_t=de(Ut);{var Dt=Ft=>{var Or=WW(),$r=v(Or),gn=x($r,2),Er=v(gn),Yr=x(gn,2);Yr.__click=[uW,N];var dn=v(Yr);Ur(dn,{src:Hi,alt:"remove selected product",cls:"w-3 h-3"}),ae(ra=>{pe($r,"src",a(N).productDetails.image),pe($r,"alt",a(N).productDetails.prod),Y(Er,ra)},[()=>Na(a(N).productDetails.prod,45)]),Rt(2,Or,()=>Hn,()=>({duration:300,x:-300})),b(Ft,Or)};W(_t,Ft=>{a(N).isSelected&&Ft(Dt)})}var lt=x(_t,2),Vt=v(lt),Ht=v(Vt);Ht.__input=K,Ar(Ht,Ft=>g(f,Ft),()=>a(f));var vr=x(Vt,2),kr=v(vr),yr=v(kr);Ur(yr,{src:k_,alt:"settings icon",cls:"w-6 h-6"});var Sr=x(yr,2),Ir=v(Sr),Tr=v(Ir),Gr=v(Tr),rn=v(Gr);Ur(rn,{src:U_,alt:"language icon",cls:"w-5 h-5 aspect-square"});var nr=x(rn,2),ir=v(nr),Cr=x(Gr,2);Ur(Cr,{src:Ly,alt:"arrow icon",cls:"w-6 h-6 flex-shrink-0"});var Rr=x(Tr,2);St(Rr,21,()=>Object.entries(Vi),zt,(Ft,Or)=>{let $r=()=>a(Or)[0],gn=()=>a(Or)[1];var Er=qW();Er.__click=[HW,dt,$r,it];var Yr=v(Er);ae(()=>{$e(Er,`text-left px-3 py-2 text-sm rounded-md hover:bg-indigo-50 hover:text-indigo-700 ${(a(dt)===$r()?"bg-indigo-50 text-indigo-600 font-semibold":"text-[#151515B2] font-normal")??""}`),Y(Yr,gn())}),b(Ft,Er)});var lr=x(Ir,2),cr=v(lr);cr.__click=[GW,U];var Qt=v(cr),Pt=v(Qt);Xt(Pt,()=>lW);var qt=x(lr,2),Yt=v(qt);Yt.__click=[$W,X];var or=v(Yt),dr=v(or);Xt(dr,()=>nW);var on=x(kr,2),Zr=v(on);Zr.__click=[dW,I,B];var yn=v(Zr);{var Pn=Ft=>{Ur(Ft,{src:sW,alt:"listening",cls:"w-6 h-6 rounded-full",wrapperCls:"text-indigo-600"})},pn=Ft=>{var Or=YW();ae($r=>pe(Or,"src",$r),[()=>chrome.runtime.getURL(aW)]),b(Ft,Or)};W(yn,Ft=>{a(B)?Ft(Pn):Ft(pn,!1)})}var wn=x(Zr,2);wn.__click=Fe;var ta=v(wn);{var ba=Ft=>{var Or=XW();b(Ft,Or)},Nn=Ft=>{var Or=KW();b(Ft,Or)};W(ta,Ft=>{a(m)?Ft(ba):Ft(Nn,!1)})}ae((Ft,Or)=>{pe(Ht,"placeholder",a(B)?"ðŸŽ¤ Listening...":a(N).isSelected?"Ask about this product":"Ask anything"),Ht.disabled=a(m),Y(ir,Vi[a(dt)??"en"]),Zr.disabled=a(m)||a(B)||!a(j),pe(Zr,"title",Ft),wn.disabled=Or},[()=>{var Ft;return((Ft=a(I))==null?void 0:Ft.getVoiceSearchTooltip())??"Voice Search"},()=>!a(p).trim()||a(m)||a(B)]),tt("keypress",Ht,oe),Ui(Ht,()=>a(p),Ft=>g(p,Ft)),b(Ue,Ut)},$$slots:{front:!0,back:!0}});var Bt=x(ft,2);{var jt=je=>{var st=iH(),Ue=v(st);Ue.__click=U;var Ut=x(Ue,2),_t=v(Ut),Dt=x(v(_t),2);Dt.__click=U;var lt=v(Dt);Ur(lt,{src:Hi,alt:"close icon",cls:"w-4 h-4"});var Vt=x(_t,2),Ht=v(Vt);{var vr=Tr=>{var Gr=JW();b(Tr,Gr)},kr=Tr=>{var Gr=aH();St(Gr,21,()=>a(c),zt,(rn,nr)=>{var ir=nH();ir.__click=[ZW,Z,nr],ir.__keydown=[eH,Z,nr];var Cr=v(ir),Rr=v(Cr),lr=v(Rr),cr=x(Rr,2),Qt=v(cr),Pt=x(Cr,2);{var qt=dr=>{var on=tH();b(dr,on)};W(Pt,dr=>{a(l)===a(nr).id&&dr(qt)})}var Yt=x(Pt,2);Yt.__click=[rH,E,nr];var or=v(Yt);Ur(or,{src:Gu,alt:"delete icon",cls:"w-4 h-4"}),ae(dr=>{Y(lr,a(nr).title),Y(Qt,`${dr??""} â€¢ ${a(nr).messages.length??""} msgs`)},[()=>$(a(nr).updatedAt)]),b(rn,ir)}),b(Tr,Gr)};W(Ht,Tr=>{a(c).length?Tr(kr,!1):Tr(vr)})}var yr=x(Vt,2),Sr=v(yr);Sr.__click=X;var Ir=x(Sr,2);Ir.__click=[cW,s,G,l,y,M,d],b(je,st)};W(Bt,je=>{a(d)&&je(jt)})}var gr=x(gt,2);{var xr=je=>{var st=oH(),Ue=v(st);cy(Ue,{get priceGraphData(){return a(We)},get productPrice(){return a(He)},get pos(){return a(nt)},closePriceGraphModal:ee}),b(je,st)};W(gr,je=>{a(V)&&je(xr)})}var rr=x(gr,2);{var fr=je=>{qU(je,{closeFeedbackModal:C,handleFeedbackSubmit:re,get message(){return a(_)}})};W(rr,je=>{a(w)&&je(fr)})}var xt=x(rr,2);{var Pr=je=>{var st=sH(),Ue=v(st);dy(Ue,{get compareDataArr(){return a(rt)},get productData(){return a(ot)},closeModal:se}),b(je,st)};W(xt,je=>{a(F)&&a(rt).length&&je(Pr)})}b(t,at),Ke(),n()}Tt(["click","input","keydown"]);var hh={},ph={},bd={exports:{}},my;function dH(){if(my)return bd.exports;my=1;var t=String,e=function(){return{isColorSupported:!1,reset:t,bold:t,dim:t,italic:t,underline:t,inverse:t,hidden:t,strikethrough:t,black:t,red:t,green:t,yellow:t,blue:t,magenta:t,cyan:t,white:t,gray:t,bgBlack:t,bgRed:t,bgGreen:t,bgYellow:t,bgBlue:t,bgMagenta:t,bgCyan:t,bgWhite:t,blackBright:t,redBright:t,greenBright:t,yellowBright:t,blueBright:t,magentaBright:t,cyanBright:t,whiteBright:t,bgBlackBright:t,bgRedBright:t,bgGreenBright:t,bgYellowBright:t,bgBlueBright:t,bgMagentaBright:t,bgCyanBright:t,bgWhiteBright:t}};return bd.exports=e(),bd.exports.createColors=e,bd.exports}var xy;function uH(){return xy||(xy=1,function(t){var e={};Object.defineProperty(t,"__esModule",{value:!0});function r(d,u){for(var f in u)Object.defineProperty(d,f,{enumerable:!0,get:u[f]})}r(t,{dim:function(){return l},default:function(){return c}});const n=i(dH());function i(d){return d&&d.__esModule?d:{default:d}}let o=new Set;function s(d,u,f){typeof process<"u"&&e.JEST_WORKER_ID||f&&o.has(f)||(f&&o.add(f),console.warn(""),u.forEach(h=>console.warn(d,"-",h)))}function l(d){return n.default.dim(d)}const c={info(d,u){s(n.default.bold(n.default.cyan("info")),...Array.isArray(d)?[d]:[u,d])},warn(d,u){s(n.default.bold(n.default.yellow("warn")),...Array.isArray(d)?[d]:[u,d])},risk(d,u){s(n.default.bold(n.default.magenta("risk")),...Array.isArray(d)?[d]:[u,d])}}}(ph)),ph}var yy;function fH(){return yy||(yy=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});const e=r(uH());function r(o){return o&&o.__esModule?o:{default:o}}function n({version:o,from:s,to:l}){e.default.warn(`${s}-color-renamed`,[`As of Tailwind CSS ${o}, \`${s}\` has been renamed to \`${l}\`.`,"Update your configuration file to silence this warning."])}const i={inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},get lightBlue(){return n({version:"v2.2",from:"lightBlue",to:"sky"}),this.sky},get warmGray(){return n({version:"v3.0",from:"warmGray",to:"stone"}),this.stone},get trueGray(){return n({version:"v3.0",from:"trueGray",to:"neutral"}),this.neutral},get coolGray(){return n({version:"v3.0",from:"coolGray",to:"gray"}),this.gray},get blueGray(){return n({version:"v3.0",from:"blueGray",to:"slate"}),this.slate}}}(hh)),hh}var gh,_y;function vH(){if(_y)return gh;_y=1;let t=fH();return gh=(t.__esModule?t:{default:t}).default,gh}var hH=vH();const hr=Iy(hH);var q0=(t=>(t.LIGHT="midnight",t.PINK="blossom",t.SUNSET="sunset",t.FOREST="forest",t.OCEAN="ocean",t.AURORA="Aurora",t.DARK="obsidian",t.LAVENDER="amethyst",t))(q0||{});const Ow={midnight:{primary:hr.indigo,secondary:hr.yellow,surface:hr.slate,semantic:{red:hr.red,orange:hr.orange,green:hr.green}},sunset:{primary:hr.orange,secondary:hr.purple,surface:hr.slate,semantic:{red:hr.red,orange:hr.amber,green:hr.green}},forest:{primary:hr.green,secondary:hr.amber,surface:hr.slate,semantic:{red:hr.red,orange:hr.orange,green:hr.green}},ocean:{primary:hr.sky,secondary:hr.indigo,surface:hr.slate,semantic:{red:hr.rose,orange:hr.orange,green:hr.teal}},blossom:{primary:hr.rose,secondary:hr.violet,surface:hr.gray,semantic:{red:hr.red,orange:hr.amber,green:hr.emerald}},Aurora:{primary:hr.teal,secondary:hr.cyan,surface:hr.gray,semantic:{red:hr.red,orange:hr.amber,green:hr.emerald}},obsidian:{primary:hr.stone,secondary:hr.yellow,surface:hr.gray,semantic:{red:hr.red,orange:hr.amber,green:hr.emerald}},amethyst:{primary:hr.purple,secondary:hr.yellow,surface:hr.gray,semantic:{red:hr.red,orange:hr.amber,green:hr.emerald}}};function Ss(t,e){const r={};for(const[n,i]of Object.entries(e))r[`--${t}-${n}`]=i;return r}function pH(t){const e=Ow[t];return{name:t,preview:e.primary[600],colors:{...Ss("primary",e.primary),...Ss("secondary",e.secondary),...Ss("surface",e.surface),...Ss("red",e.semantic.red),...Ss("orange",e.semantic.orange),...Ss("green",e.semantic.green)}}}const zo=Object.fromEntries(Object.keys(Ow).map(t=>[t,pH(t)]));function gH(){const{subscribe:t,set:e}=bt(zo[q0.LIGHT]);return(async()=>{try{const n=(await chrome.storage.local.get("theme")).theme;n&&zo[n]&&e(zo[n])}catch(r){console.error("Error loading theme:",r)}})(),{subscribe:t,set:async r=>{try{await chrome.storage.local.set({theme:r.name}),e(r)}catch(n){console.error("Error saving theme:",n)}},reset:async()=>{try{await chrome.storage.local.remove("theme"),e(zo[q0.LIGHT])}catch(r){console.error("Error resetting theme:",r)}}}}const G0=gH();function by(t,e,r){g(e,!0),g(r,"1")}var mH=H('<button class="text-primary-600 hover:text-primary-800 text-sm font-medium cursor-pointer">Login</button>'),xH=H('<div class="flex items-center justify-between"><span class="text-sm font-medium text-surface-700"> </span> <button class="text-primary-600 hover:text-primary-800 text-sm font-medium cursor-pointer">Change</button></div>'),yH=(t,e)=>t.key==="Enter"&&e(t),_H=t=>t.stopPropagation(),bH=t=>t.stopPropagation(),wH=(t,e)=>t.key==="Enter"&&e(),kH=(t,e)=>t.key==="Enter"&&e(),SH=(t,e)=>t.key==="Enter"&&e(),CH=H('<div role="button" tabindex="-1" class="next-visit-dropdown absolute right-0 top-full mt-1 w-32 bg-primary-50 rounded-lg shadow-lg z-50 overflow-hidden"><div class="py-1"><button class="w-full text-left px-3 py-2 text-sm font-medium text-surface-950 hover:bg-primary-100">Next Visit</button> <button class="w-full text-left px-3 py-2 text-sm font-medium text-surface-950 hover:bg-primary-100">1 Day</button> <button class="w-full text-left px-3 py-2 text-sm font-medium text-surface-950 hover:bg-primary-100">1 Week</button></div></div>'),AH=(t,e)=>e(),MH=(t,e)=>t.key==="Enter"&&e(t),PH=t=>t.stopPropagation(),DH=t=>t.stopPropagation(),LH=(t,e)=>t.key==="Enter"&&e(),EH=(t,e)=>t.key==="Enter"&&e(),IH=(t,e)=>t.key==="Enter"&&e(),TH=H('<div role="button" tabindex="-1" class="next-visit-dropdown absolute right-0 top-full mt-1 w-32 bg-primary-50 rounded-lg shadow-lg z-50 overflow-hidden"><div class="py-1"><button class="w-full text-left px-3 py-2 text-sm font-medium text-surface-950 hover:bg-primary-100">Next Visit</button> <button class="w-full text-left px-3 py-2 text-sm font-medium text-surface-950 hover:bg-primary-100">1 Day</button> <button class="w-full text-left px-3 py-2 text-sm font-medium text-surface-950 hover:bg-primary-100">1 Week</button></div></div>'),OH=(t,e)=>e(),RH=()=>{un({selectedOption:""}),Bu(2)},NH=H('<div class="flex flex-col gap-3 text-sm text-surface-950 font-bold py-4">Visibility</div> <div class="flex items-center justify-between"><div class="relative flex-1 flex"><button class="flex items-center gap-2 py-2 cursor-pointer rounded w-full text-left"><span class="text-sm font-medium text-surface-950">Disable for this page Until</span> <div class="flex items-center gap-1"><span class="text-sm text-primary-600 font-medium"> </span> <svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></div></button> <!></div> <label class="relative inline-flex items-center cursor-pointer"><input type="checkbox" class="sr-only peer"> <div class="w-8 h-4 ring-0 outline-none bg-surface-200 rounded-full peer peer-checked:bg-green-600 transition-all duration-300"></div> <div class="absolute left-0.5 peer-checked:left-auto peer-checked:right-0.5 top-0.5 bg-white w-3 h-3 rounded-full transition-all duration-300"></div></label></div> <div class="flex items-center justify-between"><div class="relative flex-1 flex"><button class="flex items-center gap-2 py-2 cursor-pointer rounded w-full text-left"><span class="text-sm font-medium text-surface-950">Disable for this site Until</span> <div class="flex items-center gap-1"><span class="text-sm text-primary-600 font-medium"> </span> <svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></div></button> <!></div> <label class="relative inline-flex items-center cursor-pointer"><input type="checkbox" class="sr-only peer"> <div class="w-8 h-4 ring-0 outline-none bg-surface-200 rounded-full peer peer-checked:bg-green-600 transition-all duration-300"></div> <div class="absolute left-0.5 peer-checked:left-auto peer-checked:right-0.5 top-0.5 bg-white w-3 h-3 rounded-full transition-all duration-300"></div></label></div> <div class="py-3 border-b border-surface-200"><div class="flex items-center justify-between"><span class="text-sm font-medium text-surface-950">Blocked Pages</span> <button class="text-primary-600 hover:text-primary-700 text-sm font-medium cursor-pointer underline">View All</button></div></div>',1),zH=(t,e)=>{g(e,!a(e))},BH=(t,e)=>{g(e,!a(e))},jH=(t,e,r,n,i)=>{g(e,ne(r())),n(i())},FH=H("<button> </button>"),UH=H('<button class="fixed h-screen w-screen left-0 top-0 border-collapse" aria-label="close lang select"></button> <div class="absolute top-[128px] p-2 gap-2 shadow-md shadow-[#1A4CFB3D] rounded-2xl right-3 bg-white z-[999999] w-[200px] overflow-auto h-[320px]"></div>',1),VH=(t,e,r)=>e(a(r)),WH=H('<button><div class="w-8 h-8 rounded-full border"></div> <span class="text-xs capitalize"> </span></button>'),HH=(t,e)=>t.key==="Escape"&&e(),qH=t=>t.stopPropagation(),GH=t=>t.stopPropagation(),$H=(t,e)=>t.key==="Enter"&&e(),YH=(t,e)=>t.key==="Enter"&&e(),XH=H(`<div role="button" tabindex="-1" class="flex items-center justify-center z-[9999] border-0 absolute top-1/2 -translate-y-1/2 w-80 p-0 shadow-xl" aria-labelledby="confirmation-title"><div role="button" tabindex="-1" class="confirmation-modal bg-surface-50 rounded-lg p-3 max-w-md shadow-xl"><div class="text-center"><h3 id="confirmation-title" class="text-sm font-medium text-surface-950"> </h3> <div class="flex gap-3 justify-center"><button class="px-6 py-2 text-xs font-medium bg-primary-400 text-white rounded-lg cursor-pointer">No</button> <button class="px-6 py-2 text-xs font-medium bg-primary-600 text-white rounded-lg cursor-pointer">Yes, I'm Sure</button></div></div></div></div>`),KH=(t,e)=>e("priceHistory",mt.DisablePriceHistory),QH=(t,e)=>e("priceAlert",mt.DisablePriceAlert),JH=(t,e)=>e("spendLens",mt.DisableSpendLens),ZH=(t,e)=>e("coupon",mt.DisableCoupon),eq=(t,e)=>e("autoCoupon",mt.DisableAutoCoupons),tq=(t,e)=>e("recentViews",mt.DisableRecentViews),rq=H('<div class="mt-8"><h2 class="text-xl font-bold text-black mb-4 border-b border-surface-200">Customisation</h2> <div class="flex items-center justify-between py-3"><span>Price History Graph</span> <button aria-label="Toggle price history"><span></span></button></div> <div class="flex items-center justify-between py-3"><span>Price Alert Button</span> <button aria-label="Toggle price alert"><span></span></button></div> <div class="flex items-center justify-between py-3"><span>Spend Lens</span> <button aria-label="Toggle spend lens"><span></span></button></div> <div class="flex items-center justify-between py-3"><span>Coupons & Deals</span> <button aria-label="Toggle coupons"><span></span></button></div> <div class="flex items-center justify-between py-3"><span>Auto Apply Coupons</span> <button aria-label="Toggle auto coupons"><span></span></button></div> <div class="flex items-center justify-between py-3"><span>Recent Views</span> <button aria-label="Toggle recent views"><span></span></button></div></div>'),nq=H('<div class="bg-white p-4 mx-auto"><div class="mb-8"><div class="flex items-center justify-between mb-3"><h2 class="text-xl font-bold text-black">Email Id</h2> <!></div> <!></div> <div><h2 class="text-xl font-bold text-black mb-4 border-b border-surface-200">Settings</h2> <!> <div class="flex flex-col gap-3 text-sm text-surface-950 font-bold py-4">Display</div> <div class="flex items-center justify-between py-3"><span class="text-sm font-medium text-surface-950">Extension Language</span> <button class="flex font-medium text-surface-950 items-center gap-1"> <svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button> <!></div></div> <div><p class="text-sm text-surface-950 font-medium py-4">ðŸŽ¨ Choose Theme</p> <div class="grid grid-cols-4 gap-3"></div></div> <!> <!></div> <!>',1);function aq(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(Fi,"$locale",r),o=()=>ie(fa,"$appStore",r),s=()=>ie(G0,"$currentTheme",r);let l=le(void 0),c=le(!1),d=le(!1),u=le(null),f=le(""),h=le(!1),p=le(void 0),m=le(ne({})),y=le(void 0),_=le(""),S=le("right"),w=le(ne(Vi[i()??"en"])),C=le(!1),L=le(!1),k=le(!1),P=le(!1),z=Ne(()=>o().featureData),T=le(""),M=le("1"),D=le(ne(s().name));const A=Me=>{try{Fi.set(Me),chrome.tabs.query({active:!0,currentWindow:!0},Te=>{Te[0].id&&chrome.tabs.sendMessage(Te[0].id,{type:"LANGUAGE_CHANGED",language:Me})})}catch{}g(k,!1)};Fi.subscribe(Me=>{Me&&g(w,ne(Vi[i()??"en"]))}),Zt(()=>{(async()=>{var Fe;(await chrome.storage.local.get("isVerified")).isVerified&&g(_,ne(((Fe=await chrome.storage.local.get("ext_email"))==null?void 0:Fe.ext_email)??"")),await Promise.all([...hasEmail?[]:[$()],ee()]),await Dy();const ze=await an("minimiseSideBar");ze&&typeof ze=="object"&&g(m,ne(ze))})();const Me=Te=>{var Fe,Ye;const ze=Te.target;if(a(c)&&a(l)){const Je=(Fe=a(l).parentElement)==null?void 0:Fe.querySelector(".disable-for-page-dropdown");!a(l).contains(ze)&&!(Je!=null&&Je.contains(ze))&&g(c,!1)}if(a(d)&&a(y)){const Je=(Ye=a(y).parentElement)==null?void 0:Ye.querySelector(".disable-for-site-dropdown");!a(y).contains(ze)&&!(Je!=null&&Je.contains(ze))&&g(d,!1)}a(h)&&a(p)&&(a(p).contains(ze)||Q())};return document.addEventListener("click",Me),()=>{document.removeEventListener("click",Me)}}),mr(()=>{g(S,ne(o().position))});const O=Me=>{G0.set(zo[Me]),g(D,ne(Me)),vt("theme-change",{theme:Me})};function I(Me){Me.stopPropagation(),g(d,!a(d))}function B(Me){Me.stopPropagation(),g(c,!a(c))}const j=()=>{g(u,"next-visit"),g(f,"Are you Sure you want to disable Buyhatke for this page until the next visit?"),g(c,!1)},V=()=>{g(u,"next-visit"),g(f,"Are you Sure you want to disable Buyhatke for this site until the next visit?"),g(d,!1)},F=()=>{g(u,"disable-page-1d"),g(f,"Are you Sure you want to disable Buyhatke for this page for 1 day?"),g(c,!1)},N=()=>{g(u,"disable-site-1d"),g(f,"Are you Sure you want to disable Buyhatke for this site for 1 day?"),g(d,!1)},q=()=>{g(u,"disable-page-1w"),g(f,"Are you Sure you want to disable Buyhatke for this page for 1 week?"),g(c,!1)},G=()=>{g(u,"disable-site-1w"),g(f,"Are you Sure you want to disable Buyhatke for this site for 1 week?"),g(d,!1)},Q=()=>{g(h,!1),g(u,""),g(f,""),g(c,!1),g(d,!1)},Z=()=>{if(!a(u))return;let Me=window.location.href;Me=Me.split("&")[0];let Te;const ze=new URL(Me);switch(a(u)){case"next-visit":da("1day"),un({selectedOption:""}),vt(mt.DisablePageUntillNextVisit,{});break;case"disable-page-1d":let Fe=Date.now()+24*60*60*1e3;Te=Me,Xr("minimiseSideBar",{...a(m),[Te]:{expiry:Fe}}),g(m,ne({...a(m),[Te]:{expiry:Fe}})),da("1day"),un({selectedOption:""}),vt(mt.DisablePageUntillOneDay,{});break;case"disable-page-1w":let Ye=Date.now()+7*24*60*60*1e3;Te=Me,Xr("minimiseSideBar",{...a(m),[Te]:{expiry:Ye}}),g(m,ne({...a(m),[Te]:{expiry:Ye}})),da("7days"),un({selectedOption:""}),vt(mt.DisablePageUntillOneWeek,{});break;case"disable-site-1d":let Je=Date.now()+24*60*60*1e3;Te=ze.origin,Xr("minimiseSideBar",{...a(m),[Te]:{expiry:Je}}),g(m,ne({...a(m),[Te]:{expiry:Je}})),da("1day"),un({selectedOption:""}),vt(mt.DisableSiteUntillOneDay,{});break;case"disable-site-1w":let et=Date.now()+7*24*60*60*1e3;Te=ze.origin,Xr("minimiseSideBar",{...a(m),[Te]:{expiry:et}}),g(m,ne({...a(m),[Te]:{expiry:et}})),da("7days"),un({selectedOption:""}),vt(mt.DisableSiteUntillOneWeek,{});break}g(h,!1),g(u,null),g(f,"")};function E(){a(u)||V(),g(L,!a(L)),g(h,!0)}function U(){a(u)||j(),g(C,!a(C)),g(h,!0)}const $=async()=>{try{const{status:Me,data:Te}=await Fr({type:"checkLogin"});Me&&(g(_,ne(Te.email_id)),await Xr("ext_email",Te.email_id),await Xr("isVerified",1))}catch{}},ee=async()=>{try{const{status:Me,data:Te}=await Fr({type:"checkTelegramConnectStatus"});Me&&Te.connectStatus&&g(T,ne(Te.userName))}catch{}},se=(Me,Te=null)=>{Te&&a(z)[Me]&&vt(Te,{}),ti({featureData:{...a(z),[Me]:!a(z)[Me]}})};var oe=nq(),K=de(oe),J=v(K),te=v(J),X=x(v(te),2);{var re=Me=>{var Te=mH();Te.__click=[by,P,M],b(Me,Te)};W(X,Me=>{a(_)||Me(re)})}var fe=x(te,2);{var ue=Me=>{var Te=xH(),ze=v(Te),Fe=v(ze),Ye=x(ze,2);Ye.__click=[by,P,M],ae(()=>Y(Fe,a(_))),b(Me,Te)};W(fe,Me=>{a(_)&&Me(ue)})}var xe=x(J,2),we=x(v(xe),2);{var me=Me=>{var Te=NH(),ze=x(de(Te),2),Fe=v(ze),Ye=v(Fe);Ye.__click=B,Ye.__keydown=[yH,B];var Je=x(v(Ye),2),et=v(Je),Ze=v(et),Ge=x(et,2);Ar(Ye,wr=>g(l,wr),()=>a(l));var Pe=x(Ye,2);{var We=wr=>{var ft=CH();ft.__click=[_H],ft.__keydown=[bH];var Mt=v(ft),yt=v(Mt);yt.__click=j,yt.__keydown=[wH,j];var Bt=x(yt,2);Bt.__click=F,Bt.__keydown=[kH,F];var jt=x(Bt,2);jt.__click=q,jt.__keydown=[SH,q],b(wr,ft)};W(Pe,wr=>{a(c)&&wr(We)})}var He=x(Fe,2),nt=v(He);nt.__change=[AH,U];var Qe=x(ze,2),rt=v(Qe),ot=v(rt);ot.__click=I,ot.__keydown=[MH,I];var Lt=x(v(ot),2),Et=v(Lt),dt=v(Et),wt=x(Et,2);Ar(ot,wr=>g(y,wr),()=>a(y));var it=x(ot,2);{var ht=wr=>{var ft=TH();ft.__click=[PH],ft.__keydown=[DH];var Mt=v(ft),yt=v(Mt);yt.__click=V,yt.__keydown=[LH,V];var Bt=x(yt,2);Bt.__click=N,Bt.__keydown=[EH,N];var jt=x(Bt,2);jt.__click=G,jt.__keydown=[IH,G],b(wr,ft)};W(it,wr=>{a(d)&&wr(ht)})}var at=x(rt,2),gt=v(at);gt.__change=[OH,E];var Gt=x(Qe,2),Kt=v(Gt),sr=x(v(Kt),2);sr.__click=[RH],ae(()=>{Y(Ze,a(u)==="next-visit"?"Next Visit":a(u)==="disable-page-1d"?"1 Day":a(u)==="disable-page-1w"?"1 Week":"Next Visit"),qa(Ge,`w-4 h-4 text-surface-400 transition-transform ${(a(c)?"rotate-180":"")??""}`),Y(dt,a(u)==="next-visit"?"Next Visit":a(u)==="disable-site-1d"?"1 Day":a(u)==="disable-site-1w"?"1 Week":"Next Visit"),qa(wt,`w-4 h-4 text-surface-400 transition-transform ${(a(d)?"rotate-180":"")??""}`)}),gg(nt,()=>a(C),wr=>g(C,wr)),gg(gt,()=>a(L),wr=>g(L,wr)),b(Me,Te)};W(we,Me=>{Nt()||Me(me)})}var ce=x(we,4),ye=x(v(ce),2);ye.__click=[zH,k];var be=v(ye),ve=x(be),Se=x(ye,2);{var Ee=Me=>{var Te=UH(),ze=de(Te);ze.__click=[BH,k];var Fe=x(ze,2);St(Fe,21,()=>Object.entries(Vi),zt,(Ye,Je)=>{let et=()=>a(Je)[0],Ze=()=>a(Je)[1];var Ge=FH();Ge.__click=[jH,w,Ze,A,et];var Pe=v(Ge);ae(()=>{$e(Ge,`mb-1 ${(a(w)===Ze()?"bg-primary-50 text-primary-600 rounded-lg font-extrabold":"font-normal text-[#151515B2]")??""} px-5 py-3 text-sm w-full hover:bg-primary-100 hover:text-primary-800 hover:rounded-lg`),Y(Pe,Ze())}),b(Ye,Ge)}),b(Me,Te)};W(Se,Me=>{a(k)&&Me(Ee)})}var Be=x(xe,2),Ae=x(v(Be),2);St(Ae,21,()=>Object.keys(zo),zt,(Me,Te)=>{var ze=WH();ze.__click=[VH,O,Te];var Fe=v(ze),Ye=x(Fe,2),Je=v(Ye);ae(()=>{$e(ze,`flex flex-col items-center justify-center gap-1 px-3 py-2 rounded-xl border transition-all
					${(a(D)===a(Te)?"border-primary-300 bg-primary-50":"border-surface-300 hover:border-surface-400")??""}`),pe(Fe,"style",`background-color: ${zo[a(Te)].preview??""};`),Y(Je,a(Te))}),b(Me,ze)});var Ce=x(Be,2);{var _e=Me=>{var Te=XH();Te.__click=Q,Te.__keydown=[HH,Q];var ze=v(Te);ze.__click=[qH],ze.__keydown=[GH];var Fe=v(ze),Ye=v(Fe),Je=v(Ye),et=x(Ye,2),Ze=v(et);Ze.__click=Q,Ze.__keydown=[$H,Q];var Ge=x(Ze,2);Ge.__click=Z,Ge.__keydown=[YH,Z],Ar(Te,Pe=>g(p,Pe),()=>a(p)),ae(()=>Y(Je,a(f))),b(Me,Te)};W(Ce,Me=>{a(h)&&Me(_e)})}var ge=x(Ce,2);{var Oe=Me=>{var Te=rq(),ze=x(v(Te),2),Fe=v(ze),Ye=x(Fe,2);Ye.__click=[KH,se];var Je=v(Ye),et=x(ze,2),Ze=v(et),Ge=x(Ze,2);Ge.__click=[QH,se];var Pe=v(Ge),We=x(et,2),He=v(We),nt=x(He,2);nt.__click=[JH,se];var Qe=v(nt),rt=x(We,2),ot=v(rt),Lt=x(ot,2);Lt.__click=[ZH,se];var Et=v(Lt),dt=x(rt,2),wt=v(dt),it=x(wt,2);it.__click=[eq,se];var ht=v(it),at=x(dt,2),gt=v(at),Gt=x(gt,2);Gt.__click=[tq,se];var Kt=v(Gt);ae(()=>{var sr,wr,ft,Mt,yt,Bt,jt,gr,xr,rr,fr,xt;$e(Fe,`text-sm ${(a(z).priceHistory?"text-surface-950":"text-surface-500")??""}`),$e(Ye,`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${((sr=a(z))!=null&&sr.priceHistory?"bg-primary-600":"bg-surface-600")??""}`),$e(Je,`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${((wr=a(z))!=null&&wr.priceHistory?"translate-x-5":"translate-x-1")??""}`),$e(Ze,`text-sm ${(a(z).priceAlert?"text-surface-950":"text-surface-500")??""}`),$e(Ge,`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${((ft=a(z))!=null&&ft.priceAlert?"bg-primary-600":"bg-surface-600")??""}`),$e(Pe,`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${((Mt=a(z))!=null&&Mt.priceAlert?"translate-x-5":"translate-x-1")??""}`),$e(He,`text-sm ${(a(z).spendLens?"text-surface-950":"text-surface-500")??""}`),$e(nt,`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${((yt=a(z))!=null&&yt.spendLens?"bg-primary-600":"bg-surface-600")??""}`),$e(Qe,`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${((Bt=a(z))!=null&&Bt.spendLens?"translate-x-5":"translate-x-1")??""}`),$e(ot,`text-sm ${(a(z).coupon?"text-surface-950":"text-surface-500")??""}`),$e(Lt,`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${((jt=a(z))!=null&&jt.coupon?"bg-primary-600":"bg-surface-600")??""}`),$e(Et,`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${((gr=a(z))!=null&&gr.coupon?"translate-x-5":"translate-x-1")??""}`),$e(wt,`text-sm ${(a(z).autoCoupon?"text-surface-950":"text-surface-500")??""}`),$e(it,`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${((xr=a(z))!=null&&xr.autoCoupon?"bg-primary-600":"bg-surface-600")??""}`),$e(ht,`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${((rr=a(z))!=null&&rr.autoCoupon?"translate-x-5":"translate-x-1")??""}`),$e(gt,`text-sm ${(a(z).recentViews?"text-surface-950":"text-surface-500")??""}`),$e(Gt,`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${((fr=a(z))!=null&&fr.recentViews?"bg-primary-600":"bg-surface-600")??""}`),$e(Kt,`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${((xt=a(z))!=null&&xt.recentViews?"translate-x-5":"translate-x-1")??""}`)}),b(Me,Te)};W(ge,Me=>{Nt()&&Me(Oe)})}var Le=x(K,2);{var Re=Me=>{Pc(Me,{get isVisible(){return a(P)},closeModal:()=>{g(P,!1)},get emailId(){return a(_)},get telegramUserName(){return a(T)},get connectMethod(){return a(M)},comingFromAccount:!0})};W(Le,Me=>{a(P)&&Me(Re)})}ae(()=>{Y(be,`${a(w)??""} `),qa(ve,`w-4 h-4 text-surface-400 transition-transform ${(a(k)?"rotate-180":"")??""}`)}),b(t,oe),Ke(),n()}Tt(["click","keydown","change"]);const Iu="/assets/closeIconBlack-DZht4dRV.svg",iq="/assets/priceUpIcon-VcWDXWFo.svg",oq="/assets/priceDownIcon-BtWO94dz.svg",sq=async(t,e,r,n,i)=>{a(e)===1?(g(e,-1),g(r,ne([])),g(n,ne([])),await Xr("rememberRecentView",a(e)),await Xr("recentViewList",{global:[],pos:{}}),Fr({type:"fireEvent",eventName:"toggleRecectViewTurnedOff"})):(g(e,1),await Xr("rememberRecentView",a(e)),i(),Fr({type:"fireEvent",eventName:"toggleRecectViewTurnedOn"}))};function lq(t,e,r){g(e,ne([])),r()}var cq=(t,e,r)=>e(a(r)),dq=(t,e,r)=>{t.stopPropagation(),e(a(r))},uq=H('<button class="cursor-pointer text-surface-950 absolute -top-3 -right-1 p-1 bg-white border rounded-full svelte-1ylytmo" aria-label="close icon"><img alt="remove icon" class="w-3 h-3 svelte-1ylytmo"></button>'),fq=H('<div class="relative mt-3 svelte-1ylytmo"><button> </button> <!></div>'),vq=H('<button class="flex items-center px-3 py-1 text-sm rounded-full border bg-surface-200 text-surface-800 hover:bg-surface-300 whitespace-nowrap mt-3 svelte-1ylytmo">Clear All</button>'),hq=H('<div class="flex flex-col sticky top-0 pt-1 z-20 bg-white -mx-4 px-4 svelte-1ylytmo"><div class="text-sm font-medium text-surface-600 svelte-1ylytmo">Filter by site:</div> <div class="flex overflow-auto gap-2 scroll-hide svelte-1ylytmo"><!> <!></div></div>'),pq=H('<div class="absolute -bottom-3 right-0 bg-danger-500 rounded-l-sm svelte-1ylytmo"><p class="text-xs font-medium text-white px-2 py-1 svelte-1ylytmo">Out of stock</p></div>'),gq=H('<!> <span class="text-red-500 svelte-1ylytmo"> </span>',1),mq=H('<!> <span class="text-green-500 svelte-1ylytmo"> </span>',1),xq=(t,e,r)=>{t.preventDefault(),t.stopPropagation(),e(a(r))},yq=H('<div class="relative svelte-1ylytmo"><a target="_blank" rel="noopener noreferrer" class="border rounded-xl shadow-sm hover:shadow-md transition-all duration-200 bg-white group flex flex-col items-start relative h-full svelte-1ylytmo"><div class="h-36 max-h-36 relative border-b mx-auto w-full svelte-1ylytmo"><!> <img class="w-6 h-6 shadow-sm rounded-full border absolute -bottom-3 left-1 svelte-1ylytmo"> <!></div> <div class="p-3 mt-2 flex flex-col justify-between h-full w-full svelte-1ylytmo"><h3 class="text-sm font-semibold line-clamp-2 mb-1 text-primary-600 group-hover:underline svelte-1ylytmo"> </h3> <div class="flex justify-between svelte-1ylytmo"><p class="text-sm text-surface-700 font-bold svelte-1ylytmo"> </p> <p class="text-sm text-surface-700 font-bold flex gap-1 items-center h-full svelte-1ylytmo"><!></p></div></div></a> <button class="absolute -top-3 -right-3 z-10 bg-primary-100 border rounded-full flex items-center justify-center text-xs group p-1 svelte-1ylytmo" aria-label="Remove item"><span class="hidden group-hover:block text-primary-600 hover:text-primary-800 text-xs font-medium pl-2 pr-1 whitespace-nowrap svelte-1ylytmo">Remove from List</span> <img alt="remove icon" class="w-4 h-4 svelte-1ylytmo"></button></div>'),_q=H('<div class="grid grid-cols-2 gap-4 pr-2 mb-4 pb-6 svelte-1ylytmo"></div>'),bq=H('Turn on <strong class="svelte-1ylytmo">Remember recent views</strong> to see your recently viewed items here!',1),wq=H('<p class="text-sm text-surface-500 italic svelte-1ylytmo"><!></p>'),kq=H('<div class="p-4 h-full space-y-6 scroll-hide svelte-1ylytmo"><div class="px-4 py-2 rounded border border-yellow-300 bg-yellow-100 text-surface-950 text-sm font-medium svelte-1ylytmo">âš ï¸ Your data stays on your device and is <strong class="svelte-1ylytmo">not shared externally</strong></div> <div class="flex justify-between items-center gap-2 mb-2 svelte-1ylytmo"><span class="font-medium svelte-1ylytmo">Remember recent views</span> <button aria-label="Toggle Price History Graph"><span></span></button></div> <!> <!></div>');function Sq(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(fn,"$nonPersistAppStore",r);let o=le(ne([])),s=le(ne([])),l=le(ne([])),c=le(0);const d=async()=>{const D=await an("rememberRecentView");g(c,ne([-1,1].includes(D)?D:0))};async function u(D){try{let A=[];D.forEach(B=>{const{pos:j,pid:V}=B;j>0&&V&&A.push([j,V])});const{status:O,data:I}=await Fr({type:"getPriceData",priceMap:A});if(O===1&&I){const B={};Object.keys(I).forEach(j=>{const V=j.split("~**~")[1],{price:F,oos:N}=JSON.parse(I[j]);B[V]={price:F,oos:N}}),D=D.map(j=>{var F,N,q;const{pid:V}=j;return B[V]&&((F=B[V])!=null&&F.price)&&(j.currPrice=+(((N=B[V])==null?void 0:N.price)??0),j.oos=+(((q=B[V]||B[PID])==null?void 0:q.oos)??0)),j})}return D}catch{return D}}const f=async D=>{if(!D)return[];let A=i().siteDetails.pos,O=[];if(Array.isArray(D.global)&&O.push(...D.global),D.pos&&typeof D.pos=="object")for(const I in D.pos)Array.isArray(D.pos[I])&&O.push(...D.pos[I]);return O=await u(O),O.sort((I,B)=>{var q,G;const j=String(I.pos)==A?1:0,V=String(B.pos)==A?1:0;if(j!==V)return V-j;const F=I!=null&&I.lastVisited?(q=new Date(I==null?void 0:I.lastVisited))==null?void 0:q.getTime():0;return(B!=null&&B.lastVisited?(G=new Date(B==null?void 0:B.lastVisited))==null?void 0:G.getTime():0)-F}),O},h=async()=>{try{const D=await an("recentViewList"),A=await f(D);g(o,ne(A)),g(s,ne(A))}catch{g(o,ne([])),g(s,ne([]))}},p=()=>{const D=a(o).map(A=>A.siteName).filter(Boolean);return[...new Set(D)]};function m(D){let A=[...a(l)];A.includes(D)?A=A.filter(O=>O!==D):A.push(D),g(l,ne(A)),y()}function y(){a(l).length===0?g(s,ne(a(o))):g(s,ne(a(o).filter(D=>a(l).includes(D.siteName))))}async function _(D){var O;g(s,ne(a(s).filter(I=>I.pid!==D.pid))),g(o,ne(a(o).filter(I=>I.pid!==D.pid)));const A=await an("recentViewList")||{global:[],pos:{}};if(A.global=((O=A.global)==null?void 0:O.filter(I=>I.pid!==D.pid))||[],A.pos&&typeof A.pos=="object")for(const I in A.pos)A.pos[I]=A.pos[I].filter(B=>B.pid!==D.pid);await Xr("recentViewList",A)}Zt(async()=>{await d(),a(c)===1&&h()});var S=kq(),w=x(v(S),2),C=x(v(w),2);C.__click=[sq,c,s,o,h];var L=v(C),k=x(w,2);{var P=D=>{var A=hq(),O=x(v(A),2),I=v(O);St(I,17,p,zt,(V,F)=>{var N=fq(),q=v(N);q.__click=[cq,m,F];var G=v(q),Q=x(q,2);{var Z=E=>{var U=uq();U.__click=[dq,m,F];var $=v(U);ae(ee=>pe($,"src",ee),[()=>chrome.runtime.getURL(Iu)]),b(E,U)};W(Q,E=>{a(l).includes(a(F))&&E(Z)})}ae(E=>{$e(q,`px-3 py-1 text-sm rounded-full border transition-colors duration-200 whitespace-nowrap
						${E??""} svelte-1ylytmo`),Y(G,a(F))},[()=>a(l).includes(a(F))?"bg-primary-600 text-white border-primary-600":"bg-white text-surface-700 border-surface-300 hover:bg-surface-100"]),b(V,N)});var B=x(I,2);{var j=V=>{var F=vq();F.__click=[lq,l,y],b(V,F)};W(B,V=>{a(l).length>0&&V(j)})}b(D,A)};W(k,D=>{p().length>0&&D(P)})}var z=x(k,2);{var T=D=>{var A=_q();St(A,21,()=>a(s),zt,(O,I)=>{var B=yq();const j=Ne(()=>{var ue,xe,we,me;return((ue=a(I))==null?void 0:ue.locale)??((me=(we=Da)==null?void 0:we[(xe=a(I))==null?void 0:xe.pos])==null?void 0:me.countryCode)});var V=v(B),F=v(V),N=v(F);const q=Ne(()=>a(I).image||a(I).siteLogo);Wu(N,{get src(){return a(q)},get alt(){return a(I).prod},cls:"h-36 max-h-36 w-full mx-auto object-contain rounded-t-xl bg-surface-50 p-2 group-hover:opacity-90"});var G=x(N,2),Q=x(G,2);{var Z=ue=>{var xe=pq();b(ue,xe)};W(Q,ue=>{var xe;(xe=a(I))!=null&&xe.oos&&ue(Z)})}var E=x(F,2),U=v(E),$=v(U),ee=x(U,2),se=v(ee),oe=v(se),K=x(se,2),J=v(K);{var te=ue=>{var xe=ke(),we=de(xe);{var me=ye=>{var be=gq(),ve=de(be);Ur(ve,{src:iq,alt:"price increased",cls:"w-4 h-4"});var Se=x(ve,2),Ee=v(Se);ae(Be=>Y(Ee,`${a(I).currency||"â‚¹"}${Be??""}`),[()=>{var Be;return kn(((Be=a(I))==null?void 0:Be.currPrice)-a(I).price,{max:0,locale:a(j),notation:"compact"})}]),b(ye,be)},ce=ye=>{var be=ke(),ve=de(be);{var Se=Ee=>{var Be=mq(),Ae=de(Be);Ur(Ae,{src:oq,alt:"price decreased",cls:"w-4 h-4"});var Ce=x(Ae,2),_e=v(Ce);ae(ge=>Y(_e,`${a(I).currency||"â‚¹"}${ge??""}`),[()=>{var ge;return kn(a(I).price-((ge=a(I))==null?void 0:ge.currPrice),{max:0,locale:a(j),notation:"compact"})}]),b(Ee,Be)};W(ve,Ee=>{var Be;((Be=a(I))==null?void 0:Be.currPrice)<a(I).price-1&&Ee(Se)},!0)}b(ye,be)};W(we,ye=>{var be;((be=a(I))==null?void 0:be.currPrice)>a(I).price+1?ye(me):ye(ce,!1)})}b(ue,xe)};W(J,ue=>{var xe;(xe=a(I))!=null&&xe.currPrice&&a(I).price&&ue(te)})}var X=x(V,2);X.__click=[xq,_,I];var re=v(X),fe=x(re,2);ae((ue,xe)=>{pe(V,"href",a(I).prodUrl),pe(G,"src",a(I).siteLogo),pe(G,"alt",a(I).siteName),Y($,a(I).prod),Y(oe,`${a(I).currency||"â‚¹"}${ue??""}`),pe(fe,"src",xe)},[()=>{var ue;return kn(((ue=a(I))==null?void 0:ue.currPrice)||a(I).price,{max:2,locale:a(j)})},()=>chrome.runtime.getURL(Iu)]),Rt(1,re,()=>jr,()=>({duration:300,axis:"x"})),b(O,B)}),b(D,A)},M=D=>{var A=wq(),O=v(A);{var I=j=>{var V=bq();b(j,V)},B=j=>{var V=Wt("No recently viewed items found.");b(j,V)};W(O,j=>{a(c)!==1?j(I):j(B,!1)})}b(D,A)};W(z,D=>{a(s).length>0?D(T):D(M,!1)})}ae(()=>{$e(C,`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 ${(a(c)===1?"bg-primary-600 focus:ring-primary-500":"bg-surface-600 focus:ring-surface-600")??""} svelte-1ylytmo`),$e(L,`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${(a(c)===1?"translate-x-5":"translate-x-1")??""} svelte-1ylytmo`)}),b(t,S),Ke(),n()}Tt(["click"]);var Cq=H('<img class="rounded-md object-cover">'),Aq=(t,e,r)=>e(a(r).cta),Mq=H('<button class="text-xs font-semibold text-primary-600 hover:text-primary-800 w-fit flex items-center gap-1 mt-1 transition-colors"> <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg></button>'),Pq=H('<div class="flex gap-4"><div class="w-[120px] h-[104px] flex-shrink-0 rounded-lg bg-gray-100"><!></div> <div class="flex flex-col gap-2"><p class="text-xs font-medium px-2 py-1 rounded-md w-fit bg-primary-100 text-primary-600"> </p> <div class="flex flex-col gap-1"><p class="text-sm font-medium text-surface-950 line-clamp-2"> </p> <p class="text-xs font-medium text-surface-600 line-clamp-3"> </p> <!></div></div></div>'),Dq=H('<div class="overflow-y-auto scroll-hide flex flex-col flex-grow gap-6 pr-2"></div>'),Lq=H('<div class="p-4 h-full flex flex-col gap-4 bg-white"><!></div>');function Eq(t,e){Xe(e,!0);const r={overall:{items:[{tag:"Chat AI",heading:"Shop Smarter with AI",description:"Chat with AI to discover best prices, product alternatives, and money-saving options.",image:"https://compare.buyhatke.com/assets/img/whatsNew/chatai.png",cta:{type:1,label:"Try Chat AI",feature:"chat"}},{tag:"Gift Card",heading:"Get Flat 13.5% Discount",description:"Redeem gift cards at checkout on Dominoâ€™s to unlock discounts and save more.",image:"https://compare.buyhatke.com/assets/img/whatsNew/giftVoucher.png"},{tag:"Ride Comparison",heading:"Compare Cab Prices",description:"Check fares from Ola, Uber, and Rapido to find the best price before booking.",image:"https://compare.buyhatke.com/assets/img/whatsNew/rideCompare.png",cta:{type:2,label:"Compare Now",link:"https://buyhatke.com/ride-comparison"}},{tag:"Recent Views",heading:"Never Miss Products Again",description:"Enable recent views to quickly revisit products you've checked out.",image:"https://compare.buyhatke.com/assets/img/whatsNew/recentView.png",cta:{type:1,label:"Turn On",feature:"recentViews"}},{tag:"Themes",heading:"Customize Your Extension",description:"Choose from multiple themes to personalize your experience and match your style.",image:"https://compare.buyhatke.com/assets/img/whatsNew/themes.png",cta:{type:1,label:"Try Themes",feature:"settings"}}]}},n=d=>{d&&Object.keys(ap).includes(d)&&un({selectedOption:d})},i=d=>{d&&window&&window.open(d,"_blank")},o=d=>{vt("whatsNewCtaClicked",{ctaLabel:d==null?void 0:d.label}),d.type==1?n(d.feature):d.type==2&&i(d.link)};var s=Lq(),l=v(s);{var c=d=>{var u=Dq();const f=Ne(()=>r.overall.items);St(u,21,()=>a(f),zt,(h,p)=>{var m=Pq(),y=v(m),_=v(y);{var S=O=>{var I=Cq();ae(()=>{pe(I,"src",a(p).image),pe(I,"alt",a(p).heading)}),b(O,I)};W(_,O=>{a(p).image&&O(S)})}var w=x(y,2),C=v(w),L=v(C),k=x(C,2),P=v(k),z=v(P),T=x(P,2),M=v(T),D=x(T,2);{var A=O=>{var I=Mq();I.__click=[Aq,o,p];var B=v(I);ae(()=>Y(B,`${a(p).cta.label??""} `)),b(O,I)};W(D,O=>{a(p).cta&&O(A)})}ae(()=>{Y(L,a(p).tag),Y(z,a(p).heading),Y(M,a(p).description)}),b(h,m)}),Rt(1,u,()=>Hn,()=>({delay:300,x:-100,duration:300})),Rt(2,u,()=>Hn,()=>({x:-100,duration:300})),b(d,u)};W(l,d=>{d(c)})}b(t,s),Ke()}Tt(["click"]);const Iq="/assets/officialSiteIcon-DJ0U6Esz.svg";var Tq=(t,e)=>_o(6,e.item),Oq=H('<span class="absolute top-0 right-0"><img alt="official site"></span>'),Rq=H('<span class="text-xs font-bold text-primary-600 absolute right-[1px] bottom-[1px] px-2 py-1 bg-surface-50 rounded-tl-lg rounded-br-[7px]"> </span>'),Nq=H('<span class="text-xs font-bold text-primary-600 absolute right-[1px] bottom-[1px] px-2 py-1 bg-surface-50 rounded-tl-lg rounded-br-[7px]"> </span>'),zq=H('<span class="text-xs font-bold text-primary-600 absolute right-[1px] bottom-[1px] px-2 py-1 bg-surface-50 rounded-tl-lg rounded-br-[7px]"> </span>'),Bq=H('<span class="text-xs font-bold text-primary-600 absolute right-[1px] top-[1px] px-2 py-1 bg-surface-50 rounded-tr-lg rounded-bl-[7px] capitalize"> </span>'),jq=H('<div class=" flex h-4 items-center justify-center rounded-xl border-[0.5px] border-red-500 px-1.5 text-[8px] font-bold text-red-500 whitespace-nowrap"> </div>'),Fq=H('<div class=" flex h-4 items-center justify-center rounded-xl border-yellow-500 bg-yellow-50 px-1.5 text-[8px] font-bold text-yellow-500 capitalize"> </div>'),Uq=H('<span class="text-warning-500"> </span>'),Vq=H('<span class="text-success-500"> </span>'),Wq=H('<div class="text-xs font-medium"><!></div>'),Hq=H('<span class="text-xs font-medium text-warning-500">Currently Out of Stock</span>'),qq=H('<a target="_blank" class="flex gap-3 border-b-4 border-gray-100 p-4 last:border-b-0"><div class="flex gap-3"><div class="shrink-0 rounded-lg relative"><!> <!> <!> <!></div> <div class="flex flex-grow flex-col gap-1.5"><div class="flex items-center justify-between"><div class="flex items-center gap-2"><!> <span class="text-sm font-medium text-surface-950 truncate w-28"> </span> <!></div> <div class="flex items-center gap-2"></div></div> <div class="text-xs font-medium text-surface-900"><!></div> <div class="flex flex-col"><div class="flex gap-2 text-[10px] text-surface-600 items-center"><!> <!></div> <span class="text-xs font-medium text-surface-500"> </span> <!></div></div></div></a>');function $0(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(tr,"$LL",r);var o=qq();o.__click=[Tq,e];var s=v(o),l=v(s),c=v(l);{var d=G=>{var Q=Oq(),Z=v(Q);ae(E=>pe(Z,"src",E),[()=>chrome.runtime.getURL(Iq)]),b(G,Q)};W(c,G=>{e.officialSite&&G(d)})}var u=x(c,2);Wu(u,{get src(){return e.item.productImage},get alt(){return e.item.productName},cls:"rounded-lg border border-surface-200 h-[104px] w-[104px]"});var f=x(u,2);{var h=G=>{var Q=ke(),Z=de(Q);{var E=$=>{var ee=Rq(),se=v(ee);ae(()=>{var oe,K;return Y(se,`${((oe=e.item)==null?void 0:oe.packOf)??""} X ${((K=e.item)==null?void 0:K.qty)??""}`)}),b($,ee)},U=$=>{var ee=Nq(),se=v(ee);ae(()=>{var oe;return Y(se,(oe=e.item)==null?void 0:oe.qty)}),b($,ee)};W(Z,$=>{var ee;(ee=e.item)!=null&&ee.packOf?$(E):$(U,!1)})}b(G,Q)},p=G=>{var Q=ke(),Z=de(Q);{var E=U=>{var $=zq(),ee=v($);ae(()=>{var se;return Y(ee,`Pack of ${((se=e.item)==null?void 0:se.packOf)??""}`)}),b(U,$)};W(Z,U=>{var $;($=e.item)!=null&&$.packOf&&U(E)},!0)}b(G,Q)};W(f,G=>{var Q;(Q=e.item)!=null&&Q.qty?G(h):G(p,!1)})}var m=x(f,2);{var y=G=>{var Q=Bq(),Z=v(Q);ae(()=>{var E;return Y(Z,(E=e.item)==null?void 0:E.colorTag)}),b(G,Q)};W(m,G=>{var Q;(Q=e.item)!=null&&Q.colorTag&&G(y)})}var _=x(l,2),S=v(_),w=v(S),C=v(w);as(C,{get siteLogo(){return e.item.siteImage},get siteName(){return e.item.siteName}});var L=x(C,2),k=v(L),P=x(L,2);{var z=G=>{var Q=jq(),Z=v(Q);ae(E=>Y(Z,E),[()=>i()("compareBar.bestPrice")]),b(G,Q)},T=G=>{var Q=ke(),Z=de(Q);{var E=U=>{var $=Fq(),ee=v($);ae(se=>Y(ee,se),[()=>i()("compareBar.refurbished")]),b(U,$)};W(Z,U=>{e.item.refurbishedFlag&&U(E)},!0)}b(G,Q)};W(P,G=>{e.ourPick?G(z):G(T,!1)})}var M=x(S,2),D=v(M);bo(D,{get productName(){return e.item.productName},lines:2});var A=x(M,2),O=v(A),I=v(O);rl(I,{get price(){return e.item.currentPrice},get currentPrice(){return e.item.currentPrice},priceBoxClass:"h-4 w-4",priceIconClass:"h-4 w-4",priceTextClass:"text-sm text-surface-950",lastPriceTextClass:"text-xs",productPriceComponentClass:"flex"});var B=x(I,2);{var j=G=>{var Q=Wq(),Z=v(Q);{var E=$=>{var ee=Uq(),se=v(ee);ae((oe,K)=>Y(se,`${oe??""}% ${K??""}`),[()=>Math.round((e.item.currentPrice-e.productPriceOnSite)/e.productPriceOnSite*100),()=>i()("compareBar.higher")]),b($,ee)},U=$=>{var ee=ke(),se=de(ee);{var oe=K=>{var J=Vq(),te=v(J);ae((X,re)=>Y(te,`${X??""}% ${re??""}`),[()=>Math.round((e.productPriceOnSite-e.item.currentPrice)/e.productPriceOnSite*100),()=>i()("compareBar.cheaper")]),b(K,J)};W(se,K=>{e.productPriceOnSite-e.item.currentPrice>0&&K(oe)},!0)}b($,ee)};W(Z,$=>{e.productPriceOnSite-e.item.currentPrice<0?$(E):$(U,!1)})}b(G,Q)};W(B,G=>{e.productPriceOnSite&&e.productPriceOnSite>0&&G(j)})}var V=x(O,2),F=v(V),N=x(V,2);{var q=G=>{var Q=Hq();b(G,Q)};W(N,G=>{e.item.oos&&G(q)})}ae(G=>{pe(o,"href",e.item.productLink),Y(k,e.item.siteName),Y(F,G)},[()=>i()("compareBar.freeDelivery")]),b(t,o),Ke(),n()}Tt(["click"]);var Gq=(t,e)=>_o(4,e.item),$q=H('<span class="text-xs font-bold text-primary-600 absolute right-[1px] bottom-[1px] px-2 py-1 bg-surface-50 rounded-tl-lg rounded-br-[7px]"> </span>'),Yq=H('<span class="text-xs font-bold text-primary-600 absolute right-[1px] bottom-[1px] px-2 py-1 bg-surface-50 rounded-tl-lg rounded-br-[7px]"> </span>'),Xq=H('<span class="text-xs font-bold text-primary-600 absolute right-[1px] bottom-[1px] px-2 py-1 bg-surface-50 rounded-tl-lg rounded-br-[7px]"> </span>'),Kq=H('<a target="_blank" class="flex gap-3"><div class="group relative w-full rounded border border-gray-100 bg-white h-fit flex flex-col mx-auto"><div class="h-32 w-full rounded-t relative"><!> <!></div> <div class="relative flex flex-col flex-1 justify-between w-full bg-white px-2 pb-2 pt-4 transition-transform"><!> <div class="flex flex-col gap-2 py-2"><div class="text-surface-600 text-xs font-medium flex"><!></div> <!></div> <div class="flex bg-white mt-auto"><div class=" w-full h-8 content-center truncate rounded bg-primary-50 px-1 py-1 text-center text-sm font-bold decoration-none text-primary-600 hover:bg-primary-600 hover:text-white"> </div></div></div></div></a>');function Qq(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(tr,"$LL",r);var o=Kq();o.__click=[Gq,e];var s=v(o),l=v(s),c=v(l);Wu(c,{get src(){return e.item.productImage},get alt(){return e.item.productName},cls:"w-full h-full"});var d=x(c,2);{var u=k=>{var P=ke(),z=de(P);{var T=D=>{var A=$q(),O=v(A);ae(()=>{var I,B;return Y(O,`${((I=e.item)==null?void 0:I.packOf)??""} X ${((B=e.item)==null?void 0:B.qty)??""}`)}),b(D,A)},M=D=>{var A=Yq(),O=v(A);ae(()=>{var I;return Y(O,(I=e.item)==null?void 0:I.qty)}),b(D,A)};W(z,D=>{var A;(A=e.item)!=null&&A.packOf?D(T):D(M,!1)})}b(k,P)},f=k=>{var P=ke(),z=de(P);{var T=M=>{var D=Xq(),A=v(D);ae(()=>{var O;return Y(A,`Pack of ${((O=e.item)==null?void 0:O.packOf)??""}`)}),b(M,D)};W(z,M=>{var D;(D=e.item)!=null&&D.packOf&&M(T)},!0)}b(k,P)};W(d,k=>{var P;(P=e.item)!=null&&P.qty?k(u):k(f,!1)})}var h=x(l,2),p=v(h);as(p,{get siteLogo(){return e.item.siteImage},get siteName(){return e.item.siteName},className:"absolute -top-3"});var m=x(p,2),y=v(m),_=v(y);bo(_,{get productName(){return e.item.productName},lines:2});var S=x(y,2);rl(S,{get price(){return e.item.currentPrice},get currentPrice(){return e.item.currentPrice},priceBoxClass:"h-4 w-4",priceIconClass:"h-4 w-4",priceTextClass:"text-sm text-surface-950",lastPriceTextClass:"text-xs",hidePercentage:!0});var w=x(m,2),C=v(w),L=v(C);ae(k=>{pe(o,"href",e.item.productLink),Y(L,k)},[()=>i()("common.buyNow")]),b(t,o),Ke(),n()}Tt(["click"]);const Jq=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 12">
	<path fill="currentColor"
		d="M0 6.74c0 .98.71 1.83 1.69 1.94q1.14.15 2.31.22v2.35a.75.75 0 0 0 1.28.53l2.51-2.51q.29-.28.68-.3 1.95-.06 3.84-.29A1.94 1.94 0 0 0 14 6.74V2.26c0-.98-.71-1.83-1.69-1.94A45 45 0 0 0 1.7.32C.7.43 0 1.28 0 2.26z" />
</svg>
`;var Zq=t=>{t.stopPropagation(),un({selectedOption:"ditto"})},eG=H('<div class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 gap-4 mx-auto px-4 py-4"></div> <!> <button class="flex items-center gap-2 h-10 px-4 justify-center bg-surface-50 w-full border-b border-surface-200"><span class="text-sm font-medium text-primary-600 flex gap-2 justify-center items-center">Discover More in LookAlike <img alt="lookalike icon" class="w-4 h-4 rounded-full"></span></button>',1),tG=H("<!> <!>",1),rG=H("<!> <!>",1),nG=H("<!> <!>",1),aG=(t,e)=>{t.stopPropagation(),g(e,!a(e))},iG=H('<button class="flex items-center gap-2 h-10 px-4 justify-center bg-surface-50 w-full border-b border-surface-200"><span class="text-sm font-medium text-primary-600"> </span></button>'),oG=H('<div class="flex items-center gap-1 justify-between w-full sticky bottom-0 bg-surface-50 rounded-b-lg px-4"><button><span class="flex items-center gap-2 h-10"><span class="text-primary-600 w-4 h-4"><!></span> <span class="text-sm font-medium text-primary-600"> </span> <span class="text-primary-600 w-4 h-4"><!></span></span></button> <a class="flex gap-1 items-center group"><span class="text-primary-600 group-hover:text-primary-800 focus:text-primary-800 text-sm font-medium">More Details</span> <span class="inline-block w-4 h-4 text-primary-600 group-hover:text-primary-800 focus:text-primary-800"><!></span></a></div>'),sG=H('<div class="compare-list-container"><div class="flex w-full items-center justify-between px-4 py-2"><span class="text-base font-bold text-surface-950"><!></span></div> <div class="px-4 py-2"><!></div> <div><!> <!></div> <!></div>');function lG(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(kc,"$comparePriceStore",r),o=()=>ie(tr,"$LL",r);let s=Ne(()=>i().comparePriceData),l=le(!1);var c=sG(),d=v(c),u=v(d),f=v(u);{var h=D=>{var A=Wt();ae(()=>Y(A,`Found ${a(s).length??""} LookAlike products`)),b(D,A)},p=D=>{var A=Wt();ae(O=>Y(A,O),[()=>o()("compareBar.availablePrices",{values:{length:a(s).length}})]),b(D,A)};W(f,D=>{i().dittoPromoteFlag?D(h):D(p,!1)})}var m=x(d,2),y=v(m);{var _=D=>{po(D,{featureKey:"Ditto"})},S=D=>{po(D,{featureKey:"Compare_Bar"})};W(y,D=>{i().dittoPromoteFlag?D(_):D(S,!1)})}var w=x(m,2),C=v(w);{var L=D=>{var A=eG(),O=de(A);St(O,21,()=>[...e.trustedComparePriceData,...e.untrustedComparePriceData].slice(0,4),zt,(F,N,q)=>{const G=Ne(()=>q===e.findLowestPriceItemIndex());Qq(F,{get item(){return a(N)},get ourPick(){return a(G)},get productPriceOnSite(){return e.productPriceOnSite}})});var I=x(O,2);Ln(I,{slotId:"8",className:"col-span-full"});var B=x(I,2);B.__click=[Zq];var j=v(B),V=x(v(j));ae(F=>pe(V,"src",F),[()=>chrome.runtime.getURL(y_)]),b(D,A)},k=D=>{var A=nG(),O=de(A);St(O,17,()=>e.trustedComparePriceData,zt,(j,V,F)=>{var N=tG(),q=de(N);{var G=E=>{var U=ke(),$=de(U);{var ee=oe=>{Ln(oe,{slotId:"8",className:"p-4 border-b-4"})},se=oe=>{Ln(oe,{slotId:"14",className:"p-4 border-b-4"})};W($,oe=>{Nt()?oe(ee):oe(se,!1)})}b(E,U)};W(q,E=>{F&&F%6==0&&E(G)})}var Q=x(q,2);const Z=Ne(()=>F===e.findLowestPriceItemIndex());$0(Q,{get item(){return a(V)},get ourPick(){return a(Z)},get productPriceOnSite(){return e.productPriceOnSite}}),b(j,N)});var I=x(O,2);{var B=j=>{var V=ke(),F=de(V);St(F,17,()=>e.untrustedComparePriceData,zt,(N,q,G)=>{var Q=rG(),Z=de(Q);{var E=$=>{var ee=ke(),se=de(ee);{var oe=J=>{Ln(J,{slotId:"8",className:"p-4 border-b-4"})},K=J=>{Ln(J,{slotId:"14",className:"p-4 border-b-4"})};W(se,J=>{Nt()?J(oe):J(K,!1)})}b($,ee)};W(Z,$=>{G&&G%6==0&&$(E)})}var U=x(Z,2);$0(U,{get item(){return a(q)},get productPriceOnSite(){return e.productPriceOnSite}}),b(N,Q)}),b(j,V)};W(I,j=>{a(l)&&j(B)})}b(D,A)};W(C,D=>{i().dittoPromoteFlag?D(L):D(k,!1)})}var P=x(C,2);{var z=D=>{var A=iG();A.__click=[aG,l];var O=v(A),I=v(O);ae(B=>Y(I,B),[()=>` ${a(l)?o()("compareBar.hideUntrustedSites"):o()("compareBar.showUntrustedSites")}`]),b(D,A)};W(P,D=>{!i().dittoPromoteFlag&&e.untrustedComparePriceData.length>0&&D(z)})}var T=x(w,2);{var M=D=>{var A=oG(),O=v(A);O.__click=function(...E){var U;(U=e.openFeedbackModal)==null||U.apply(this,E)};var I=v(O),B=v(I),j=v(B);Xt(j,()=>Jq);var V=x(B,2),F=v(V),N=x(V,2),q=v(N);Xt(q,()=>Ih);var G=x(O,2),Q=x(v(G),2),Z=v(Q);Xt(Z,()=>Wc),ae((E,U)=>{Y(F,E),pe(G,"href",U)},[()=>o()("compareBar.sendFeedback"),Ky]),b(D,A)};W(T,D=>{Nt()||D(M)})}b(t,c),Ke(),n()}Tt(["click"]);var cG=H('<div class="  bg-white w-[360px] z-[999999] gap-3 rounded-lg shadow-lg max-h-[630px]"><!></div>');function Rw(t,e){Xe(e,!0);const r=()=>e.trustedComparePriceData.findIndex(s=>s.currentPrice===Math.min(...e.trustedComparePriceData.map(l=>l.currentPrice))),n=s=>{};var i=cG(),o=v(i);lG(o,{get trustedComparePriceData(){return e.trustedComparePriceData},get untrustedComparePriceData(){return e.untrustedComparePriceData},findLowestPriceItemIndex:r,enteredPincode:n,get productPriceOnSite(){return e.productPriceOnSite},get openFeedbackModal(){return e.openFeedbackModal}}),ae(s=>{qe(i,"top-[50px]",s),qe(i,"right-[-50%]",s),qe(i,"absolute",s),qe(i,"w-[360px]",s),qe(i,"overflow-y-auto",s),qe(i,"max-h-[630px]",s)},[()=>!Nt()]),b(t,i),Ke()}var dG=H('<div class="relative"><!></div>'),uG=H('<div class="overflow-auto h-full"><!></div> <!> <div class="sticky z-50 px-2"><!></div>',1);function fG(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(kc,"$comparePriceStore",r),o=()=>ie(fn,"$nonPersistAppStore",r),s=()=>ie(J0,"$dittoProductStore",r),l=()=>ie(Sc,"$priceAlertStore",r),c=()=>ie(X3,"$watchListStore",r),d=()=>ie(r_,"$toastData",r);let u=le(""),f=le(ne([])),h=le(ne([])),p=le(ne([])),m=le(ne([])),y=le(0),_=Ne(()=>i().trustedComparePriceData),S=Ne(()=>i().untrustedComparePriceData);mr(()=>{g(u,ne(o().selectedOption)),g(f,ne(s().dittoData)),g(h,ne(l().priceAlertData)),g(p,ne(c().watchListData)),g(m,ne(i().comparePriceData)),g(y,ne(o().siteProductPrice))});let w="";Zt(()=>{Nt()&&(w=document.body.style.overflow,document.body.style.overflow="hidden")}),Gn(()=>{document.body.style.overflow=w});var C=uG(),L=de(C),k=v(L);{var P=O=>{oj(O,{})},z=O=>{var I=ke(),B=de(I);{var j=F=>{V6(F,{get data(){return a(f)},get currentPrice(){return a(y)}})},V=F=>{var N=ke(),q=de(N);{var G=Z=>{w9(Z,{get data(){return a(h)}})},Q=Z=>{var E=ke(),U=de(E);{var $=se=>{M9(se,{get data(){return a(p)}})},ee=se=>{var oe=ke(),K=de(oe);{var J=X=>{sS(X,{})},te=X=>{var re=ke(),fe=de(re);{var ue=we=>{F_(we,{})},xe=we=>{var me=ke(),ce=de(me);{var ye=ve=>{var Se=dG(),Ee=v(Se);Rw(Ee,{get trustedComparePriceData(){return a(_)},get untrustedComparePriceData(){return a(S)},get productPriceOnSite(){return a(y)},openFeedbackModal:()=>{}}),b(ve,Se)},be=ve=>{var Se=ke(),Ee=de(Se);{var Be=Ce=>{cH(Ce,{})},Ae=Ce=>{var _e=ke(),ge=de(_e);{var Oe=Re=>{aq(Re,{})},Le=Re=>{var Me=ke(),Te=de(Me);{var ze=Ye=>{Sq(Ye,{})},Fe=Ye=>{var Je=ke(),et=de(Je);{var Ze=Pe=>{Rj(Pe,{})},Ge=Pe=>{var We=ke(),He=de(We);{var nt=Qe=>{Eq(Qe,{})};W(He,Qe=>{a(u)=="whatsNew"&&Qe(nt)},!0)}b(Pe,We)};W(et,Pe=>{a(u)==="scanner"?Pe(Ze):Pe(Ge,!1)},!0)}b(Ye,Je)};W(Te,Ye=>{a(u)==="recentViews"?Ye(ze):Ye(Fe,!1)},!0)}b(Re,Me)};W(ge,Re=>{a(u)==="settings"?Re(Oe):Re(Le,!1)},!0)}b(Ce,_e)};W(Ee,Ce=>{a(u)==="chat"?Ce(Be):Ce(Ae,!1)},!0)}b(ve,Se)};W(ce,ve=>{a(u)==="compare"?ve(ye):ve(be,!1)},!0)}b(we,me)};W(fe,we=>{a(u)==="spendLens"?we(ue):we(xe,!1)},!0)}b(X,re)};W(K,X=>{a(u)==="coupon"?X(J):X(te,!1)},!0)}b(se,oe)};W(U,se=>{a(u)==="list"?se($):se(ee,!1)},!0)}b(Z,E)};W(q,Z=>{a(u)==="priceAlert"?Z(G):Z(Q,!1)},!0)}b(F,N)};W(B,F=>{a(u)==="ditto"?F(j):F(V,!1)},!0)}b(O,I)};W(k,O=>{a(u)==="priceHistory"?O(P):O(z,!1)})}var T=x(L,2);{var M=O=>{M7(O,{})};W(T,O=>{o().showSettingsModal&&O(M)})}var D=x(T,2),A=v(D);cj(A,{get showToast(){return d().show},get description(){return d().description}}),ae(O=>qe(L,"pb-[90px]",O),[Nt]),b(t,C),Ke(),n()}var vG=H('<div class="overlay-popup-container bg-white border border-gray-300 flex flex-col transition-all duration-300 ease-in-out"><!> <!></div>');function wy(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(fa,"$appStore",r),o=()=>ie(fn,"$nonPersistAppStore",r);let s=le("right"),l=le(""),c,d=le("wide");mr(()=>{g(s,ne(i().position)),g(l,ne(o().selectedOption)),g(d,ne(i().priceHistoryTabSize??"wide"))});var u=vG(),f=v(u);Ek(f,{});var h=x(f,2);fG(h,{}),Ar(u,p=>c=p,()=>c),ae((p,m,y,_,S,w,C,L)=>{qe(u,"rounded-tl-lg",p),qe(u,"rounded-bl-lg",a(s)==="right"),qe(u,"rounded-tr-lg",m),qe(u,"rounded-br-lg",a(s)==="left"),qe(u,"left-[100%]",a(s)==="left"),qe(u,"right-[100%]",a(s)==="right"),qe(u,"w-[792px]",y),qe(u,"w-[512px]",_),qe(u,"absolute",S),qe(u,"max-h-[calc(100vh-180px)]",w),qe(u,"w-[360px]",C),qe(u,"w-screen",w),qe(u,"pb-[60px]",w),ar(u,"height",L)},[()=>a(s)==="right"||Nt(),()=>a(s)==="left"||Nt(),()=>a(l)==="priceHistory"&&!Nt()&&a(d)==="wide",()=>a(l)==="priceHistory"&&!Nt()&&a(d)==="standard",()=>!Nt(),Nt,()=>!Nt()||a(d)==="small",()=>a(l)==="spendLens"&&!Nt()?"656px":Nt()?"calc(100vh - 180px)":"calc(100%)"]),b(t,u),Ke(),n()}var hG=H('<div class="fixed inset-0 z-[999999]"><button class="bg-black opacity-50 w-full h-full absolute" style="background-color: rgba(0, 0, 0, 0.5);" aria-label="close modal"></button> <div><div><!></div></div></div>');function fg(t,e){Xe(e,!0);function r(){try{n(!1),l()()}catch{}}let n=R(e,"isOpen",15,!1),i=R(e,"boxWrapperClass",3,"shadow-lg"),o=R(e,"maxWidth",3,null),s=R(e,"minHeight",3,null),l=R(e,"closed",3,()=>{});var c=ke(),d=de(c);{var u=f=>{var h=hG(),p=v(h);p.__click=r;var m=x(p,2),y=v(m),_=v(y);Sh(_,()=>e.children??Ny),ae(()=>{$e(m,`modal rounded-t-xl md:rounded-xl absolute left-1/2 transform -translate-x-1/2 w-full ${(o()?o():"max-w-xl")??""} bottom-0 md:bottom-1/2 md:translate-y-1/2`),$e(y,`w-full ${(s()?s():"max-h-[90svh]")??""}  md:rounded-b-xl overflow-auto shadow-lg ${i()??""}`)}),Rt(1,y,()=>Hn,()=>({y:"0",duration:300})),Rt(2,y,()=>es,()=>({duration:300})),b(f,h)};W(d,f=>{n()&&f(u)})}return b(t,c),Ke({closeModal:r})}Tt(["click"]);const pG=async(t,e,r,n,i)=>{try{const o="like_new_ui",s=window.location.href;await Fr({type:"sendFeedBackData",likeNewUI:a(e),comment:a(r),source:o,url:s}),g(n,2),i()}catch{}};var gG=H('<div class="flex p-4 bg-slate-100 justify-between"><h2 class="text-lg font-bold text-slate-950"> </h2> <button class="font-medium text-slate-950">X</button></div> <div class="p-4 rounded-xl flex-grow flex flex-col gap-6"><div class="flex flex-col gap-2 px-2 py-1"><p class="font-medium text-slate-950"> </p> <div class="flex gap-4"><label class="flex gap-2 items-center rounded font-medium text-slate-950 cursor-pointer"><input type="radio" name="feedback" class="w-4 h-4"> <span> </span></label> <label class="flex gap-2 items-center rounded font-medium text-slate-950 cursor-pointer"><input type="radio" name="feedback" class="w-4 h-4"> <span> </span></label></div></div> <div class="flex flex-col gap-2"><div class="text-slate-950 font-bold"> </div> <textarea class="text-sm font-medium placeholder:text-slate-600 text-slate-950 w-full focus:ring-0 focus:outline-none border border-slate-200 hover:border-indigo-600 focus:border-indigo-600 p-2 rounded" placeholder="Write away..."></textarea></div></div> <div class="flex gap-2 w-full sticky bottom-0 p-4"><button class="flex-1 flex-shrink-0 border border-indigo-600 rounded py-3 px-4 text-indigo-600 hover:text-indigo-800 text-center font-medium cursor-pointer"> </button> <button class="flex-1 flex-shrink-0 text-center border border-indigo-600 bg-indigo-600 hover:bg-indigo-800 rounded py-3 px-4 text-white font-medium cursor-pointer disabled:opacity-60 disabled:cursor-not-allowed"> </button></div>',1),mG=H('<div class="flex p-4 bg-slate-100 justify-between"><h2 class="text-lg font-bold text-slate-950"> </h2> <button class="font-medium text-slate-950">X</button></div> <div class="p-4 rounded-xl flex flex-col gap-6"><p> </p></div> <div class="flex gap-2 w-full sticky bottom-0 p-4"><button class="flex-1 flex-shrink-0 text-center border border-indigo-600 bg-indigo-600 hover:bg-indigo-800 rounded py-3 px-4 text-white font-medium cursor-pointer"> </button></div>',1);function xG(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(tr,"$LL",r),o=[];let s=R(e,"isOpen",15,!1),l=le(1),c=le(""),d=le(""),u=Ne(()=>!(a(c)||a(d)!==""||a(d).trim()!==""));const f=async()=>{await Xr("feedbackGiven",1)};fg(t,{get closed(){return e.closeModal},maxWidth:"max-w-[468px]",boxWrapperClass:"flex flex-col bg-white rounded-xl",get isOpen(){return s()},set isOpen(h){s(h)},children:(h,p)=>{var m=ke(),y=de(m);{var _=w=>{var C=gG(),L=de(C),k=v(L),P=v(k),z=x(k,2);z.__click=function(...J){var te;(te=e.closeModal)==null||te.apply(this,J)};var T=x(L,2),M=v(T),D=v(M),A=v(D),O=x(D,2),I=v(O),B=v(I);B.value=(B.__value="1")==null?"":"1";var j=x(B,2),V=v(j),F=x(I,2),N=v(F);N.value=(N.__value="0")==null?"":"0";var q=x(N,2),G=v(q),Q=x(M,2),Z=v(Q),E=v(Z),U=x(Z,2),$=x(T,2),ee=v($);ee.__click=function(...J){var te;(te=e.closeModal)==null||te.apply(this,J)};var se=v(ee),oe=x(ee,2);oe.__click=[pG,c,d,l,f];var K=v(oe);ae((J,te,X,re,fe,ue,xe)=>{Y(P,J),Y(A,te),Y(V,X),Y(G,re),Y(E,fe),Y(se,ue),oe.disabled=a(u),Y(K,xe)},[()=>i()("common.anyFeedbacks"),()=>i()("common.doYouLikeNewUI"),()=>i()("common.yes"),()=>i()("common.no"),()=>i()("compareBar.feedback.anyOther"),()=>i()("common.cancel"),()=>i()("common.submit")]),mg(o,[],B,()=>a(c),J=>g(c,J)),mg(o,[],N,()=>a(c),J=>g(c,J)),Ui(U,()=>a(d),J=>g(d,J)),b(w,C)},S=w=>{var C=ke(),L=de(C);{var k=P=>{var z=mG(),T=de(z),M=v(T),D=v(M),A=x(M,2);A.__click=function(...N){var q;(q=e.closeModal)==null||q.apply(this,N)};var O=x(T,2),I=v(O),B=v(I),j=x(O,2),V=v(j);V.__click=function(...N){var q;(q=e.closeModal)==null||q.apply(this,N)};var F=v(V);ae((N,q,G)=>{Y(D,N),Y(B,q),Y(F,G)},[()=>i()("compareBar.feedback.allDone"),()=>i()("compareBar.feedback.thanksForFeedback"),()=>i()("common.close")]),b(P,z)};W(L,P=>{a(l)===2&&P(k)},!0)}b(w,C)};W(y,w=>{a(l)===1?w(_):w(S,!1)})}b(h,m)},$$slots:{default:!0}}),Ke(),n()}Tt(["click"]);const yG="/assets/minimizeIcon-D18CMZhu.svg",_G="/assets/dragIcon-B2IDusRL.svg",Ql=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" viewBox="0 0 32 32">

	<path id="a" class="text-primary-600" fill="currentColor"
		d="M32 7.09v17.82A7.1 7.1 0 0 1 24.91 32H7.09A7.1 7.1 0 0 1 0 24.91V7.09A7.1 7.1 0 0 1 7.09 0h17.82A7.1 7.1 0 0 1 32 7.09" />

	<path fill="#fff"
		d="M13.44 23.45c2.62-2.3 6.14-2.97 8.9-1.38 3.6 2.09 4.52 7.27 2.04 11.57-2.49 4.3-7.43 6.1-11.05 4.02a6.5 6.5 0 0 1-2.06-1.9l-.4 2.27H6.33L10.4 14.9h4.54zm6.62 3.05c-1.53-1.52-4.24-1.29-6.05.53-1.82 1.82-2.06 4.53-.53 6.05 1.52 1.53 4.23 1.3 6.05-.53 1.82-1.81 2.05-4.52.53-6.05" />
	<path class="text-primary-800" fill="currentColor" fill-rule="evenodd"
		d="M2.13 4.4a4.5 4.5 0 0 1 4.25-3.06H25.4a4.5 4.5 0 0 1 4.25 3.07z" clip-rule="evenodd" />
	<path fill="#facc15"
		d="M21.37 5.62c.48 0 .87.39.8.86a6.13 6.13 0 0 1-12.13 0c-.07-.47.32-.86.8-.86.47 0 .84.4.93.86a4.41 4.41 0 0 0 8.66 0c.1-.47.47-.86.94-.86" />
</svg>
`,bG=`<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none"
	viewBox="0 0 12 12">
	<path id="a" class="text-primary-600" fill="currentColor"
		d="M12 2.66v6.68C12 10.81 10.8 12 9.34 12H2.66A2.66 2.66 0 0 1 0 9.34V2.66C0 1.19 1.2 0 2.66 0h6.68C10.81 0 12 1.2 12 2.66" />
	<path class="text-primary-800" fill="currentColor" fill-rule="evenodd"
		d="M.8 1.65A1.7 1.7 0 0 1 2.4.5h7.13c.74 0 1.37.49 1.6 1.15z" clip-rule="evenodd" />
	<path fill="#facc15"
		d="M10.1 4.42c.38 0 .68.28.63.62a4.3 4.3 0 0 1-1.35 2.5c-.9.84-2.11 1.3-3.38 1.3a5 5 0 0 1-3.38-1.3 4.3 4.3 0 0 1-1.35-2.5c-.05-.34.25-.62.62-.62s.66.28.73.62q.21.94.95 1.63c.64.6 1.52.93 2.43.93s1.79-.33 2.43-.93q.74-.7.94-1.63a.8.8 0 0 1 .74-.62" />
</svg>
`,wG="/assets/closeIconWhite-B72cl0ZF.svg",Nw=`<svg fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
	<path
		d="M20 5h-4.762a4.457 4.457 0 0 1 .712 2H20a1 1 0 0 1 1 1v1h-6.354a3.491 3.491 0 0 0-5.621-3.975A5.6 5.6 0 0 0 8 6.715a5.6 5.6 0 0 0-1.025-1.69 3.5 3.5 0 0 0-4.95 4.95 5.529 5.529 0 0 0 3.248 1.007 16.578 16.578 0 0 0-2.664 3.564l1.781.908A15.036 15.036 0 0 1 8 11.2a15.036 15.036 0 0 1 3.609 4.256l1.781-.908A16.552 16.552 0 0 0 10.743 11H21v6a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1v-3.471a12.61 12.61 0 0 0-1.719 2.38L5 16.46V17a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V8a3 3 0 0 0-3-3zM3.438 8.559a1.5 1.5 0 0 1 2.123-2.12 7.916 7.916 0 0 1 1.144 2.592 7.849 7.849 0 0 1-3.267-.472zm9.125 0A5.577 5.577 0 0 1 10.218 9h-.913a7.948 7.948 0 0 1 1.134-2.561 1.5 1.5 0 0 1 2.124 2.12z" />
</svg>
`,kG=(t,e,r,n,i,o,s)=>{t.stopPropagation(),g(e,!a(e)),g(r,!1),g(n,!1),g(i,!1),g(o,!1),a(e)&&vt(mt.CrossButtonFromLogoSelected,{}),a(e)&&s()},SG=async(t,e,r,n,i,o,s,l,c,d,u,f,h,p)=>{g(e,!1),g(r,!1),g(n,!1),g(i,!1),g(o,!1),a(s)?(g(c,!0),g(s,!1),g(d,null),g(u,""),g(f,!1),await new Promise(m=>requestAnimationFrame(m)),await new Promise(m=>setTimeout(m,50)),g(c,!1),await new Promise(m=>setTimeout(m,250)),g(h,!1),g(p,!1)):l()};var CG=H('<div class="w-full overflow-y-auto"><!></div>'),AG=H("<div><div></div></div>"),MG=H('<button class=" w-full py-2 flex justify-center"><span class="h-8 w-8 inline-block"><!></span></button>'),PG=H('<div class="flex flex-col w-full"><!> <!> <!></div>'),DG=H('<button class="bg-primary-900 absolute -top-4 left-1/2 transform -translate-x-1/2 -translate-y-2 flex w-6 h-6 rounded-full justify-center items-center z-10"><img class="h-3 w-3 object-contain transition-transform duration-200 ease-in-out"></button>'),LG=H("<div></div>"),EG=()=>{vt(mt.MyVouchersIconClicked,{})},IG=t=>{t.stopPropagation(),vt(mt.WhatsNewIconClicked,{}),un({selectedOption:"whatsNew"})},TG=t=>{t.stopPropagation(),un({selectedOption:"settings"}),vt(mt.SettingsIconClicked,{})},OG=H(`<div><div class="overlay-item-container w-full px-1"><a href="https://buyhatke.com/gift-vouchers" target="_blank" class="overlay-item-button flex items-center flex-col rounded-lg py-2 mx-auto"><span class="inline-block w-6 h-6 text-white"><!></span> <div class="text-[10px] text-primary-200 font-medium py-1 text-center">My Vouchers</div></a></div> <div class="overlay-item-container w-full px-1"><button><img alt="whats New Icon" class="h-6 w-6"> <div class="text-[10px] text-primary-200 font-medium py-1 whitespace-pre-wrap">What's New</div></button></div> <div class="overlay-item-container"><button><img alt="settings Icon" class="h-6 w-6"> <div class="text-[10px] text-primary-200 font-medium py-1"> </div></button></div></div>`),RG=(t,e)=>t.key==="Enter"&&e(),NG=H("<span><!></span>"),zG=(t,e)=>t.key==="Escape"&&e(),BG=t=>t.stopPropagation(),jG=t=>t.stopPropagation(),FG=(t,e)=>t.key==="Enter"&&e(),UG=H('<div role="button" tabindex="-1" aria-labelledby="user-info-title"><div role="button" tabindex="-1" class="user-info-modal bg-surface-900 rounded-lg p-3 max-w-md shadow-xl"><div class="text-center"><h3 id="user-info-title" class="text-sm font-medium text-white mb-4"><!></h3> <div class="flex gap-3 justify-center"><button class="px-6 py-2 text-xs font-medium bg-primary-600 text-white rounded-lg cursor-pointer"><!></button></div></div> <div></div></div></div>'),VG=H('<div class="relative"><button><img alt="minimize_button" class="w-4 h-4"></button></div>'),WG=t=>t.stopPropagation(),HG=t=>t.stopPropagation(),qG=(t,e)=>t.key==="Enter"&&e(t),GG=t=>t.stopPropagation(),$G=t=>t.stopPropagation(),YG=(t,e)=>t.key==="Enter"&&e(),XG=(t,e)=>t.key==="Enter"&&e(),KG=(t,e)=>t.key==="Enter"&&e(),QG=H('<div class="next-visit-dropdown absolute right-0 top-full mt-1 w-32 bg-surface-950 rounded-lg shadow-lg z-50"><div class="py-1"><button class="w-full text-left px-3 py-2 text-sm text-white hover:bg-surface-800">Next Visit</button> <button class="w-full text-left px-3 py-2 text-sm text-white hover:bg-surface-800">1 Day</button> <button class="w-full text-left px-3 py-2 text-sm text-white hover:bg-surface-800">1 Week</button></div></div>'),JG=(t,e)=>t.key==="Enter"&&e(t),ZG=t=>t.stopPropagation(),e$=t=>t.stopPropagation(),t$=(t,e)=>t.key==="Enter"&&e(),r$=(t,e)=>t.key==="Enter"&&e(),n$=(t,e)=>t.key==="Enter"&&e(),a$=H('<div class="next-visit-dropdown absolute right-0 top-full mt-1 w-32 bg-surface-900 rounded-lg shadow-lg border border-surface-700 z-50"><div class="py-1"><button class="w-full text-left px-3 py-2 text-sm text-white hover:bg-surface-800">Next Visit</button> <button class="w-full text-left px-3 py-2 text-sm text-white hover:bg-surface-800">1 Day</button> <button class="w-full text-left px-3 py-2 text-sm text-white hover:bg-surface-800">1 Week</button></div></div>'),i$=(t,e)=>t.key==="Enter"&&e(),o$=H('<div><div class="p-2"><div class="relative"><button class="flex items-center justify-between py-2 cursor-pointer rounded px-2 -mx-2 w-full text-left"><span class="text-sm text-surface-200">Disable for this page Until</span> <div class="flex items-center gap-1"><span class="text-sm text-blue-400 font-medium">Next Visit</span> <svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></div></button> <!></div> <div class="relative"><button class="flex items-center justify-between py-2 cursor-pointer rounded px-2 -mx-2 w-full text-left"><span class="text-sm text-surface-200">Disable for this site Until</span> <div class="flex items-center gap-1"><span class="text-sm text-blue-400 font-medium">Next Visit</span> <svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></div></button> <!></div>   <div class="border-t border-surface-700 my-2"></div> <button class="py-2 cursor-pointer rounded px-2 -mx-2 w-full text-left"><span class="text-sm text-surface-200">Re-enable in</span> <span class="text-sm text-primary-400 underline ml-1">Settings</span></button></div></div>'),s$=(t,e)=>t.key==="Escape"&&e(),l$=t=>t.stopPropagation(),c$=t=>t.stopPropagation(),d$=(t,e)=>t.key==="Enter"&&e(),u$=(t,e)=>t.key==="Enter"&&e(),f$=H(`<div role="button" tabindex="-1" aria-labelledby="confirmation-title"><div role="button" tabindex="-1" class="confirmation-modal bg-surface-900 rounded-lg p-3 max-w-md shadow-xl"><div class="text-center"><h3 id="confirmation-title" class="text-sm font-medium text-white mb-4"> </h3> <div class="flex gap-3 justify-center"><button class="px-6 py-2 text-xs font-medium bg-primary-400 text-white rounded-lg cursor-pointer">No</button> <button class="px-6 py-2 text-xs font-medium bg-primary-600 text-white rounded-lg cursor-pointer">Yes, I'm Sure</button></div></div></div></div>`),v$=(t,e)=>e(t),h$=t=>t.stopPropagation(),p$=t=>t.stopPropagation(),g$=(t,e)=>e("priceHistory",mt.DisablePriceHistory),m$=(t,e)=>e("ditto",mt.DisableLookALike),x$=(t,e)=>e("priceAlert",mt.DisablePriceAlert),y$=(t,e)=>e("spendLens",mt.DisableSpendLens),_$=(t,e)=>e("autoCoupon",mt.DisableAutoCoupons),b$=(t,e)=>e("dealScanner",mt.DisableDealScanner),w$=(t,e)=>e("recentViews",mt.DisableRecentViews),k$=(t,e)=>e("chatAI",mt.DisableChatAI),S$=H('<div><div class="p-4"><div class="flex items-center justify-between py-2"><span>Price History Graph</span> <button aria-label="Toggle Price History Graph"><span></span></button></div> <div class="flex items-center justify-between py-2"><span>Look Alike</span> <button aria-label="Toggle Look Alike"><span></span></button></div> <div class="flex items-center justify-between py-2"><span>Price Alerts</span> <button aria-label="Toggle Price Alerts"><span></span></button></div> <div class="flex items-center justify-between py-2"><span>Spend Lens</span> <button aria-label="Toggle Spend Calculator"><span></span></button></div> <div class="flex items-center justify-between py-2"><span>Auto Coupons</span> <button aria-label="Toggle Auto Coupons"><span></span></button></div> <div class="flex items-center justify-between py-2"><span>Deal Scanner</span> <button aria-label="Toggle Deal Scanner"><span></span></button></div> <div class="flex items-center justify-between py-2"><span>Recent Views</span> <button aria-label="Toggle recent views"><span></span></button></div> <div class="flex items-center justify-between py-2"><span>Chat AI</span> <button aria-label="Toggle Chat AI"><span></span></button></div></div></div>'),C$=H('<div class="relative"><button class="bg-primary-900 mx-2 my-1 flex w-6 h-6 rounded-full justify-center items-center"><img alt="settings_button" class="w-4 h-4 object-contain transition-transform duration-200 ease-in-out"></button> <!></div>'),A$=H('<div class="relative group mx-1"><div role="button" tabindex="-1" class=" w-full flex flex-col justify-center peer gap-1 items-center"><!> <div><span><!></span> <!></div> <div class="hk-draggable__handle flex justify-center items-center"><img alt="drag_icon"></div></div> <!> <!> <!> <!></div>'),M$=H('<div class="relative"><div class="flex flex-col items-center"><!> <div class="flex flex-col justify-between h-full py-2"><div class="relative flex items-center justify-center flex-col transition-all duration-300 ease-in-out"><!> <!></div> <!></div> <!></div></div>'),P$=H('<div class="relative w-full"><!></div> <!>',1);function D$(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(Js,"$priceHistoryStore",r),o=()=>ie(fn,"$nonPersistAppStore",r),s=()=>ie(fa,"$appStore",r),l=()=>ie(tr,"$LL",r);let c=R(e,"isDragging",3,!1),d=le(""),u=le(!0),f=le("right"),h=Ne(()=>i().graphData),p=le(void 0),m=le(ne({})),y=Ne(()=>o().showFeedbackModal),_=le(!1),S=le(ne({pos:"",siteName:""})),w=le(!1),C=le(!1),L=le("top"),k=le(void 0),P=le(!1),z=le(void 0),T=le(void 0),M=le("top"),D=le(!1),A=le(!1),O=le(void 0),I=le(void 0),B=le(!1),j=le(void 0),V=le(null),F=le(""),N=Ne(()=>s().featureData),q=le(ne({}));const G=Q0(),Q=()=>{j3(!1)},Z=(ft,Mt=null)=>{Mt&&a(N)[ft]&&vt(Mt,{}),ti({featureData:{...a(N),[ft]:!a(N)[ft]}})},E=()=>{un({selectedOption:"settings"})};let U=le(ne(o().minimize));mr(()=>{const ft=o().minimize,Mt=a(U)==="1day"||a(U)==="7days",yt=ft==="1day"||ft==="7days";a(U)!==null&&!Mt&&yt&&o().selectedOption===""&&(g(w,!1),g(_,!1),g(ce,!0),g(be,!0)),g(U,ne(ft))});const $=ft=>{ft.stopPropagation(),g(C,!a(C)),g(P,!1),g(D,!1),g(A,!1),g(B,!1),a(C)&&vt(mt.CrossButtonFromLogoSelected,{}),a(C)&&ee()},ee=()=>{if(!a(k))return;const ft=a(k).getBoundingClientRect(),Mt=window.innerHeight,yt=280,Bt=ft.top,jt=Mt-ft.bottom;jt>=yt||jt>Bt?g(L,"bottom"):g(L,"top")};let se=ne(Nt()),oe=le(!1),K=Ne(()=>o().showSideBar),J=le(!1),te=le(!1),X=le(void 0),re=le(void 0),fe=le(null),ue=le(""),xe=le(void 0),we=le(!1),me=le(null),ce=le(!1),ye=le(!1),be=le(!1),ve=le(void 0),Se=le(!1),Ee=le(null);const Be=300,Ae=180,Ce=120,_e=32;function ge(ft){ft==="spendLens"&&a(d)!=="spendLens"&&F3(),un({selectedOption:ft})}const Oe=()=>{if(!c()&&!(!a(K)&&!Nt())){if(Nt()){g(oe,!a(oe));return}a(ce)||G||(a(h).length>0?un({selectedOption:"priceHistory"}):un({selectedOption:"priceAlert"}))}},Le=()=>{if(!a(z))return;const ft=a(z).getBoundingClientRect(),Mt=window.innerHeight,yt=200,Bt=ft.top,jt=Mt-ft.bottom;jt>=yt||jt>Bt?g(M,"bottom"):g(M,"top")},Re=ft=>{ft.stopPropagation(),g(D,!a(D))},Me=ft=>{ft.stopPropagation(),g(A,!a(A))},Te=()=>{g(V,"next-visit"),g(F,"Are you Sure you want to disable Buyhatke for this page until the next visit?"),g(B,!0),g(D,!1),g(P,!1)},ze=()=>{g(V,"next-visit"),g(F,"Are you Sure you want to disable Buyhatke for this site until the next visit?"),g(B,!0),g(A,!1),g(P,!1)},Fe=()=>{g(V,"disable-page-1d"),g(F,"Are you Sure you want to disable Buyhatke for this page for 1 day?"),g(B,!0),g(D,!1),g(P,!1)},Ye=()=>{g(V,"disable-site-1d"),g(F,"Are you Sure you want to disable Buyhatke for this site for 1 day?"),g(B,!0),g(A,!1),g(P,!1)},Je=()=>{g(V,"disable-page-1w"),g(F,"Are you Sure you want to disable Buyhatke for this page for 1 week?"),g(B,!0),g(D,!1),g(P,!1)},et=()=>{g(V,"disable-site-1w"),g(F,"Are you Sure you want to disable Buyhatke for this site for 1 week?"),g(B,!0),g(A,!1),g(P,!1)},Ze=()=>{a(h).length>0?un({selectedOption:"priceHistory"}):un({selectedOption:"priceAlert"}),E(),g(P,!1)},Ge=()=>{g(B,!1),g(V,null),g(F,""),g(P,!1),g(D,!1),g(A,!1),g(w,!1),g(_,!1)},Pe=async()=>{if(g(be,!1),a(Se)){const ft=window.location.href.split("&")[0],Mt=new URL(ft).origin;if(a(q)&&typeof a(q)=="object"){const yt={...a(q)};Object.prototype.hasOwnProperty.call(yt,ft)?delete yt[ft]:Object.prototype.hasOwnProperty.call(yt,Mt)&&delete yt[Mt],Object.keys(yt).length>0?(Xr("minimiseSideBar",yt),g(q,ne(yt))):(ep("minimiseSideBar"),g(q,ne({})))}da("never"),g(Se,!1),g(ce,!1),g(J,!1),wt()}},We=()=>{if(!a(V))return;let ft=window.location.href;ft=ft.split("&")[0];let Mt;const yt=new URL(ft);switch(a(V)){case"next-visit":vt(mt.DisablePageUntillNextVisit,{});break;case"disable-page-1d":let Bt=Date.now()+24*60*60*1e3;Mt=ft,Xr("minimiseSideBar",{...a(q),[Mt]:{expiry:Bt}}),g(q,ne({...a(q),[Mt]:{expiry:Bt}})),da("1day"),vt(mt.DisablePageUntillOneDay,{});break;case"disable-page-1w":let jt=Date.now()+7*24*60*60*1e3;Mt=ft,Xr("minimiseSideBar",{...a(q),[Mt]:{expiry:jt}}),g(q,ne({...a(q),[Mt]:{expiry:jt}})),da("7days"),vt(mt.DisablePageUntillOneWeek,{});break;case"disable-site-1d":let gr=Date.now()+24*60*60*1e3;Mt=yt.origin,Xr("minimiseSideBar",{...a(q),[Mt]:{expiry:gr}}),g(q,ne({...a(q),[Mt]:{expiry:gr}})),da("1day"),vt(mt.DisableSiteUntillOneDay,{});break;case"disable-site-1w":let xr=Date.now()+7*24*60*60*1e3;Mt=yt.origin,Xr("minimiseSideBar",{...a(q),[Mt]:{expiry:xr}}),g(q,ne({...a(q),[Mt]:{expiry:xr}})),da("7days"),vt(mt.DisableSiteUntillOneWeek,{});break}He(!0,!0),g(B,!1),g(V,null),g(F,"")},He=async(ft=!1,Mt=!1)=>{if(a(te)||!a(X)||!a(re)){g(J,!0);return}try{g(te,!0);const yt=a(X).getBoundingClientRect();g(fe,ne(yt.height));const Bt=it();if(Bt.length===0){g(J,!0),wt(),g(w,!1),g(_,!1),g(ce,ne(ft)),ft&&g(be,ne(Mt));return}const jt=a(re).getBoundingClientRect(),gr=jt.left+jt.width/2,xr=jt.top+jt.height/2,rr=[],fr=document.createDocumentFragment();Bt.forEach(xt=>{const Pr=xt.getBoundingClientRect(),Dr=xt.cloneNode(!0),je=Dr.style;je.position="fixed",je.left=`${Pr.left}px`,je.top=`${Pr.top}px`,je.width=`${Pr.width}px`,je.height=`${Pr.height}px`,je.margin="0",je.zIndex="2147483646",je.pointerEvents="none",je.willChange="transform, opacity",je.transform="translateZ(0)",fr.appendChild(Dr),rr.push(Dr)}),document.body.appendChild(fr),Bt.forEach((xt,Pr)=>{const Dr=xt.getBoundingClientRect(),st=rr[Pr].style,Ue=Dr.left+Dr.width/2,Ut=Dr.top+Dr.height/2,_t=gr-Ue,Dt=xr-Ut;st.transition=`transform ${Be}ms cubic-bezier(0.25, 0.46, 0.45, 0.94), opacity ${Be}ms ease-out`,requestAnimationFrame(()=>{st.transform=`translate3d(${_t}px, ${Dt}px, 0) scale(0.3)`,st.opacity="0"})}),await new Promise(xt=>{let Pr=0;const Dr=rr.length;if(Dr===0){xt();return}const je=()=>{Pr++,Pr>=Dr&&(rr.forEach(st=>st.removeEventListener("transitionend",je)),xt())};rr.forEach(st=>{st.addEventListener("transitionend",je,{once:!0})}),setTimeout(()=>{rr.forEach(st=>st.removeEventListener("transitionend",je)),xt()},Be+100)}),rr.forEach(xt=>xt.remove()),g(J,!0),wt(),g(w,!1),g(_,!1),g(ce,ne(ft)),ft&&g(be,ne(Mt))}finally{g(te,!1)}};mr(()=>{g(d,ne(o().selectedOption)),g(u,ne(s().renderOverlayContent)),g(f,ne(s().position)),Nt()&&a(d)&&g(oe,!0),g(S,ne(o().siteDetails))}),Zt(()=>{const ft=yt=>{var jt,gr,xr;const Bt=yt.target;if(a(C)&&a(k)){const rr=(jt=a(k).parentElement)==null?void 0:jt.querySelector(".settings-popup");!a(k).contains(Bt)&&!(rr!=null&&rr.contains(Bt))&&(g(C,!1),g(w,!1),g(_,!1))}if(a(P)&&a(T)&&(a(T).contains(Bt)||(g(P,!1),g(D,!1),g(A,!1),g(w,!1),g(_,!1))),a(D)&&a(O)){const rr=(gr=a(O).parentElement)==null?void 0:gr.querySelector(".disable-for-page-dropdown");!a(O).contains(Bt)&&!(rr!=null&&rr.contains(Bt))&&(g(D,!1),g(w,!1),g(_,!1))}if(a(A)&&a(I)){const rr=(xr=a(I).parentElement)==null?void 0:xr.querySelector(".disable-for-site-dropdown");!a(I).contains(Bt)&&!(rr!=null&&rr.contains(Bt))&&(g(A,!1),g(w,!1),g(_,!1))}a(B)&&a(j)&&(a(j).contains(Bt)||(Ge(),g(w,!1),g(_,!1)))},Mt=()=>{a(C)&&ee(),a(P)&&Le(),wt()};return document.addEventListener("click",ft),window.addEventListener("resize",Mt),window.addEventListener("scroll",Mt),(async()=>{const{featuresArray:yt}=await chrome.storage.local.get(["featuresArray"]),Bt=JSON.parse(yt??"{}");g(m,ne(Bt.reduce((xr,rr)=>(xr[rr.transKey]=Number(rr.value),xr),{}))),Nt()&&a(d)&&g(oe,!0);const jt=await ns()||await Uu();jt&&B3({pos:String(jt),siteName:a(S).siteName});const gr=await an("minimiseSideBar");if(gr&&typeof gr=="object"){g(q,ne(gr));const xr=window.location.href.split("&")[0],rr=new URL(xr).origin,fr=gr[xr]||gr[rr];fr&&(fr.expiry===null||fr.expiry>Date.now())&&He(!0,!1)}})(),()=>{document.removeEventListener("click",ft),window.removeEventListener("resize",Mt),window.removeEventListener("scroll",Mt)}});const nt=()=>{a(C)||a(P)||a(D)||a(A)||a(B)||a(ce)||(a(me)&&(clearTimeout(a(me)),g(me,null)),g(w,!0))},Qe=()=>{a(C)||a(P)||a(D)||a(A)||a(B)||a(ce)||(a(me)&&clearTimeout(a(me)),g(me,ne(window.setTimeout(()=>{a(we)||g(w,!1)},Ae))))},rt=()=>{a(ce)||a(C)||a(P)||a(D)||a(A)||a(B)||a(ce)||(a(me)&&(clearTimeout(a(me)),g(me,null)),g(_,!0),g(w,!0))},ot=()=>{a(C)||a(P)||a(D)||a(A)||a(B)||a(ce)||(a(me)&&clearTimeout(a(me)),g(_,!1),g(me,ne(window.setTimeout(()=>{a(we)||g(w,!1)},Ae))))},Lt=()=>{a(be)||(a(Ee)&&(clearTimeout(a(Ee)),g(Ee,null)),g(Se,!0))},Et=()=>{a(be)||(a(Ee)&&clearTimeout(a(Ee)),g(Ee,ne(window.setTimeout(()=>{g(Se,!1)},150))))},dt=()=>{const ft=a(xe)??a(re);return ft?ft.getBoundingClientRect():null},wt=()=>{if(!a(J)){g(ue,"");return}const ft=dt();if(!ft)return;const Mt=ft.top-_e,yt=ft.left+ft.width/2;g(ue,`position: fixed; top: ${Math.max(0,Mt)}px; left: ${yt}px; transform: translateX(-50%); z-index: 2147483646;`)};mr(()=>{!c()&&a(J)&&wt()});const it=()=>a(X)?Array.from(a(X).querySelectorAll(".overlay-item-container, .overlay-item-button")).filter(Mt=>{const yt=Mt.getBoundingClientRect();return yt.width>0&&yt.height>0&&getComputedStyle(Mt).visibility!=="hidden"}):[];var ht=P$(),at=de(ht),gt=v(at);{var Gt=ft=>{var Mt=PG(),yt=v(Mt);{var Bt=fr=>{var xt=CG(),Pr=v(xt);wy(Pr,{}),b(fr,xt)};W(yt,fr=>{a(d)&&fr(Bt)})}var jt=x(yt,2);{var gr=fr=>{var xt=AG(),Pr=v(xt);St(Pr,21,()=>Object.keys(e.content),zt,(Dr,je)=>{var st=ke(),Ue=de(st);{var Ut=_t=>{Q5(_t,{get item(){return e.content[a(je)]},changeSelected:ge})};W(Ue,_t=>{(a(N)[a(je)]===void 0||a(N)[a(je)]||a(d))&&_t(Ut)})}b(Dr,st)}),ae(()=>{$e(xt,`flex items-center overflow-y-auto ${(a(d)?"fixed bottom-0 left-0 right-0 bg-primary-900 h-[60px] overflow-x-auto":"flex-col")??""}`),$e(Pr,`flex items-center ${(a(d)?"min-w-max px-2":"flex-col")??""}`)}),b(fr,xt)};W(jt,fr=>{a(oe)&&fr(gr)})}var xr=x(jt,2);{var rr=fr=>{var xt=MG();xt.__click=Oe;var Pr=v(xt),Dr=v(Pr);Xt(Dr,()=>Ql),ae(()=>{qe(xt,"rounded-tl-lg",a(f)==="right"),qe(xt,"rounded-tr-lg",a(f)==="left"),qe(xt,"px-2",!a(oe))}),b(fr,xt)};W(xr,fr=>{a(d)||fr(rr)})}b(ft,Mt)},Kt=ft=>{var Mt=M$(),yt=v(Mt),Bt=v(yt);{var jt=_t=>{wy(_t,{})};W(Bt,_t=>{a(d)&&_t(jt)})}var gr=x(Bt,2),xr=v(gr),rr=v(xr);{var fr=_t=>{var Dt=DG();Dt.__click=[SG,C,P,D,A,B,J,He,ye,fe,ue,ce,w,_];var lt=v(Dt);ae(Vt=>{pe(Dt,"aria-label",a(J)?"Expand":"Minimize"),pe(Dt,"title",a(J)?"Expand":"Minimize"),pe(Dt,"style",a(J)?a(ue):""),pe(lt,"src",Vt),pe(lt,"alt",a(J)?"expand_icon":"minimize_icon"),qe(lt,"rotate-180",a(J))},[()=>chrome.runtime.getURL(yG)]),tt("mouseenter",Dt,()=>{g(we,!0),a(me)&&(clearTimeout(a(me)),g(me,null))}),tt("mouseleave",Dt,()=>{g(we,!1),a(me)&&clearTimeout(a(me)),g(me,ne(window.setTimeout(()=>{a(_)||g(w,!1)},Ce)))}),Rt(1,Dt,()=>Gc,()=>({duration:200,start:.8})),Rt(2,Dt,()=>Gc,()=>({duration:200,start:.8})),b(_t,Dt)};W(rr,_t=>{(a(w)||a(we))&&!a(d)&&!a(C)&&!a(te)&&!a(ye)&&!c()&&_t(fr)})}var xt=x(rr,2);{var Pr=_t=>{var Dt=ke(),lt=de(Dt);St(lt,17,()=>Object.keys(e.content),zt,(Vt,Ht)=>{var vr=ke(),kr=de(vr);{var yr=Sr=>{N5(Sr,{get item(){return e.content[a(Ht)]},changeSelected:ge})};W(kr,Sr=>{(a(N)[a(Ht)]===void 0||a(N)[a(Ht)]||a(d))&&Sr(yr)})}b(Vt,vr)}),b(_t,Dt)},Dr=_t=>{var Dt=ke(),lt=de(Dt);{var Vt=Ht=>{var vr=LG();ae(()=>pe(vr,"style",`height: ${a(fe)}px;`)),b(Ht,vr)};W(lt,Ht=>{a(fe)&&Ht(Vt)},!0)}b(_t,Dt)};W(xt,_t=>{a(d)||!a(J)?_t(Pr):_t(Dr,!1)})}Ar(xr,_t=>g(X,_t),()=>a(X));var je=x(xr,2);{var st=_t=>{var Dt=OG(),lt=v(Dt),Vt=v(lt);Vt.__click=[EG];var Ht=v(Vt),vr=v(Ht);Xt(vr,()=>Nw);var kr=x(lt,2),yr=v(kr);yr.__click=[IG];var Sr=v(yr),Ir=x(kr,2),Tr=v(Ir);Tr.__click=[TG];var Gr=v(Tr),rn=x(Gr,2),nr=v(rn);ae((ir,Cr,Rr)=>{$e(yr,`overlay-item-button flex items-center flex-col rounded-lg py-2 mx-auto ${(o().selectedOption==="whatsNew"?"bg-primary-950":"")??""}`),pe(Sr,"src",ir),$e(Tr,`overlay-item-button flex items-center flex-col rounded-lg p-2 mx-auto ${(o().selectedOption==="settings"?"bg-primary-950":"")??""}`),pe(Gr,"src",Cr),Y(nr,Rr)},[()=>chrome.runtime.getURL(Eh),()=>chrome.runtime.getURL(Lh),()=>l()("features.settings")]),b(_t,Dt)};W(je,_t=>{a(d)&&_t(st)})}var Ue=x(gr,2);{var Ut=_t=>{var Dt=A$(),lt=v(Dt);lt.__keydown=[RG,Oe],lt.__click=Oe;var Vt=v(lt);{var Ht=Pt=>{var qt=NG(),Yt=v(qt);Xt(Yt,()=>Ql),Ar(qt,or=>g(re,or),()=>a(re)),ae(()=>$e(qt,`inline-block transition-all text-primary-800 ${(a(_)||a(w)?"w-6 h-6":"w-8 h-8")??""}`)),b(Pt,qt)};W(Vt,Pt=>{a(ce)||Pt(Ht)})}var vr=x(Vt,2),kr=v(vr),yr=v(kr);Xt(yr,()=>bG);var Sr=x(kr,2);{var Ir=Pt=>{var qt=UG();qt.__click=Pe,qt.__keydown=[zG,Pe];var Yt=v(qt);Yt.__click=[BG],Yt.__keydown=[jG];var or=v(Yt),dr=v(or),on=v(dr);{var Zr=Ft=>{var Or=Wt("The Buyhatke extension is currently disabled");b(Ft,Or)},yn=Ft=>{var Or=Wt(`You can enable the Buyhatke extension
														anytime from here`);b(Ft,Or)};W(on,Ft=>{a(Se)?Ft(Zr):Ft(yn,!1)})}var Pn=x(dr,2),pn=v(Pn);pn.__click=Pe,pn.__keydown=[FG,Pe];var wn=v(pn);{var ta=Ft=>{var Or=Wt("Enable Now");b(Ft,Or)},ba=Ft=>{var Or=Wt("Okay, Got it");b(Ft,Or)};W(wn,Ft=>{a(Se)?Ft(ta):Ft(ba,!1)})}var Nn=x(or,2);Ar(qt,Ft=>g(ve,Ft),()=>a(ve)),ae(()=>{$e(qt,`  flex items-center justify-center z-[9999] border-0 absolute -top-1 w-60 p-0 ${(a(f)==="right"?"right-8":"left-8")??""}`),$e(Nn,`absolute ${(a(f)==="right"?" -right-1":" -left-1")??""} top-3 w-2 h-2 bg-surface-950 rotate-45 z-10`)}),tt("mouseenter",qt,Lt),tt("mouseleave",qt,Et),b(Pt,qt)};W(Sr,Pt=>{(a(be)||a(Se))&&Pt(Ir)})}var Tr=x(vr,2),Gr=v(Tr);Ar(lt,Pt=>g(xe,Pt),()=>a(xe));var rn=x(lt,2);{var nr=Pt=>{var qt=VG(),Yt=v(qt);Yt.__click=[kG,P,C,D,A,B,Le];var or=v(Yt);Ar(Yt,dr=>g(z,dr),()=>a(z)),ae(dr=>{$e(Yt,`rounded-full items-center justify-center cursor-pointer absolute flex -top-16 bg-surface-500 shadow-sm ${(a(f)==="right"?"-left-2":"-right-2")??""}`),pe(or,"src",dr)},[()=>chrome.runtime.getURL(wG)]),b(Pt,qt)};W(rn,Pt=>{o().minimize==="never"&&a(_)&&!c()&&Pt(nr)})}var ir=x(rn,2);{var Cr=Pt=>{var qt=o$();qt.__click=[WG],qt.__keydown=[HG];var Yt=v(qt),or=v(Yt),dr=v(or);dr.__click=Re,dr.__keydown=[qG,Re];var on=x(v(dr),2),Zr=x(v(on),2);Ar(dr,$r=>g(O,$r),()=>a(O));var yn=x(dr,2);{var Pn=$r=>{var gn=QG();gn.__click=[GG],gn.__keydown=[$G];var Er=v(gn),Yr=v(Er);Yr.__click=Te,Yr.__keydown=[YG,Te];var dn=x(Yr,2);dn.__click=Fe,dn.__keydown=[XG,Fe];var ra=x(dn,2);ra.__click=Je,ra.__keydown=[KG,Je],b($r,gn)};W(yn,$r=>{a(D)&&$r(Pn)})}var pn=x(or,2),wn=v(pn);wn.__click=Me,wn.__keydown=[JG,Me];var ta=x(v(wn),2),ba=x(v(ta),2);Ar(wn,$r=>g(I,$r),()=>a(I));var Nn=x(wn,2);{var Ft=$r=>{var gn=a$();gn.__click=[ZG],gn.__keydown=[e$];var Er=v(gn),Yr=v(Er);Yr.__click=ze,Yr.__keydown=[t$,ze];var dn=x(Yr,2);dn.__click=Ye,dn.__keydown=[r$,Ye];var ra=x(dn,2);ra.__click=et,ra.__keydown=[n$,et],b($r,gn)};W(Nn,$r=>{a(A)&&$r(Ft)})}var Or=x(pn,4);Or.__click=Ze,Or.__keydown=[i$,Ze],Ar(qt,$r=>g(T,$r),()=>a(T)),ae(()=>{$e(qt,`close-popup absolute w-72 bg-surface-900 rounded-lg shadow-lg border border-surface-700 z-50 ${(a(f)==="right"?"right-12":"left-12")??""} ${(a(M)==="top"?"bottom-0 -mb-2":"top-0 -mt-2")??""}`),qa(Zr,`w-3 h-3 text-surface-400 transition-transform ${(a(D)?"rotate-180":"")??""}`),qa(ba,`w-3 h-3 text-surface-400 transition-transform ${(a(A)?"rotate-180":"")??""}`)}),b(Pt,qt)};W(ir,Pt=>{a(P)&&Pt(Cr)})}var Rr=x(ir,2);{var lr=Pt=>{var qt=f$();qt.__click=Ge,qt.__keydown=[s$,Ge];var Yt=v(qt);Yt.__click=[l$],Yt.__keydown=[c$];var or=v(Yt),dr=v(or),on=v(dr),Zr=x(dr,2),yn=v(Zr);yn.__click=Ge,yn.__keydown=[d$,Ge];var Pn=x(yn,2);Pn.__click=We,Pn.__keydown=[u$,We],Ar(qt,pn=>g(j,pn),()=>a(j)),ae(()=>{$e(qt,`  flex items-center justify-center z-[9999] border-0 absolute top-0 w-60 p-0 ${(a(f)==="right"?"right-12":"left-12")??""}`),Y(on,a(F))}),b(Pt,qt)};W(Rr,Pt=>{a(B)&&Pt(lr)})}var cr=x(Rr,2);{var Qt=Pt=>{var qt=C$(),Yt=v(qt);Yt.__click=[v$,$];var or=v(Yt);Ar(Yt,Zr=>g(k,Zr),()=>a(k));var dr=x(Yt,2);{var on=Zr=>{var yn=S$();yn.__click=[h$],yn.__keydown=[p$];var Pn=v(yn),pn=v(Pn),wn=v(pn),ta=x(wn,2);ta.__click=[g$,Z];var ba=v(ta),Nn=x(pn,2),Ft=v(Nn),Or=x(Ft,2);Or.__click=[m$,Z];var $r=v(Or),gn=x(Nn,2),Er=v(gn),Yr=x(Er,2);Yr.__click=[x$,Z];var dn=v(Yr),ra=x(gn,2),So=v(ra),wa=x(So,2);wa.__click=[y$,Z];var Ia=v(wa),ka=x(ra,2),Co=v(ka),Xa=x(Co,2);Xa.__click=[_$,Z];var Ka=v(Xa),Yn=x(ka,2),Sa=v(Yn),Ca=x(Sa,2);Ca.__click=[b$,Z];var Zi=v(Ca),Aa=x(Yn,2),An=v(Aa),Xn=x(An,2);Xn.__click=[w$,Z];var Mi=v(Xn),ha=x(Aa,2),Un=v(ha),pa=x(Un,2);pa.__click=[k$,Z];var Pi=v(pa);ae(()=>{var Ao,Mo,Qa,Ta,Wr,vn,Kn,en,Vn,Di,hs,ps,Ja,Oa,Li,gs,eo,Za,na,ei,ms,ci,Ei,di;$e(yn,`settings-popup absolute w-64 bg-surface-900 rounded-lg shadow-lg border border-surface-700 z-50 ${(a(L)==="top"?"bottom-0":"top-0")??""} ${(a(f)==="right"?"right-12	":"left-12")??""}`),$e(wn,`text-sm ${((Ao=a(N))!=null&&Ao.priceHistory?"text-white":"text-surface-400")??""}`),$e(ta,`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${((Mo=a(N))!=null&&Mo.priceHistory?"bg-primary-600":"bg-surface-600")??""}`),$e(ba,`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${((Qa=a(N))!=null&&Qa.priceHistory?"translate-x-5":"translate-x-1")??""}`),$e(Ft,`text-sm ${((Ta=a(N))!=null&&Ta.ditto?"text-white":"text-surface-400")??""}`),$e(Or,`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${((Wr=a(N))!=null&&Wr.ditto?"bg-primary-600":"bg-surface-600")??""}`),$e($r,`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${((vn=a(N))!=null&&vn.ditto?"translate-x-5":"translate-x-1")??""}`),$e(Er,`text-sm ${((Kn=a(N))!=null&&Kn.priceAlert?"text-white":"text-surface-400")??""}`),$e(Yr,`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${((en=a(N))!=null&&en.priceAlert?"bg-primary-600":"bg-surface-600")??""}`),$e(dn,`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${((Vn=a(N))!=null&&Vn.priceAlert?"translate-x-5":"translate-x-1")??""}`),$e(So,`text-sm ${((Di=a(N))!=null&&Di.spendLens?"text-white":"text-surface-400")??""}`),$e(wa,`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${((hs=a(N))!=null&&hs.spendLens?"bg-primary-600":"bg-surface-600")??""}`),$e(Ia,`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${((ps=a(N))!=null&&ps.spendLens?"translate-x-5":"translate-x-1")??""}`),$e(Co,`text-sm ${((Ja=a(N))!=null&&Ja.autoCoupon?"text-white":"text-surface-400")??""}`),$e(Xa,`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${((Oa=a(N))!=null&&Oa.autoCoupon?"bg-primary-600":"bg-surface-600")??""}`),$e(Ka,`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${((Li=a(N))!=null&&Li.autoCoupon?"translate-x-5":"translate-x-1")??""}`),$e(Sa,`text-sm ${((gs=a(N))!=null&&gs.dealScanner?"text-white":"text-surface-400")??""}`),$e(Ca,`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${((eo=a(N))!=null&&eo.dealScanner?"bg-primary-600":"bg-surface-600")??""}`),$e(Zi,`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${((Za=a(N))!=null&&Za.dealScanner?"translate-x-5":"translate-x-1")??""}`),$e(An,`text-sm ${((na=a(N))!=null&&na.recentViews?"text-white":"text-gray-400")??""}`),$e(Xn,`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${((ei=a(N))!=null&&ei.recentViews?"bg-primary-600":"bg-surface-600")??""}`),$e(Mi,`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${((ms=a(N))!=null&&ms.recentViews?"translate-x-5":"translate-x-1")??""}`),$e(Un,`text-sm ${((ci=a(N))!=null&&ci.chatAI?"text-white":"text-gray-400")??""}`),$e(pa,`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${((Ei=a(N))!=null&&Ei.chatAI?"bg-primary-600":"bg-surface-600")??""}`),$e(Pi,`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${((di=a(N))!=null&&di.chatAI?"translate-x-5":"translate-x-1")??""}`)}),b(Zr,yn)};W(dr,Zr=>{a(C)&&Zr(on)})}ae(Zr=>pe(or,"src",Zr),[()=>chrome.runtime.getURL(Lh)]),Rt(1,Yt,()=>Gc,()=>({duration:200,start:.8})),Rt(2,Yt,()=>Gc,()=>({duration:200,start:.8})),b(Pt,qt)};W(cr,Pt=>{(a(_)||a(w)||a(C))&&!c()&&!G&&Pt(Qt)})}ae(Pt=>{qe(lt,"bg-primary-950",a(_)||a(w)),qe(lt,"px-1.5",a(_)||a(w)||a(J)),qe(lt,"py-1.5",a(_)||a(w)||a(J)),qe(lt,"rounded-lg",a(_)||a(w)),qe(lt,"cursor-grabbing",a(ce)),qe(lt,"cursor-pointer",!a(ce)),$e(kr,`hk-draggable__handle ${(a(ce)?"cursor-grabbing w-3 h-3 flex":"cursor-pointer hidden")??""}`),qe(Tr,"opacity-0",!a(_)||!a(w)),qe(Tr,"opacity-100",a(_)||a(w)),pe(Gr,"src",Pt),$e(Gr,`w-4 h-4 ${(a(ce)?"hidden":"inline-block")??""}`)},[()=>chrome.runtime.getURL(_G)]),tt("mouseenter",Dt,rt),tt("mouseleave",Dt,ot),tt("mouseenter",vr,Lt),tt("mouseleave",vr,Et),b(_t,Dt)};W(Ue,_t=>{a(d)||_t(Ut)})}Ar(Mt,_t=>g(p,_t),()=>a(p)),ae(()=>{qe(yt,"h-[556px]",a(d)==="scanner"),qe(yt,"h-[656px]",a(d)==="spendLens"),qe(yt,"h-[92vh]",a(d)&&a(d)!=="spendLens"),qe(yt,"mt-[7vh]",a(d)),qe(yt,"max-h-[746px]",a(d)),qe(yt,"rounded-tl-lg",!a(d)&&a(f)==="right"),qe(yt,"rounded-tr-lg",!a(d)&&a(f)==="left"),qe(yt,"w-16",a(d)),qe(yt,"bg-primary-900",a(d)),qe(xr,"opacity-0",a(te)||a(ye)),qe(xr,"opacity-100",!a(te)&&!a(ye))}),tt("mouseenter",xr,nt),tt("mouseleave",xr,Qe),b(ft,Mt)};W(gt,ft=>{se?ft(Gt):ft(Kt,!1)})}Ar(at,ft=>g(p,ft),()=>a(p));var sr=x(at,2);{var wr=ft=>{xG(ft,{get isOpen(){return a(y)},closeModal:Q})};W(sr,ft=>{Nt()||ft(wr)})}b(t,ht),Ke(),n()}Tt(["click","keydown"]);var Td={exports:{}},mh={exports:{}};/*!
 * Infinite Scroll v2.0.4
 * measure size of elements
 * MIT license
 */var ky;function L$(){return ky||(ky=1,function(t){(function(e,r){t.exports?t.exports=r():e.getSize=r()})(window,function(){function r(s){let l=parseFloat(s);return s.indexOf("%")==-1&&!isNaN(l)&&l}let n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];function i(){let s={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};return n.forEach(l=>{s[l]=0}),s}function o(s){if(typeof s=="string"&&(s=document.querySelector(s)),!(s&&typeof s=="object"&&s.nodeType))return;let c=getComputedStyle(s);if(c.display=="none")return i();let d={};d.width=s.offsetWidth,d.height=s.offsetHeight;let u=d.isBorderBox=c.boxSizing=="border-box";n.forEach(C=>{let L=c[C],k=parseFloat(L);d[C]=isNaN(k)?0:k});let f=d.paddingLeft+d.paddingRight,h=d.paddingTop+d.paddingBottom,p=d.marginLeft+d.marginRight,m=d.marginTop+d.marginBottom,y=d.borderLeftWidth+d.borderRightWidth,_=d.borderTopWidth+d.borderBottomWidth,S=r(c.width);S!==!1&&(d.width=S+(u?0:f+y));let w=r(c.height);return w!==!1&&(d.height=w+(u?0:h+_)),d.innerWidth=d.width-(f+y),d.innerHeight=d.height-(h+_),d.outerWidth=d.width+p,d.outerHeight=d.height+m,d}return o})}(mh)),mh.exports}var Od={exports:{}},Rd={exports:{}},E$=Rd.exports,Sy;function I$(){return Sy||(Sy=1,function(t){(function(e,r){t.exports?t.exports=r():e.EvEmitter=r()})(typeof window<"u"?window:E$,function(){function e(){}let r=e.prototype;return r.on=function(n,i){if(!n||!i)return this;let o=this._events=this._events||{},s=o[n]=o[n]||[];return s.includes(i)||s.push(i),this},r.once=function(n,i){if(!n||!i)return this;this.on(n,i);let o=this._onceEvents=this._onceEvents||{},s=o[n]=o[n]||{};return s[i]=!0,this},r.off=function(n,i){let o=this._events&&this._events[n];if(!o||!o.length)return this;let s=o.indexOf(i);return s!=-1&&o.splice(s,1),this},r.emitEvent=function(n,i){let o=this._events&&this._events[n];if(!o||!o.length)return this;o=o.slice(0),i=i||[];let s=this._onceEvents&&this._onceEvents[n];for(let l of o)s&&s[l]&&(this.off(n,l),delete s[l]),l.apply(this,i);return this},r.allOff=function(){return delete this._events,delete this._onceEvents,this},e})}(Rd)),Rd.exports}/*!
 * Unidragger v3.0.1
 * Draggable base class
 * MIT license
 */var T$=Od.exports,Cy;function O$(){return Cy||(Cy=1,function(t){(function(e,r){t.exports?t.exports=r(e,I$()):e.Unidragger=r(e,e.EvEmitter)})(typeof window<"u"?window:T$,function(r,n){function i(){}let o=i.prototype=Object.create(n.prototype);o.handleEvent=function(u){let f="on"+u.type;this[f]&&this[f](u)};let s,l;"ontouchstart"in r?(s="touchstart",l=["touchmove","touchend","touchcancel"]):r.PointerEvent?(s="pointerdown",l=["pointermove","pointerup","pointercancel"]):(s="mousedown",l=["mousemove","mouseup"]),o.touchActionValue="none",o.bindHandles=function(){this._bindHandles("addEventListener",this.touchActionValue)},o.unbindHandles=function(){this._bindHandles("removeEventListener","")},o._bindHandles=function(u,f){this.handles.forEach(h=>{h[u](s,this),h[u]("click",this),r.PointerEvent&&(h.style.touchAction=f)})},o.bindActivePointerEvents=function(){l.forEach(u=>{r.addEventListener(u,this)})},o.unbindActivePointerEvents=function(){l.forEach(u=>{r.removeEventListener(u,this)})},o.withPointer=function(u,f){f.pointerId===this.pointerIdentifier&&this[u](f,f)},o.withTouch=function(u,f){let h;for(let p of f.changedTouches)p.identifier===this.pointerIdentifier&&(h=p);h&&this[u](f,h)},o.onmousedown=function(u){this.pointerDown(u,u)},o.ontouchstart=function(u){this.pointerDown(u,u.changedTouches[0])},o.onpointerdown=function(u){this.pointerDown(u,u)};const c=["TEXTAREA","INPUT","SELECT","OPTION"],d=["radio","checkbox","button","submit","image","file"];return o.pointerDown=function(u,f){let h=c.includes(u.target.nodeName),p=d.includes(u.target.type),m=!h||p;!this.isPointerDown&&!u.button&&m&&(this.isPointerDown=!0,this.pointerIdentifier=f.pointerId!==void 0?f.pointerId:f.identifier,this.pointerDownPointer={pageX:f.pageX,pageY:f.pageY},this.bindActivePointerEvents(),this.emitEvent("pointerDown",[u,f]))},o.onmousemove=function(u){this.pointerMove(u,u)},o.onpointermove=function(u){this.withPointer("pointerMove",u)},o.ontouchmove=function(u){this.withTouch("pointerMove",u)},o.pointerMove=function(u,f){let h={x:f.pageX-this.pointerDownPointer.pageX,y:f.pageY-this.pointerDownPointer.pageY};this.emitEvent("pointerMove",[u,f,h]),!this.isDragging&&this.hasDragStarted(h)&&this.dragStart(u,f),this.isDragging&&this.dragMove(u,f,h)},o.hasDragStarted=function(u){return Math.abs(u.x)>3||Math.abs(u.y)>3},o.dragStart=function(u,f){this.isDragging=!0,this.isPreventingClicks=!0,this.emitEvent("dragStart",[u,f])},o.dragMove=function(u,f,h){this.emitEvent("dragMove",[u,f,h])},o.onmouseup=function(u){this.pointerUp(u,u)},o.onpointerup=function(u){this.withPointer("pointerUp",u)},o.ontouchend=function(u){this.withTouch("pointerUp",u)},o.pointerUp=function(u,f){this.pointerDone(),this.emitEvent("pointerUp",[u,f]),this.isDragging?this.dragEnd(u,f):this.staticClick(u,f)},o.dragEnd=function(u,f){this.isDragging=!1,setTimeout(()=>delete this.isPreventingClicks),this.emitEvent("dragEnd",[u,f])},o.pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this.unbindActivePointerEvents(),this.emitEvent("pointerDone")},o.onpointercancel=function(u){this.withPointer("pointerCancel",u)},o.ontouchcancel=function(u){this.withTouch("pointerCancel",u)},o.pointerCancel=function(u,f){this.pointerDone(),this.emitEvent("pointerCancel",[u,f])},o.onclick=function(u){this.isPreventingClicks&&u.preventDefault()},o.staticClick=function(u,f){let h=u.type==="mouseup";h&&this.isIgnoringMouseUp||(this.emitEvent("staticClick",[u,f]),h&&(this.isIgnoringMouseUp=!0,setTimeout(()=>{delete this.isIgnoringMouseUp},400)))},i})}(Od)),Od.exports}/*!
 * Draggabilly v3.0.0
 * Make that shiz draggable
 * https://draggabilly.desandro.com
 * MIT license
 */var R$=Td.exports,Ay;function N$(){return Ay||(Ay=1,function(t){(function(e,r){t.exports?t.exports=r(e,L$(),O$()):e.Draggabilly=r(e,e.getSize,e.Unidragger)})(typeof window<"u"?window:R$,function(r,n,i){function o(){}let s=r.jQuery;function l(m,y){this.element=typeof m=="string"?document.querySelector(m):m,s&&(this.$element=s(this.element)),this.options={},this.option(y),this._create()}let c=l.prototype=Object.create(i.prototype);c.option=function(m){this.options={...this.options,...m}};const d=["relative","absolute","fixed"];c._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition={...this.position};let m=getComputedStyle(this.element);d.includes(m.position)||(this.element.style.position="relative"),this.on("pointerDown",this.handlePointerDown),this.on("pointerUp",this.handlePointerUp),this.on("dragStart",this.handleDragStart),this.on("dragMove",this.handleDragMove),this.on("dragEnd",this.handleDragEnd),this.setHandles(),this.enable()},c.setHandles=function(){let{handle:m}=this.options;typeof m=="string"?this.handles=this.element.querySelectorAll(m):typeof m=="object"&&m.length?this.handles=m:m instanceof HTMLElement?this.handles=[m]:this.handles=[this.element]};const u=["dragStart","dragMove","dragEnd"];let f=c.emitEvent;c.emitEvent=function(m,y){if(!this.isEnabled&&u.includes(m))return;f.call(this,m,y);let S=r.jQuery;if(!S||!this.$element)return;let w,C=y;y&&y[0]instanceof Event&&([w,...C]=y);let k=S.Event(w);k.type=m,this.$element.trigger(k,C)},c._getPosition=function(){let m=getComputedStyle(this.element),y=this._getPositionCoord(m.left,"width"),_=this._getPositionCoord(m.top,"height");this.position.x=isNaN(y)?0:y,this.position.y=isNaN(_)?0:_,this._addTransformPosition(m)},c._getPositionCoord=function(m,y){if(m.includes("%")){let _=n(this.element.parentNode);return _?parseFloat(m)/100*_[y]:0}return parseInt(m,10)},c._addTransformPosition=function(m){let y=m.transform;if(!y.startsWith("matrix"))return;let _=y.split(","),S=y.startsWith("matrix3d")?12:4,w=parseInt(_[S],10),C=parseInt(_[S+1],10);this.position.x+=w,this.position.y+=C},c.handlePointerDown=function(m,y){this.isEnabled&&(this.pointerDownPointer={pageX:y.pageX,pageY:y.pageY},m.preventDefault(),document.activeElement.blur(),this.bindActivePointerEvents(m),this.element.classList.add("is-pointer-down"))},c.handleDragStart=function(){this.isEnabled&&(this._getPosition(),this.measureContainment(),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this.element.classList.add("is-dragging"),this.animate())},c.measureContainment=function(){let m=this.getContainer();if(!m)return;let y=n(this.element),_=n(m),{borderLeftWidth:S,borderRightWidth:w,borderTopWidth:C,borderBottomWidth:L}=_,k=this.element.getBoundingClientRect(),P=m.getBoundingClientRect(),z=S+w,T=C+L,M=this.relativeStartPosition={x:k.left-(P.left+S),y:k.top-(P.top+C)};this.containSize={width:_.width-z-M.x-y.width,height:_.height-T-M.y-y.height}},c.getContainer=function(){let m=this.options.containment;return m?m instanceof HTMLElement?m:typeof m=="string"?document.querySelector(m):this.element.parentNode:void 0},c.handleDragMove=function(m,y,_){if(!this.isEnabled)return;let S=_.x,w=_.y,C=this.options.grid,L=C&&C[0],k=C&&C[1];S=h(S,L),w=h(w,k),S=this.containDrag("x",S,L),w=this.containDrag("y",w,k),S=this.options.axis=="y"?0:S,w=this.options.axis=="x"?0:w,this.position.x=this.startPosition.x+S,this.position.y=this.startPosition.y+w,this.dragPoint.x=S,this.dragPoint.y=w};function h(m,y,_){return y?(_=_||"round",Math[_](m/y)*y):m}c.containDrag=function(m,y,_){if(!this.options.containment)return y;let S=m=="x"?"width":"height",w=this.relativeStartPosition[m],C=h(-w,_,"ceil"),L=this.containSize[S];return L=h(L,_,"floor"),Math.max(C,Math.min(L,y))},c.handlePointerUp=function(){this.element.classList.remove("is-pointer-down")},c.handleDragEnd=function(){this.isEnabled&&(this.element.style.transform="",this.setLeftTop(),this.element.classList.remove("is-dragging"))},c.animate=function(){this.isDragging&&(this.positionDrag(),requestAnimationFrame(()=>this.animate()))},c.setLeftTop=function(){let{x:m,y}=this.position;this.element.style.left=`${m}px`,this.element.style.top=`${y}px`},c.positionDrag=function(){let{x:m,y}=this.dragPoint;this.element.style.transform=`translate3d(${m}px, ${y}px, 0)`},c.setPosition=function(m,y){this.position.x=m,this.position.y=y,this.setLeftTop()},c.enable=function(){this.isEnabled||(this.isEnabled=!0,this.bindHandles())},c.disable=function(){this.isEnabled&&(this.isEnabled=!1,this.isDragging&&this.dragEnd(),this.unbindHandles())};const p=["transform","left","top","position"];return c.destroy=function(){this.disable(),p.forEach(m=>{this.element.style[m]=""}),this.unbindHandles(),this.$element&&this.$element.removeData("draggabilly")},c._init=o,s&&s.bridget&&s.bridget("draggabilly",l),l})}(Td)),Td.exports}var z$=N$();const My=Iy(z$);var B$=()=>{un({selectedOption:""}),wc(!1)},j$=H('<div class="fixed inset-0 z-50"><button class="w-full h-full absolute cursor-default" aria-label="close modal"></button></div>'),F$=H('<div class="hk-draggable__containment fixed top-0 left-0 bottom-0 right-0 pointer-events-none visibility-hidden"></div> <!> <div class="h-auto fixed"><!></div>',1);function U$(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(fn,"$nonPersistAppStore",r),o=()=>ie(Yi,"$autoCouponStore",r),s=()=>ie(fa,"$appStore",r);let l=le(!0),c=ap,d=le("right"),u=le(ne({top:"50%",left:"auto",right:"0"})),f=null,h,p=le(ne({top:"50%",left:"auto",right:"0"})),m=null,y=le("");const _=Ne(()=>i().showFeedbackModal);let S=le(!1),w=le(ne({x:0,y:0})),C=le(null);const L=Ne(()=>o().showAutoCoupon),k=Ne(()=>o().isAutoCouponClosed);Zt(()=>{f&&!m&&(m=new My(f,{containment:h,handle:".hk-draggable__handle"}),m.on("dragStart",function(){g(S,!0),m&&g(w,ne({x:m.position.x,y:m.position.y}))}),m.on("dragEnd",function(){if(m){const I=window.innerWidth,B=m.position.x,j=m.position.y;B<I/2?(g(d,"left"),g(p,ne({top:`${j.toString()}px`,left:"0",right:"auto"})),ti({position:"left"})):(g(d,"right"),g(p,ne({top:`${j.toString()}px`,left:"auto",right:"0"})),ti({position:"right"})),ti({sliderContentPosition:a(p)}),setTimeout(()=>{g(S,!1)},100)}})),(async()=>{const I=await Uu();g(C,ne(I?String(I):null))})()}),mr(()=>{g(y,ne(i().selectedOption)),g(l,ne(s().renderOverlayContent)),g(d,ne(s().position));const I=s().sliderContentPosition;g(u,ne({top:(I==null?void 0:I.top)||"50%",left:(I==null?void 0:I.left)||"auto",right:(I==null?void 0:I.right)||(a(d)==="right"?"0":"auto")})),a(y)&&m&&(m.destroy(),m=null),!a(y)&&f&&!m&&setTimeout(()=>{f&&!m&&(m=new My(f,{containment:h,handle:".hk-draggable__handle"}),m.on("dragStart",function(){g(S,!0),m&&g(w,ne({x:m.position.x,y:m.position.y}))}),m.on("dragEnd",function(){if(m){const B=window.innerWidth,j=m.position.x,V=m.position.y;j<B/2?(g(d,"left"),g(p,ne({top:`${V.toString()}px`,left:"0",right:"auto"})),ti({position:"left"})):(g(d,"right"),g(p,ne({top:`${V.toString()}px`,left:"auto",right:"0"})),ti({position:"right"})),ti({sliderContentPosition:a(p)}),setTimeout(()=>{g(S,!1)},100)}}))},100)});function P(){un({selectedOption:""}),ti({renderOverlayContent:!a(l)}),ti({sliderContentPosition:a(p)})}var z=F$(),T=de(z);Ar(T,I=>h=I,()=>h);var M=x(T,2);{var D=I=>{var B=j$(),j=v(B);j.__click=[B$],b(I,B)};W(M,I=>{a(y)&&I(D)})}var A=x(M,2),O=v(A);D$(O,{content:c,toggleState:P,get isDragging(){return a(S)}}),Ar(A,I=>f=I,()=>f),ae((I,B,j)=>pe(A,"style",`z-index: calc(infinity); 
		width: ${I??""};
		top: ${B??""}; 
		left: ${(a(u).left!=="auto"?a(u).left:a(d)==="left"?"0":"auto")??""};
		right: ${(a(u).right!=="auto"?a(u).right:a(d)==="right"?"0":"auto")??""};
		transform: ${j??""};
		`),[()=>a(C)&&tp(a(C))&&(a(L)||a(k))?a(y)?"0px":"45px":"auto",()=>a(y)?Nt()?"20%":"50%":Nt()?"30%":a(u).top,()=>a(y)&&!Nt()&&!a(_)?"translateY(-50%)":""]),b(t,z),Ke(),n()}Tt(["click"]);var V$=(t,e)=>{g(e,!a(e))},W$=(t,e)=>{g(e,!a(e))},H$=(t,e)=>{g(e,!a(e))},q$=(t,e)=>{g(e,!a(e))},G$=(t,e)=>{g(e,!a(e))},$$=(t,e)=>{g(e,!a(e))},Y$=(t,e)=>{g(e,!a(e))},X$=H('<div class="flex p-4 bg-surface-100 justify-between"><h2 class="text-lg font-bold text-surface-950"> </h2> <button class="font-medium text-surface-950">X</button></div> <div class="p-4 rounded-xl flex-grow flex flex-col gap-6"><div class="flex flex-col gap-2"><button class="flex gap-2 items-center px-2 py-1 font-medium text-surface-950"><input type="checkbox" class="w-4 h-4"> </button> <button class="flex gap-2 items-center rounded px-2 py-1 font-medium text-surface-950"><input type="checkbox" class="w-4 h-4"> </button> <button class="flex gap-2 items-center rounded px-2 py-1 font-medium text-surface-950"><input type="checkbox" class="w-4 h-4"> </button> <button class="flex gap-2 items-center rounded px-2 py-1 font-medium text-surface-950"><input type="checkbox" class="w-4 h-4"> </button> <button class="flex gap-2 items-center rounded px-2 py-1 font-medium text-surface-950"><input type="checkbox" class="w-4 h-4"> </button> <button class="flex gap-2 items-center rounded px-2 py-1 font-medium text-surface-950"><input type="checkbox" class="w-4 h-4"> </button> <button class="flex gap-2 items-center rounded px-2 py-1 font-medium text-surface-950"><input type="checkbox" class="w-4 h-4"> </button></div> <div class="flex flex-col gap-2"><div class="text-surface-950 font-bold"> </div> <textarea class="text-sm font-medium placeholder:text-surface-600 text-surface-950 w-full focus:ring-0 focus:outline-none border border-surface-200 hover:border-primary-600 focus:border-primary-600 p-2 rounded" placeholder="Write away..."></textarea></div></div> <div class="flex gap-2 w-full sticky bottom-0 p-4"><button class="flex-1 flex-shrink-0 border border-primary-600 rounded py-3 px-4 text-primary-600 hover:text-primary-800 text-center font-medium cursor-pointer"> </button> <button class="flex-1 flex-shrink-0 text-center border border-primary-600 bg-primary-600 hover:bg-primary-800 rounded py-3 px-4 text-white font-medium cursor-pointer disabled:opacity-60 disabled:cursor-not-allowed"> </button></div>',1),K$=H('<div class="flex p-4 bg-surface-100 justify-between"><h2 class="text-lg font-bold text-surface-950"> </h2> <button class="font-medium text-surface-950">X</button></div> <div class="p-4 rounded-xl flex flex-col gap-6"><p> </p></div> <div class="flex gap-2 w-full sticky bottom-0 p-4"><button class="flex-1 flex-shrink-0 text-center border border-primary-600 bg-primary-600 hover:bg-primary-800 rounded py-3 px-4 text-white font-medium cursor-pointer"> </button></div>',1);function Q$(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(tr,"$LL",r);let o=R(e,"isOpen",15,!1),s=le(1),l=le(!1),c=le(!1),d=le(!1),u=le(!1),f=le(!1),h=le(!1),p=le(!1),m=le(""),y=Ne(()=>!(a(l)||a(c)||a(d)||a(f)||a(u)||a(h)||a(p)||a(m)!==""||a(m).trim()!==""));const _=()=>{let w="";const C="compareResults-shopping",L=window.location.href;[a(l),a(c),a(d),a(u),a(f),a(h),a(p)].forEach((z,T)=>{z&&(w+=T+",")});const P=JSON.stringify([{feedback_selected:w,source:C,feedback_other:a(m).trim(),url:L}]);Vy(P,S)};function S(){g(s,2)}fg(t,{get closed(){return e.closeModal},maxWidth:"max-w-[468px]",boxWrapperClass:"flex flex-col bg-white rounded-xl",get isOpen(){return o()},set isOpen(w){o(w)},children:(w,C)=>{var L=ke(),k=de(L);{var P=T=>{var M=X$(),D=de(M),A=v(D),O=v(A),I=x(A,2);I.__click=function(...Ae){var Ce;(Ce=e.closeModal)==null||Ce.apply(this,Ae)};var B=x(D,2),j=v(B),V=v(j);V.__click=[V$,l];var F=v(V),N=x(F),q=x(V,2);q.__click=[W$,c];var G=v(q),Q=x(G),Z=x(q,2);Z.__click=[H$,d];var E=v(Z),U=x(E),$=x(Z,2);$.__click=[q$,u];var ee=v($),se=x(ee),oe=x($,2);oe.__click=[G$,f];var K=v(oe),J=x(K),te=x(oe,2);te.__click=[$$,h];var X=v(te),re=x(X),fe=x(te,2);fe.__click=[Y$,p];var ue=v(fe),xe=x(ue),we=x(j,2),me=v(we),ce=v(me),ye=x(me,2),be=x(B,2),ve=v(be);ve.__click=function(...Ae){var Ce;(Ce=e.closeModal)==null||Ce.apply(this,Ae)};var Se=v(ve),Ee=x(ve,2);Ee.__click=_;var Be=v(Ee);ae((Ae,Ce,_e,ge,Oe,Le,Re,Me,Te,ze,Fe)=>{Y(O,Ae),ri(F,a(l)),vi(F,a(l)),Y(N,` ${Ce??""}`),ri(G,a(c)),vi(G,a(c)),Y(Q,` ${_e??""}`),ri(E,a(d)),vi(E,a(d)),Y(U,` ${ge??""}`),ri(ee,a(u)),vi(ee,a(u)),Y(se,` ${Oe??""}`),ri(K,a(f)),vi(K,a(f)),Y(J,` ${Le??""}`),ri(X,a(h)),vi(X,a(h)),Y(re,` ${Re??""}`),ri(ue,a(p)),vi(ue,a(p)),Y(xe,` ${Me??""}`),Y(ce,Te),Y(Se,ze),Ee.disabled=a(y),Y(Be,Fe)},[()=>i()("compareBar.feedback.whatProblem"),()=>i()("compareBar.feedback.incorrectPrice"),()=>i()("compareBar.feedback.wrongProductCompared"),()=>i()("compareBar.feedback.wrongCategoryComparison"),()=>i()("compareBar.feedback.doNotUnterstand"),()=>i()("compareBar.feedback.notLookingGood"),()=>i()("compareBar.feedback.outOfStock"),()=>i()("compareBar.feedback.satisfied"),()=>i()("compareBar.feedback.anyOther"),()=>i()("common.cancel"),()=>i()("common.submit")]),Ui(ye,()=>a(m),Ae=>g(m,Ae)),b(T,M)},z=T=>{var M=ke(),D=de(M);{var A=O=>{var I=K$(),B=de(I),j=v(B),V=v(j),F=x(j,2);F.__click=function(...U){var $;($=e.closeModal)==null||$.apply(this,U)};var N=x(B,2),q=v(N),G=v(q),Q=x(N,2),Z=v(Q);Z.__click=function(...U){var $;($=e.closeModal)==null||$.apply(this,U)};var E=v(Z);ae((U,$,ee)=>{Y(V,U),Y(G,$),Y(E,ee)},[()=>i()("compareBar.feedback.allDone"),()=>i()("compareBar.feedback.thanksForFeedback"),()=>i()("common.close")]),b(O,I)};W(D,O=>{a(s)===2&&O(A)},!0)}b(T,M)};W(k,T=>{a(s)===1?T(P):T(z,!1)})}b(w,L)},$$slots:{default:!0}}),Ke(),n()}Tt(["click"]);const J$="/assets/leftArrow-qYKZ0ai7.svg",Z$="/assets/closeIcon-D_UO4fyM.svg";var eY=H('<div role="button" tabindex="0" class="absolute top-[50px] left-[-100%] bg-white w-[360px] z-[999999] gap-3 rounded-lg shadow-lg"><!></div>'),tY=H('<div role="button" tabindex="-1"><!></div>'),rY=(t,e)=>g(e,!1),nY=H('<div class="fixed left-0 top-0 w-full bg-primary-950 text-white flex items-start lg:items-center px-4 lg:px-10 py-2 z-[999999] gap-3 hk-ext-animated"><div class="flex flex-col gap-4 lg:gap-auto lg:flex-row justify-center items-center flex-grow"><div class="flex items-center gap-4 text-sm"><span class="h-6 w-6"><!></span> <span class="text-base font-medium"><!> <!> </span></div> <div class="flex items-center gap-2 pl-10"><div class="relative" role="button" tabindex="0"><button class="bg-warning-500 h-8 w-28 hover:bg-warning-600 text-white justify-center rounded-md text-base font-medium"> </button> <!></div> <span class="text-xs opacity-70 capitalize"> </span> <div role="button" tabindex="-1" class="relative"><button class="bg-primary-600 h-8 px-4 hover:bg-primary-700 text-white justify-center rounded-md text-base font-medium flex items-center"> <svg xmlns="http://www.w3.org/2000/svg" class="inline h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button> <!></div></div></div> <button class="text-white rounded-md text-sm font-medium cursor-pointer"><img alt="left arrow" class="h-6 w-6"></button></div>'),aY=(t,e)=>g(e,!0),iY=H('<span class="block whitespace-nowrap pl-1"> </span>'),oY=H('<button class="fixed top-2 right-0 z-[999999] duration-300 ease-in text-white rounded-l-lg text-sm font-medium cursor-pointer bg-primary-950 group flex gap-1 items-center"><div class="rounded-l-lg bg-primary-900 px-1 py-2"><img alt="left arrow" class="h-6 w-6"></div> <div class="flex gap-1 p-2"><span class="h-5 w-5"><!></span> <!></div></button>'),sY=H("<!> <!>",1);function lY(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(kc,"$comparePriceStore",r),o=()=>ie(fn,"$nonPersistAppStore",r),s=()=>ie(U3,"$siteConfigs",r),l=()=>ie(tr,"$LL",r);chrome.runtime.getURL(Ql);let c=chrome.runtime.getURL(J$),d=chrome.runtime.getURL(Z$),u=le(!1),f=le(!1),h=le(!1),p=Ne(()=>i().trustedComparePriceData),m=Ne(()=>i().untrustedComparePriceData),y=Ne(()=>i().comparePriceData),_=le(0),S=le(""),w=le(o().minimize==="never"),C=le(null),L=le(null),k=Ne(()=>s()==null||s()==null||s()==""?null:s().config_css),P=Ne(()=>a(k)?D(a(k)):null),z=le(!1);const T=()=>{g(z,!0)},M=()=>{g(z,!1)};function D(F){let N={};function q(G){if(!G.includes("*~*"))return document.querySelectorAll(G);const Z=G.startsWith("."),E=G.startsWith("#"),U=G.slice(1).split("*~*")[0];return Z?document.querySelectorAll(`[class^="${U}"]`):E?document.querySelectorAll(`[id^="${U}"]`):[]}return{whenCompareBarShown(){Object.entries(F).forEach(([G,Q])=>{const Z=q(G);Z.length&&Z.forEach(E=>{Q.forEach(({type:U,property:$,reference:ee})=>{if(!a(L))return;const se=a(L).offsetHeight;if(ee&&!N[ee]){const K=document.querySelector(ee);if(!K)return;N[ee]=K.offsetHeight}let oe;U===1?oe=E.offsetHeight+se+"px":U===2?oe=N[ee]+"px":oe=se+"px",E.style[$]=oe})})})},whenCompareBarHidden(){Object.entries(F).forEach(([G,Q])=>{const Z=q(G);Z.length&&Z.forEach(E=>{Q.forEach(({type:U,property:$,reference:ee})=>{if(!a(L))return;const se=a(L).offsetHeight;ee&&N[ee]?E.style[$]=N[ee]+"px":E.style[$]=U===1?E.offsetHeight-se+"px":"0px"})})})}}}function A(F){a(k)&&a(P)&&(F?a(P).whenCompareBarShown():a(P).whenCompareBarHidden())}let O=le(ne(o().minimize));mr(()=>{const F=o().minimize;a(O)!==F&&g(w,F==="never"),g(O,ne(F))}),mr(()=>{g(_,ne(o().siteProductPrice||0)),g(S,ne(o().currencySymbol||"")),o().selectedOption&&(g(h,!1),g(f,!1))}),mr(()=>{var F,N;if(a(y).length>0&&a(w)){const q=(F=a(L))==null?void 0:F.offsetHeight;(N=a(L))==null||N.classList.add("hk-ext-slideInDown"),document.body.style.setProperty("margin-top",`${q}px`,"important"),A(!0)}else document.body.style.setProperty("margin-top","0px","important"),A(!1)}),Zt(()=>{const F=N=>{const q=N.target;q&&"closest"in q&&q.closest("button")||a(C)&&!a(C).contains(q)&&(g(h,!1),g(f,!1))};return window.addEventListener("click",F),()=>{window.removeEventListener("click",F)}});var I=sY(),B=de(I);{var j=F=>{var N=ke(),q=de(N);{var G=Z=>{var E=nY(),U=v(E),$=v(U),ee=v($),se=v(ee);Xt(se,()=>Ql);var oe=x(ee,2),K=v(oe);{var J=Le=>{var Re=Wt("Similar Looking Product Available At");b(Le,Re)},te=Le=>{var Re=Wt();ae(Me=>Y(Re,Me),[()=>l()("compareBar.sameProductAvailabeAt")]),b(Le,Re)};W(K,Le=>{i().dittoPromoteFlag?Le(J):Le(te,!1)})}var X=x(K,2);{var re=Le=>{var Re=Wt();ae(()=>Y(Re,`${a(S)??""}${(a(p).length>0?a(p)[0].currentPrice:a(y)[0].currentPrice)??""}`)),b(Le,Re)},fe=Le=>{var Re=Wt("0");b(Le,Re)};W(X,Le=>{a(y).length>0?Le(re):Le(fe,!1)})}var ue=x(X),xe=x($,2),we=v(xe),me=v(we),ce=v(me),ye=x(me,2);{var be=Le=>{var Re=eY(),Me=v(Re);const Te=Ne(()=>a(p).length>0?a(p)[0]:a(y)[0]);$0(Me,{get item(){return a(Te)},ourPick:!0,get productPriceOnSite(){return a(_)},officialSite:!1}),tt("mouseenter",Re,()=>{g(h,!1),g(f,!0),un({selectedOption:""})}),tt("mouseleave",Re,()=>g(f,!1)),b(Le,Re)};W(ye,Le=>{a(f)&&Le(be)})}var ve=x(we,2),Se=v(ve),Ee=x(ve,2),Be=v(Ee),Ae=v(Be),Ce=x(Be,2);{var _e=Le=>{var Re=tY(),Me=v(Re);Rw(Me,{get trustedComparePriceData(){return a(p)},get untrustedComparePriceData(){return a(m)},get productPriceOnSite(){return a(_)},openFeedbackModal:T}),tt("mouseleave",Re,Te=>{Te.stopPropagation(),g(f,!1),g(h,!1)}),b(Le,Re)};W(Ce,Le=>{a(h)&&Le(_e)})}Ar(Ee,Le=>g(C,Le),()=>a(C));var ge=x(U,2);ge.__click=[rY,w];var Oe=v(ge);pe(Oe,"src",d),Ar(E,Le=>g(L,Le),()=>a(L)),ae((Le,Re,Me)=>{Y(ue,` in ${(a(p).length>0?a(p)[0].siteName:a(y)[0].siteName)??""}`),Y(ce,Le),Y(Se,Re),Y(Ae,`${a(y).length??""}
							${Me??""} `)},[()=>l()("common.buyNow"),()=>l()("common.or"),()=>a(y).length>1?l()("common.moreOptions"):l()("common.moreOption")]),tt("mouseenter",we,()=>{g(f,!0),g(h,!1),un({selectedOption:""})}),tt("mouseenter",Ee,Le=>{Le.stopPropagation(),g(f,!1),g(h,!0),un({selectedOption:""}),_o(5)}),Rt(1,E,()=>jr,()=>({duration:300,axis:"y"})),Rt(2,E,()=>jr,()=>({duration:300,axis:"y"})),b(Z,E)},Q=Z=>{var E=oY();E.__click=[aY,w];var U=v(E),$=v(U);pe($,"src",c);var ee=x(U,2),se=v(ee),oe=v(se);Xt(oe,()=>Ql);var K=x(se,2);{var J=te=>{var X=iY(),re=v(X);ae(fe=>Y(re,fe),[()=>l()("compareBar.showPriceComparison")]),Rt(1,X,()=>jr,()=>({duration:300,axis:"x"})),Rt(2,X,()=>jr,()=>({duration:300,axis:"x"})),b(te,X)};W(K,te=>{a(u)&&te(J)})}tt("mouseenter",E,()=>{g(u,!0)}),tt("mouseleave",E,()=>g(u,!1)),b(Z,E)};W(q,Z=>{a(w)?Z(G):Z(Q,!1)})}b(F,N)};W(B,F=>{a(y).length>0&&F(j)})}var V=x(B,2);Q$(V,{get isOpen(){return a(z)},closeModal:M}),b(t,I),Ke(),n()}Tt(["click"]);const zw={isActive:!1,iframeOrigin:"",iframeUrl:""},Hc=bt(zw),dQ=t=>{Hc.update(e=>({...e,...t}))},uQ=()=>{Hc.set(zw)},cY=(t,e)=>{a(e)?window.postMessage({type:rp.MAIN_APPLY_CLICKED,source:"buyhatke-extension"},"*"):o_()},dY=(t,e,r)=>{Ho(!1),zu(!1),tc(!0),a(e)&&r(rp.MAIN_PANEL_CLOSED)};var uY=H('<p class="text-slate-950 font-bold text-xl"> </p> <p class="text-slate-600 text-xs"> </p>',1),fY=H('<p class="text-slate-950 font-bold text-xl"> </p> <p class="text-slate-600 text-xs"> </p>',1),vY=H('<div class="w-[272px] fixed top-14 right-0 max-h-screen overflow-hidden cursor-pointer" style="z-index: 2147483647 !important;"><div class="hk-coupon-draggable__handle relative z-10 p-2 bg-yellow-400 rounded-lg shadow-lg border border-yellow-400"><div class="flex justify-between w-full mb-2 cursor-grab"><div class="flex items-center gap-1 text-slate-950 ml-2"><span class="font-bold text-sm"> </span> <span class="text-sm">by</span> <img alt="buyhatke" class="h-4"> <span class="text-xs font-semibold">Buyhatke</span></div> <button class="text-slate-700 hover:text-black text-xl font-bold">Ã—</button></div> <div class="bg-white rounded p-4 relative"><div class="flex flex-col text-center gap-4"><div class="flex justify-center"><img alt="coupon illustration" class="w-24 h-24"></div> <!> <button class="bg-indigo-600 text-white px-6 py-2 rounded font-semibold disabled:opacity-40"> </button> <div class="text-start"><!></div></div></div></div></div>');function hY(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(Hc,"$autoCouponBridgeStore",r),o=()=>ie(tr,"$LL",r),s=()=>ie(Yi,"$autoCouponStore",r),l=()=>ie(fn,"$nonPersistAppStore",r);let c=chrome.runtime.getURL(bc),d=chrome.runtime.getURL(hp),u=le(null),f=le(null),h=Ne(()=>i().isActive&&n_().length>0);function p(){try{let G=function(){var Z=window.innerWidth,E=N==null?void 0:N.offsetWidth;N.style.top="20px",N.style.left=Z-E-20+"px"},Q=function(Z,E){let U=0,$=0,ee=0,se=0;G(),Z.onmousedown=oe;function oe(te){te=te||window.event,te.preventDefault(),ee=te.clientX,se=te.clientY,document.onmouseup=J,document.onmousemove=K}function K(te){te=te||window.event,te.preventDefault(),U=ee-te.clientX,$=se-te.clientY,ee=te.clientX,se=te.clientY;var X=E.offsetTop-$,re=E.offsetLeft-U,fe=window.innerWidth,ue=window.innerHeight,xe=E.offsetWidth,we=E.offsetHeight;X<0&&(X=0),re<0&&(re=0),X>ue-we&&(X=ue-we),re>fe-xe&&(re=fe-xe),E.style.top=X+"px",E.style.left=re+"px"}function J(){document.onmouseup=null,document.onmousemove=null}};const N=a(u),q=a(f);Q(q,N),window.addEventListener("resize",G)}catch{}}Zt(()=>{a(u)?p():console.error("Drag element is undefined.")});const m=N=>{try{window.postMessage({type:N,source:"buyhatke-extension"},"*")}catch{}};var y=vY(),_=v(y),S=v(_),w=v(S),C=v(w),L=v(C),k=x(C,4);pe(k,"src",c);var P=x(w,2);P.__click=[dY,h,m],Ar(S,N=>g(f,N),()=>a(f));var z=x(S,2),T=v(z),M=v(T),D=v(M);pe(D,"src",d);var A=x(M,2);{var O=N=>{var q=uY(),G=de(q),Q=v(G),Z=x(G,2),E=v(Z);ae((U,$)=>{Y(Q,U),Y(E,$)},[()=>o()("autoCoupons.findBestDeals"),()=>o()("autoCoupons.weScanTopCoupons",{values:{siteName:l().siteDetails.siteName??"Site"}})]),b(N,q)},I=N=>{var q=fY(),G=de(q),Q=v(G),Z=x(G,2),E=v(Z);ae((U,$)=>{Y(Q,U),Y(E,$)},[()=>o()("autoCoupons.notLogged",{values:{siteName:l().siteDetails.siteName??"Site"}}),()=>o()("autoCoupons.reloadPage")]),b(N,q)};W(A,N=>{s().loginAutoCoupon?N(O):N(I,!1)})}var B=x(A,2);B.__click=[cY,h];var j=v(B),V=x(B,2),F=v(V);po(F,{featureKey:"Auto_Coupon"}),Ar(y,N=>g(u,N),()=>a(u)),ae((N,q)=>{Y(L,N),B.disabled=!s().loginAutoCoupon,Y(j,q)},[()=>o()("features.autoCoupons"),()=>o()("autoCoupons.applyCoupons")]),b(t,y),Ke(),n()}Tt(["click"]);const pY=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
	<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
		d="M15.75 17.25v3.38c0 .62-.5 1.12-1.13 1.12H4.88a1.13 1.13 0 0 1-1.13-1.12V7.88c0-.62.5-1.13 1.13-1.13h1.87a9.06 9.06 0 0 1 1.5.13m7.5 10.37h3.38c.62 0 1.12-.5 1.12-1.12v-4.88a9 9 0 0 0-7.5-8.87 9.06 9.06 0 0 0-1.5-.13H9.37c-.62 0-1.12.5-1.12 1.13v3.5m7.5 10.37H9.37a1.13 1.13 0 0 1-1.12-1.12V6.88m12 6.62v-1.87a3.38 3.38 0 0 0-3.38-3.38h-1.5a1.13 1.13 0 0 1-1.12-1.12v-1.5a3.38 3.38 0 0 0-3.38-3.38H9.75" />
</svg>
`;var gY=(t,e)=>{e.handleCouponClick(e.coupon)},mY=H('â€¢ <span class="text-green-600"> </span> off!',1),xY=H('<button class="px-5 py-4 cursor-pointer disabled:cursor-not-allowed"><div class="flex gap-2 items-center"><div class="w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0"><!> <!></div> <div class="flex flex-col text-sm text-left"><p class="font-bold text-slate-950"> <!></p> <p class="text-xs text-slate-600 text-ellipsis overflow-hidden line-clamp-1"> </p></div></div></button>');function wd(t,e){Xe(e,!0);let r=R(e,"isCouponApplied",3,!0),n=R(e,"disabled",3,!1),i=chrome.runtime.getURL(pp);var o=xY();o.__click=[gY,e];var s=v(o),l=v(s),c=v(l);{var d=C=>{Ur(C,{src:B_,alt:"retry",cls:"w-6 h-6"})};W(c,C=>{e.coupon.savings<=0&&C(d)})}var u=x(c,2);{var f=C=>{Ur(C,{src:j_,alt:"retry",cls:"w-6 h-6"})};W(u,C=>{e.coupon.savings>0&&r()&&C(f)})}var h=x(l,2),p=v(h),m=v(p),y=x(m);{var _=C=>{var L=mY(),k=x(de(L)),P=v(k);ae(()=>Y(P,`${e.currencySymbol??""}${e.coupon.savings??""}`)),b(C,L)};W(y,C=>{e.coupon.savings>0&&C(_)})}var S=x(p,2),w=v(S);ae(C=>{pe(o,"style",`background: url(${i??""}) no-repeat center center; background-size: contain; min-height:68px; min-height: ${C??""};`),o.disabled=n(),qe(l,"border-2",!e.coupon.msg),Y(m,`${e.coupon.code??""} `),Y(w,e.coupon.desc)},[()=>tp(e.pos)?"75px":"68px"]),b(t,o),Ke()}Tt(["click"]);async function yY(t,e,r,n,i,o,s,l){const c=await an("feedbackStored"),d=await e();a(r)===1&&a(n)&&a(i)>0&&!c&&d?g(r,2):(g(o,!1),zu(!1),Ho(!1),a_(),Fy(!1),Uy(!1),a(s)&&l(rp.MAIN_POPUP_CLOSED))}var _Y=H('<div class="absolute bottom-2 left-1/2 -translate-x-1/2 mx-auto w-fit hk-taost-bg-gradient rounded-lg p-2 bg-indigo-50"><p class="text-sm font-medium"> </p></div>'),bY=(t,e,r)=>{navigator.clipboard.writeText(a(e)),g(r,"Coupon Copied"),setTimeout(()=>{g(r,"")},3e3)},wY=H('<div class="flex flex-col gap-2"><div><h2 class="text-xl font-bold mb-2 text-slate-950"><!></h2> <button class="flex gap-1 items-center bg-primary-50 text-sm font-medium text-primary-600 hover:text-primary-800 px-4 py-1 rounded-lg mx-auto"> <span class="inline-block w-4 h-4"><!></span></button></div> <p class="text-sm text-slate-600"> </p></div>'),kY=H('<h2 class="text-xl font-bold mb-2 text-slate-950"> </h2>'),SY=H('<h2 class="text-xl font-semibold mb-2"><!></h2> <p class="text-xs text-slate-900 mb-4"><!></p> <div class="w-full h-3 bg-white rounded-full overflow-hidden mb-4"><div class="h-full bg-indigo-600 transition-all duration-300"></div></div> <p class="font-bold text-lg"><!></p>',1),CY=H('<div class="px-5 py-4 animate-pulse rounded-lg"><div class="flex gap-2 items-center"><div class="w-6 h-6 rounded-full bg-gray-300 flex-shrink-0"></div> <div class="flex flex-col gap-2 text-left w-full"><div class="h-4 bg-gray-300 rounded w-1/2"></div> <div class="h-3 bg-gray-200 rounded w-3/4"></div></div></div></div>'),AY=H('<h3 class="text-slate-950 text-xs font-bold"> </h3> <div class="flex flex-col gap-2 relative h-full mt-3"><div class="h-full absolute bottom-0 w-full" style="background: linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, #FFFFFF 75.93%);"></div> <!></div>',1),MY=H('<h3 class="text-slate-950 text-xs font-bold">Checking Coupons...</h3> <div class="flex flex-col gap-4 overflow-y-auto mt-3"></div>',1),PY=H('<h3 class="text-slate-950 text-xs font-bold"> </h3> <div class="flex flex-col gap-4 overflow-y-auto mt-3"><!></div>',1),DY=H('<h3 class="text-slate-950 text-xs font-bold mt-3">Available Coupons</h3> <div class="flex flex-col gap-4 overflow-y-auto mt-3"></div>',1),LY=H('<h3 class="text-slate-950 text-xs font-bold mt-3">Unavailable Coupons</h3> <div class="flex flex-col gap-4 overflow-y-auto mt-3"></div>',1),EY=H("<!> <!> <!>",1),IY=H('<div class="flex bg-white rounded overflow-hidden h-full"><div class="bg-indigo-50 p-4 flex flex-1 flex-col items-center justify-center text-center relative"><!> <div class="mb-4"><!> <!></div></div> <div class="flex-1 bg-white p-4 overflow-y-auto"><!></div></div>'),TY=H("<div><!></div>"),OY=H('<div class="fixed inset-0 flex items-center justify-center" style="z-index: 2147483647 !important;"><div class="absolute inset-0 bg-black/50 backdrop-blur-sm z-0"></div> <div><div class="flex justify-between items-center w-full mb-2 text-slate-950"><div class="flex items-center gap-1"><span class="font-bold text-sm"> </span> <span class="text-sm">by</span> <!> <span class="text-xs font-semibold">buyhatke</span></div> <button class="text-slate-700 hover:text-black text-xl font-bold px-1 -mr-1">Ã—</button></div> <!></div></div>');function RY(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(Yi,"$autoCouponStore",r),o=()=>ie(Hc,"$autoCouponBridgeStore",r),s=()=>ie(tr,"$LL",r);let l=chrome.runtime.getURL(pp),c=le(0),d=le(0),u=le(ne([])),f=le(!1),h=Ne(()=>i().successAutoCoupon),p=Ne(()=>i().failedAutoCoupon),m=le(0),y=le(""),_=le(""),S=le(0),w=le(ne([])),C=le(ne([])),L=le(ne([])),k=le(null),P=Ne(()=>i().currencySymbol),z=le(1),T=le(""),M=le(!0),D=Ne(()=>o().isActive);const A={first:2592e6,second:7776e6,third:15552e6,fourth:31536e6};function O(G){switch(G){case 0:return A.first;case 1:return A.second;case 2:return A.third;default:return A.fourth}}async function I(){try{if(await an("feedbackStored"))return!1;const Q=await an("ratingModuleData")||{lastClosedTime:0,closeCount:0,lastRating:0},E=Date.now()-Q.lastClosedTime,U=O(Q.closeCount);return E>=U}catch{return!1}}const B=G=>{try{window.postMessage({type:G,source:"buyhatke-extension"},"*")}catch{}};function j(){if(a(u).length===0)return;const G=i(),Q=[...a(u)].sort((E,U)=>{const $=Number(E.savings??0);return Number(U.savings??0)-$});if(g(w,ne(Q)),g(C,ne(Q.filter(E=>Number(E.savings??0)>0))),g(L,ne(Q.filter(E=>Number(E.savings??0)<=0))),G.successAutoCoupon&&typeof G.successAutoCoupon=="object"){const E=a(u).find(U=>U.code===G.successAutoCoupon.code);E&&(g(k,ne(E)),g(m,ne(Number(E.savings??0))),g(y,ne(E.code)))}else Q.length>0&&(g(k,ne(Q[0])),g(m,ne(Number(Q[0].savings??0))),g(y,ne(Q[0].code)));g(d,ne(a(u).length)),g(S,ne(a(u).filter(E=>E.hasOwnProperty("msg")).length));let Z=a(d)>0?Math.floor(a(S)/a(d)*100):0;!a(h)&&Z>=100&&a(m)>0?g(c,99):g(c,ne(Z))}mr(()=>{const G=i().couponList;if(!G||G.length===0){a(u).length>0&&(g(u,ne([])),g(c,0),g(d,0),g(m,0),g(y,""),g(k,null),g(S,0),g(w,ne([])),g(C,ne([])),g(L,ne([])),g(f,!0));return}if(G.length>0)if(a(u).length===0)g(u,ne([...G])),g(f,!1),j();else{const Q=new Set(a(u).map(E=>E.code)),Z=G.filter(E=>!Q.has(E.code));Z.length>0&&(g(u,ne([...a(u),...Z])),j())}}),mr(()=>{const G=i(),Q=G==null?void 0:G.appliedCoupon;if(!(Q!=null&&Q.code))return;const Z=Q.code,E=Q.msg,U=Number(Q.savings??0);g(f,!1);const $=[...a(u)],ee=$.findIndex(oe=>oe.code===Z);let se;if(ee!==-1){const oe=$[ee],K=oe.msg,J=Number(oe.savings??0);(K!==E||J!==U)&&(se=$.map((te,X)=>X===ee?{...te,...Q,savings:U,msg:E??te.msg,success:Q.success??U>0}:te),g(u,ne(se)))}else g(u,ne([...$,{...Q,savings:U}]));j()}),Zt(async()=>{g(f,!0),g(T,ne(await Uu()))});function V(G){g(k,ne(G)),g(m,ne(G.savings)),g(y,ne(G.code));const Q=a(u).findIndex(Z=>Z.code===a(k).code);i_(G,Q)}var F=ke(),N=de(F);{var q=G=>{var Q=OY(),Z=x(v(Q),2),E=v(Z),U=v(E),$=v(U),ee=v($),se=x($,4);Ur(se,{src:bc,alt:"buyhatke",cls:"h-4"});var oe=x(U,2);oe.__click=[yY,I,z,h,m,M,D,B];var K=x(E,2);{var J=X=>{var re=IY(),fe=v(re),ue=v(fe);{var xe=Ae=>{var Ce=_Y(),_e=v(Ce),ge=v(_e);ae(()=>Y(ge,a(_))),b(Ae,Ce)};W(ue,Ae=>{a(_)&&Ae(xe)})}var we=x(ue,2),me=v(we);Ur(me,{src:z_,alt:"illustration",cls:"mx-auto"});var ce=x(me,2);{var ye=Ae=>{var Ce=wY(),_e=v(Ce),ge=v(_e),Oe=v(ge);Xt(Oe,()=>s()("autoCoupons.youSaved",{values:{highestSavings:a(m),currencySymbol:a(m)>0?a(P):""}}));var Le=x(ge,2);Le.__click=[bY,y,_];var Re=v(Le),Me=x(Re),Te=v(Me);Xt(Te,()=>pY);var ze=x(_e,2),Fe=v(ze);ae(Ye=>{Y(Re,`${a(y)??""} `),Y(Fe,Ye)},[()=>s()("autoCoupons.weHaveTestedBest")]),b(Ae,Ce)},be=Ae=>{var Ce=ke(),_e=de(Ce);{var ge=Le=>{var Re=kY(),Me=v(Re);ae(Te=>Y(Me,Te),[()=>s()("autoCoupons.noCouponsFound")]),b(Le,Re)},Oe=Le=>{var Re=SY(),Me=de(Re),Te=v(Me);{var ze=nt=>{var Qe=Wt();ae(rt=>Y(Qe,rt),[()=>s()("autoCoupons.testedCoupons")]),b(nt,Qe)},Fe=nt=>{var Qe=Wt();ae(rt=>Y(Qe,rt),[()=>s()("autoCoupons.testingCoupons")]),b(nt,Qe)};W(Te,nt=>{a(c)===99&&!a(h)?nt(ze):nt(Fe,!1)})}var Ye=x(Me,2),Je=v(Ye);{var et=nt=>{var Qe=Wt();ae(rt=>Y(Qe,rt),[()=>s()("autoCoupons.progressWithCheck",{values:{progress:a(c),count:a(d)}})]),b(nt,Qe)},Ze=nt=>{var Qe=Wt();ae(rt=>Y(Qe,rt),[()=>s()("autoCoupons.progressComplete",{values:{progress:a(c)}})]),b(nt,Qe)};W(Je,nt=>{a(c)!==100&&!a(h)?nt(et):nt(Ze,!1)})}var Ge=x(Ye,2),Pe=v(Ge),We=x(Ge,2),He=v(We);Xt(He,()=>s()("autoCoupons.youHaveGot",{values:{highestSavings:a(m),currencySymbol:a(m)>0?a(P):""}})),ae(()=>pe(Pe,"style",`width: ${a(c)??""}%`)),b(Le,Re)};W(_e,Le=>{a(p)?Le(ge):Le(Oe,!1)},!0)}b(Ae,Ce)};W(ce,Ae=>{a(h)?Ae(ye):Ae(be,!1)})}var ve=x(fe,2),Se=v(ve);{var Ee=Ae=>{var Ce=AY(),_e=de(Ce),ge=v(_e),Oe=x(_e,2),Le=x(v(Oe),2);St(Le,16,()=>Array(5),zt,(Re,Me)=>{var Te=CY();pe(Te,"style",`background: url(${l??""}) no-repeat center center; background-size: contain; min-height: '68px'`),b(Re,Te)}),ae(Re=>Y(ge,Re),[()=>s()("autoCoupons.couponsAndSavings")]),b(Ae,Ce)},Be=Ae=>{var Ce=ke(),_e=de(Ce);{var ge=Le=>{var Re=MY(),Me=x(de(Re),2);St(Me,21,()=>a(w),zt,(Te,ze)=>{wd(Te,{get coupon(){return a(ze)},handleCouponClick:V,get currencySymbol(){return a(P)},get pos(){return a(T)}})}),b(Le,Re)},Oe=Le=>{var Re=EY(),Me=de(Re);{var Te=et=>{var Ze=PY();const Ge=Ne(()=>a(k));var Pe=de(Ze),We=v(Pe),He=x(Pe,2),nt=v(He);wd(nt,{get coupon(){return a(Ge)},handleCouponClick:V,get currencySymbol(){return a(P)},get pos(){return a(T)}}),ae(Qe=>Y(We,Qe),[()=>s()("autoCoupons.appliedCoupons")]),b(et,Ze)};W(Me,et=>{a(k)&&a(k).savings>0&&et(Te)})}var ze=x(Me,2);{var Fe=et=>{var Ze=DY(),Ge=x(de(Ze),2);St(Ge,21,()=>a(C),zt,(Pe,We)=>{var He=ke(),nt=de(He);{var Qe=rt=>{wd(rt,{get disabled(){return i().isReloadCoupons},get coupon(){return a(We)},handleCouponClick:V,get currencySymbol(){return a(P)},isCouponApplied:!1,get pos(){return a(T)}})};W(nt,rt=>{a(k)&&a(k).code!=a(We).code&&rt(Qe)})}b(Pe,He)}),b(et,Ze)};W(ze,et=>{a(C).length>1&&et(Fe)})}var Ye=x(ze,2);{var Je=et=>{var Ze=LY(),Ge=x(de(Ze),2);St(Ge,21,()=>a(L),zt,(Pe,We)=>{wd(Pe,{get disabled(){return i().isReloadCoupons},get coupon(){return a(We)},handleCouponClick:V,get currencySymbol(){return a(P)},isCouponApplied:!1,get pos(){return a(T)}})}),b(et,Ze)};W(Ye,et=>{a(L).length>0&&et(Je)})}b(Le,Re)};W(_e,Le=>{a(c)!==100?Le(ge):Le(Oe,!1)},!0)}b(Ae,Ce)};W(Se,Ae=>{a(f)?Ae(Ee):Ae(Be,!1)})}b(X,re)},te=X=>{var re=ke(),fe=de(re);{var ue=xe=>{var we=TY(),me=v(we);Hu(me,{comingFromAutoCoupon:!0}),b(xe,we)};W(fe,xe=>{a(z)===2&&xe(ue)},!0)}b(X,re)};W(K,X=>{a(z)===1?X(J):X(te,!1)})}ae(X=>{$e(Z,Mr(["relative z-10 flex flex-col rounded-lg border border-yellow-400 bg-yellow-400 p-2 shadow-xl",{"w-[720px] h-[476px] max-h-[476px]":a(z)===1}])),Y(ee,X)},[()=>s()("features.autoCoupons")]),b(G,Q)};W(N,G=>{a(M)&&G(q)})}b(t,F),Ke(),n()}Tt(["click"]);var NY=()=>{V3(!1)},zY=H('<div class="fixed z-[999999] overflow-x-hidden overflow-y-auto cursor-pointer w-[358px] rounded-lg max-h-[656px] border-2 border-surface-200"><div class="relative z-10 bg-white rounded-lg shadow-lg"><div class="flex justify-between w-full cursor-grab bg-primary-50 px-6 py-4 rounded-t-md"><div class="flex items-center gap-2"><div class="w-8 h-8 bg-primary-600 rounded flex items-center justify-center"><!></div> <span class="text-primary-600 text-base font-bold">Spend/Watch Lens</span></div> <button class="text-surface-700 hover:text-black text-xl font-bold">Ã—</button></div> <div><!></div></div></div>');function BY(t,e){Xe(e,!0);let r=le(null),n=le(null);function i(){try{let _=function(){var w=window.innerWidth,C=(m==null?void 0:m.offsetWidth)??0;m&&(m.style.top="20px",m.style.left=w-C-20+"px")},S=function(w,C){let L=0,k=0,P=0,z=0;_(),w.onmousedown=T;function T(A){A=A||window.event,A.preventDefault(),P=A.clientX,z=A.clientY,document.onmouseup=D,document.onmousemove=M}function M(A){A=A||window.event,A.preventDefault(),L=P-A.clientX,k=z-A.clientY,P=A.clientX,z=A.clientY;var O=C.offsetTop-k,I=C.offsetLeft-L,B=window.innerWidth,j=window.innerHeight,V=C.offsetWidth,F=C.offsetHeight;O<0&&(O=0),I<0&&(I=0),O>j-F&&(O=j-F),I>B-V&&(I=B-V),C.style.top=O+"px",C.style.left=I+"px"}function D(){document.onmouseup=null,document.onmousemove=null}};const m=a(r),y=a(n);S(y,m),window.addEventListener("resize",_)}catch{}}Zt(()=>{a(r)?i():console.error("Drag element is undefined.")});var o=zY(),s=v(o),l=v(s),c=v(l),d=v(c),u=v(d);Ur(u,{src:b_,alt:"site_logo",cls:"w-5 h-5 text-white"});var f=x(c,2);f.__click=[NY],Ar(l,m=>g(n,m),()=>a(n));var h=x(l,2),p=v(h);F_(p,{}),Ar(o,m=>g(r,m),()=>a(r)),b(t,o),Ke()}Tt(["click"]);const jY=(t,e)=>{var i;const n=(i=t.target.closest("[data-url]"))==null?void 0:i.getAttribute("data-url");H3(n),g(e,ne(a(e).filter(o=>o!==n))),q3(a(e))};var FY=H('<div class="flex p-4 bg-surface-100 justify-between"><h2 class="text-lg font-bold text-surface-950"> </h2> <button class="font-medium text-surface-950"><img alt="close modal" class="w-6 h-6"></button></div> <div class="p-4 rounded-xl flex-grow flex flex-col gap-6"> </div> <div class="flex gap-2 w-full sticky bottom-0 p-4"><button class="flex-1 flex-shrink-0 border border-primary-600 rounded py-3 px-4 text-primary-600 hover:text-primary-800 text-center font-medium cursor-pointer"> </button> <button class="flex-1 flex-shrink-0 text-center border border-primary-600 bg-primary-600 hover:bg-primary-800 rounded py-3 px-4 text-white font-medium cursor-pointer disabled:opacity-60 disabled:cursor-not-allowed"> </button></div>',1),UY=H('<div class="flex p-4 bg-surface-100 justify-between"><h2 class="text-lg font-bold text-surface-950"> </h2> <button class="font-medium text-surface-950"><img alt="close modal" class="w-6 h-6"></button></div> <div class="p-4 rounded-xl flex-grow flex flex-col gap-6"> </div> <div class="flex gap-2 w-full sticky bottom-0 p-4"><button class="flex-1 flex-shrink-0 border border-primary-600 rounded py-3 px-4 text-primary-600 hover:text-primary-800 text-center font-medium cursor-pointer"> </button> <button class="flex-1 flex-shrink-0 text-center border border-primary-600 bg-primary-600 hover:bg-primary-800 rounded py-3 px-4 text-white font-medium cursor-pointer disabled:opacity-60 disabled:cursor-not-allowed"> </button></div>',1),VY=H('<div class="p-4 rounded-xl flex-grow flex flex-col gap-6 min-h-[200px] justify-center items-center"><p> </p></div>'),WY=H('<div class="flex justify-between gap-4 items-center group hover:bg-surface-100 rounded-md p-2"><p class="text-sm text-surface-950 font-medium whitespace-nowrap overflow-hidden text-ellipsis"> </p> <button class="cursor-pointer text-sm font-medium text-white bg-danger-500 hover:bg-danger-600 rounded-md px-2 py-1"> </button></div>'),HY=(t,e,r)=>e(a(r)),qY=H('<div class="flex justify-between gap-4 items-center group hover:bg-surface-100 rounded-md p-2"><p class="text-sm text-surface-950 font-medium whitespace-nowrap overflow-hidden text-ellipsis"> </p> <button class="cursor-pointer text-sm font-medium text-white bg-danger-500 hover:bg-danger-600 rounded-md px-2 py-1"> </button></div>'),GY=H('<div class="p-4 rounded-xl flex-grow flex flex-col gap-4 overflow-y-auto"><!> <!> <div class="flex flex-col gap-2 border-t border-surface-200 pt-4 items-center"><p class="text-sm text-surface-500 font-medium"> </p></div></div>'),$Y=H('<div class="flex p-4 bg-surface-100 justify-between"><h2 class="text-lg font-bold text-surface-950"> </h2> <button class="font-medium text-surface-950"><img alt="close modal" class="w-6 h-6"></button></div> <!>',1);function YY(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(Nd,"$blockedPages",r),o=()=>ie(tr,"$LL",r);let s=chrome.runtime.getURL(Iu),l=le(ne(i().pageList)),c=le(ne({}));const d=()=>{let f=window.location.href;f=f.split("&")[0];let h;i().page===0?h=new URL(f).origin:h=f,W3(h),Po()},u=f=>{const h={...a(c)};delete h[f],Object.keys(h).length>0?(Xr("minimiseSideBar",h),g(c,ne(h))):(ep("minimiseSideBar"),g(c,ne({})))};mr(()=>{g(l,ne(i().pageList))}),Zt(async()=>{const f=await an("minimiseSideBar");g(c,ne(f))}),fg(t,{closed:Po,maxWidth:"max-w-[468px]",boxWrapperClass:"flex flex-col bg-white rounded-xl max-h-[480px] h-full z-[99999999]",get isOpen(){return i().show},set isOpen(f){$w(Nd,ec(i).show=f,ec(i))},children:(f,h)=>{var p=ke(),m=de(p);{var y=S=>{var w=ke(),C=de(w);{var L=k=>{var P=FY(),z=de(P),T=v(z),M=v(T),D=x(T,2);D.__click=function(...q){var G;(G=Po)==null||G.apply(this,q)};var A=v(D);pe(A,"src",s);var O=x(z,2),I=v(O),B=x(O,2),j=v(B);j.__click=function(...q){var G;(G=Po)==null||G.apply(this,q)};var V=v(j),F=x(j,2);F.__click=d;var N=v(F);ae((q,G,Q,Z)=>{Y(M,q),Y(I,G),Y(V,Q),Y(N,Z)},[()=>o()("components.blockedPages.blockDomain"),()=>o()("components.blockedPages.wantToRemoveDomain"),()=>o()("common.cancel"),()=>o()("common.submit")]),b(k,P)};W(C,k=>{k(L)})}b(S,w)},_=S=>{var w=ke(),C=de(w);{var L=P=>{var z=ke(),T=de(z);{var M=D=>{var A=UY(),O=de(A),I=v(O),B=v(I),j=x(I,2);j.__click=function(...U){var $;($=Po)==null||$.apply(this,U)};var V=v(j);pe(V,"src",s);var F=x(O,2),N=v(F),q=x(F,2),G=v(q);G.__click=function(...U){var $;($=Po)==null||$.apply(this,U)};var Q=v(G),Z=x(G,2);Z.__click=d;var E=v(Z);ae((U,$,ee,se)=>{Y(B,U),Y(N,$),Y(Q,ee),Y(E,se)},[()=>o()("components.blockedPages.blockPage"),()=>o()("components.blockedPages.wantToRemovePage"),()=>o()("common.cancel"),()=>o()("common.submit")]),b(D,A)};W(T,D=>{D(M)})}b(P,z)},k=P=>{var z=$Y(),T=de(z),M=v(T),D=v(M),A=x(M,2);A.__click=function(...V){var F;(F=Po)==null||F.apply(this,V)};var O=v(A);pe(O,"src",s);var I=x(T,2);{var B=V=>{var F=VY(),N=v(F),q=v(N);ae(G=>Y(q,G),[()=>o()("components.blockedPages.noBlockedPages")]),b(V,F)},j=V=>{var F=GY(),N=v(F);St(N,17,()=>a(l),zt,(E,U,$)=>{var ee=WY();pe(ee,"data-id",$);var se=v(ee),oe=v(se),K=x(se,2);K.__click=[jY,l];var J=v(K);ae(te=>{pe(ee,"data-url",a(U)),Y(oe,a(U)),Y(J,te)},[()=>o()("common.remove")]),b(E,ee)});var q=x(N,2);St(q,17,()=>Object.keys(a(c)),zt,(E,U,$)=>{var ee=qY();pe(ee,"data-id",$);var se=v(ee),oe=v(se),K=x(se,2);K.__click=[HY,u,U];var J=v(K);ae(te=>{pe(ee,"data-url",a(U)),Y(oe,a(U)),Y(J,te)},[()=>o()("common.remove")]),b(E,ee)});var G=x(q,2),Q=v(G),Z=v(Q);ae(E=>Y(Z,E),[()=>o()("common.thatsAll")]),b(V,F)};W(I,V=>{a(l).length===0&&Object.keys(a(c)).length===0?V(B):V(j,!1)})}ae(V=>Y(D,V),[()=>o()("components.blockedPages.listOfBlockedPages")]),b(P,z)};W(C,P=>{i().page===1?P(L):P(k,!1)},!0)}b(S,w)};W(m,S=>{i().page===0?S(y):S(_,!1)})}b(f,p)},$$slots:{default:!0}}),Ke(),n()}Tt(["click"]);var XY=H('<button class="text-sm font-bold text-indigo-600 hover:text-indigo-800"> </button>'),KY=H('<div class="hk-taost-bg-gradient rounded-lg"><div class="bg-indigo-50 w-full font-metropolis border border-indigo-300 rounded-lg flex justify-between p-2"><div class="text-sm font-medium break-words text-slate-950"><!></div> <!></div></div>');function QY(t,e){let r=R(e,"showToast",11,!1),n=R(e,"callback",3,void 0),i=R(e,"buttonText",3,"undo");var o=ke(),s=de(o);{var l=c=>{var d=KY(),u=v(d),f=v(u),h=v(f);Xt(h,()=>e.description);var p=x(f,2);{var m=y=>{var _=XY();_.__click=function(...w){var C;(C=n())==null||C.apply(this,w)};var S=v(_);ae(()=>Y(S,i())),b(y,_)};W(p,y=>{typeof n()=="function"&&y(m)})}b(c,d)};W(s,c=>{r()&&c(l)})}b(t,o)}Tt(["click"]);const JY=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#25D366">
  <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"/>
</svg>
`;async function ZY(t,e,r,n,i,o,s){await vt(mt.GiftVoucherCreateClicked,{voucherIndex:e.selectedVoucher,totalAmount:r,payableAmount:n,voucherType:e.selectedVoucherDetails.type||"",sitePos:a(i)});try{const{status:l,data:c,message:d,err:u}=await Fr({type:"createGiftVoucher",params:{siteId:a(i),requiredAmount:+r,issuedAmount:+r,payableAmount:+n,voucherChoice:e.selectedVoucher}});l>0&&c?(o(c),s("payment-summary"),await vt(mt.GiftVoucherCreateSuccess,{orderId:c.orderId||null,voucherIndex:e.selectedVoucher,totalAmount:r,payableAmount:n,voucherType:e.selectedVoucherDetails.type||"",sitePos:a(i)})):(await vt(mt.GiftVoucherCreateFailed,{status:l,voucherIndex:e.selectedVoucher,totalAmount:r,payableAmount:n,sitePos:a(i)}),_a({duration:5e3,description:u||d||"Something went wrong. Please try again."}))}catch(l){await vt(mt.GiftVoucherCreateFailed,{error:l instanceof Error?l.message:"Unknown error",voucherIndex:e.selectedVoucher,totalAmount:r,payableAmount:n,sitePos:a(i)})}}async function eX(t,e,r,n,i){var o,s,l,c,d;await vt(mt.GiftVoucherCancelClicked,{orderId:((o=e())==null?void 0:o.orderId)||null,currentScreen:r(),sitePos:a(n)});try{const{status:u,message:f,err:h}=await Fr({type:"cancelGiftVouchers",orderId:(s=e())==null?void 0:s.orderId});if(u>0){const p=((l=e())==null?void 0:l.orderId)||null;i.closeModal(),e(null),await vt(mt.GiftVoucherCancelSuccess,{orderId:p,sitePos:a(n)})}else await vt(mt.GiftVoucherCancelFailed,{orderId:((c=e())==null?void 0:c.orderId)||null,status:u,sitePos:a(n)}),_a({duration:5e3,description:h||f||"Something went wrong. Please try again."})}catch(u){await vt(mt.GiftVoucherCancelFailed,{orderId:((d=e())==null?void 0:d.orderId)||null,error:u instanceof Error?u.message:"Unknown error",sitePos:a(n)})}}function tX(t,e){g(e,!a(e))}var rX=H('<div class="text-center mb-6"><p class="mb-2 text-xl font-bold text-gray-950"> <br> </p> <div class=" text-slate-600 text-sm font-medium px-6"> </div></div>'),nX=H('<p class="text-xl font-bold text-slate-950 text-center px-6 mb-6">Weâ€™ll generate your voucher now</p> <div class="mb-6 text-sm grid gap-3"><p class="text-base font-medium text-gray-950">Summary</p> <hr> <div class="flex justify-between items-center"><span class="text-slate-600 font-medium">Voucher value</span> <span class="text-slate-950 font-bold"> </span></div> <div class="flex justify-between items-center"><span class="text-slate-600 font-medium"></span> <span class="text-slate-950 font-bold"> </span></div> <hr> <div class="flex justify-between items-center"><span class="text-slate-600 font-medium">You pay</span> <span class="text-slate-950 font-bold"> </span></div></div>',1),aX=H('<button class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded py-3 mb-4 transition-colors duration-200">Create Voucher</button>'),iX=async(t,e)=>{await e.handleLogin()},oX=H('<button class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-xl py-3 transition-colors duration-200 mb-4 disabled:bg-gray-400 disabled:cursor-not-allowed shadow">Login to continue</button>'),sX=async(t,e,r,n,i,o)=>{var s;await vt(mt.GiftVoucherPaymentOptionsShown,{orderId:((s=e())==null?void 0:s.orderId)||null,payableAmount:r,totalAmount:n,sitePos:a(i)}),o("payment-options")},lX=H('<button class="text-red-700 text-sm py-2 mb-1 px-2 mx-auto flex hover:underline">Cancel</button>'),cX=H('<button class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded py-3 transition-colors duration-200">Continue</button> <!>',1),dX=H('<li class="flex gap-3"><span class="font-medium text-indigo-600 shrink-0"></span> <span> </span></li>'),uX=H('<div class="mt-3 px-4 py-3 bg-gray-50 rounded-lg text-sm text-gray-600 leading-relaxed max-h-[200px] overflow-scroll"><ol class="space-y-2"></ol></div>'),fX=H('<div><button class="w-full flex items-center justify-between p-2 bg-gray-100 rounded-lg transition-colors duration-200"><div class="flex items-center gap-3 bg-slate-100"><svg class="w-4 h-4 text-slate-800" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span class="font-medium text-gray-900">How it works?</span></div> <div><svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></div></button> <!></div>'),vX=H("<div><!> <!> <!></div>");function hX(t,e){Xe(e,!0);let r=R(e,"currentScreen",15),n=R(e,"orderData",15);R(e,"useBalance",11,0);const{usageInstructions:i={ONLINE:[]},brandDiscount:o}=e.voucher,{payableAmount:s,totalAmount:l}=e.selectedVoucherDetails,c=+l-+s;let d="â‚¹",u=le("");Zt(async()=>{g(u,ne(await ns()))});let f=le(!1);var h=vX(),p=v(h);{var m=k=>{var P=rX(),z=v(P),T=v(z),M=x(T,2),D=x(z,2),A=v(D);ae((O,I)=>{var B;Y(T,`Pay only ${d}${O??""} `),Y(M,` Save ${d}${I??""}`),Y(A,`Get (${o??""}) % off instantly with a ${((B=e.storeDetails)==null?void 0:B.name)??""} Gift Card. Weâ€™ll apply
				it automatically`)},[()=>{var O;return ai(+((O=e.selectedVoucherDetails)==null?void 0:O.payableAmount))},()=>{var O,I;return ai(+((O=e.selectedVoucherDetails)==null?void 0:O.totalAmount)-+((I=e.selectedVoucherDetails)==null?void 0:I.payableAmount))}]),b(k,P)},y=k=>{var P=ke(),z=de(P);{var T=M=>{var D=nX(),A=x(de(D),2),O=x(v(A),4),I=x(v(O),2),B=v(I),j=x(O,2),V=v(j);V.textContent=`Discount (${o??""}%)`;var F=x(V,2),N=v(F),q=x(j,4),G=x(v(q),2),Q=v(G);ae((Z,E,U)=>{Y(B,`${d}${Z??""}`),Y(N,`â€“${d}${E??""}`),Y(Q,`${d}${U??""}`)},[()=>ai(+l),()=>ai(Math.abs(c)),()=>ai(+s)]),Rt(1,A,()=>jr,()=>({duration:300})),Rt(2,A,()=>jr,()=>({duration:200})),b(M,D)};W(z,M=>{r()==="payment-summary"&&M(T)},!0)}b(k,P)};W(p,k=>{r()==="initial"?k(m):k(y,!1)})}var _=x(p,2);{var S=k=>{var P=ke(),z=de(P);{var T=D=>{var A=aX();A.__click=[ZY,e,l,s,u,n,r],b(D,A)},M=D=>{var A=oX();A.__click=[iX,e],b(D,A)};W(z,D=>{e.loggedIn?D(T):D(M,!1)})}b(k,P)},w=k=>{var P=ke(),z=de(P);{var T=M=>{var D=cX(),A=de(D);A.__click=[sX,n,s,l,u,r];var O=x(A,2);{var I=B=>{var j=lX();j.__click=[eX,n,r,u,e],b(B,j)};W(O,B=>{var j;(j=n())!=null&&j.orderId&&B(I)})}b(M,D)};W(z,M=>{r()==="payment-summary"&&M(T)},!0)}b(k,P)};W(_,k=>{r()==="initial"?k(S):k(w,!1)})}var C=x(_,2);{var L=k=>{var P=fX(),z=v(P);z.__click=[tX,f];var T=x(v(z),2),M=x(z,2);{var D=A=>{var O=uX(),I=v(O);St(I,21,()=>i.ONLINE,zt,(B,j,V)=>{var F=dX(),N=v(F);N.textContent=`${V+1}.`;var q=x(N,2),G=v(q);ae(()=>Y(G,a(j))),b(B,F)}),Rt(1,O,()=>jr,()=>({duration:300})),Rt(2,O,()=>jr,()=>({duration:200})),b(A,O)};W(M,A=>{a(f)&&A(D)})}ae(()=>$e(T,`transform transition-transform duration-200 ${(a(f)?"rotate-180":"")??""}`)),b(k,P)};W(C,k=>{r()!=="payment-summary"&&k(L)})}Rt(1,h,()=>jr,()=>({duration:300})),Rt(2,h,()=>jr,()=>({duration:200})),b(t,h),Ke()}Tt(["click"]);const Il="hatke-save-instantly-btn-container",pX="https://buyhatke.com/gift-vouchers",gX=async()=>{try{const{status:t,data:e}=await Fr({type:"checkLogin"});t&&(await Xr("ext_email",e.email_id),await Xr("isVerified",1))}catch{}},Tu=async()=>{try{await gX();const{status:t,data:e}=await Fr({type:"checkLoginGiftVoucher"});if(t&&e)return!!(await ns()&&(e!=null&&e.isLoggedIn))}catch{}return!1};var mX=()=>location.reload(),xX=H(`<div class="flex flex-col items-center justify-center mb-6 min-h-[220px] text-center"><h3 class="text-lg font-semibold text-gray-900 mb-2">Something went wrong</h3> <p class="text-gray-600 mb-6 text-sm">We were unable to load your payment details. Please try again or go back and start
				over.</p> <button class="px-10 py-2 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-colors">Retry</button></div>`),yX=async(t,e,r)=>{var n;await vt(mt.GiftVoucherPaymentStatusCheckInitiated,{orderId:((n=e.orderData)==null?void 0:n.orderId)||null,source:"manual"}),r("processing")},_X=H('<div class="mb-6"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-semibold text-gray-900">UPI QR</h3> <div class="flex items-center gap-2 text-gray-500"><span class="text-sm font-mono"> </span></div></div> <div class="bg-gray-100 rounded-xl p-2 flex items-center justify-center mb-6"><img alt="QR Code for App Download" class="w-44 my-2"></div></div> <button class="w-full bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white font-semibold py-4 px-6 rounded-xl transition-colors duration-200">Check Payment</button>',1),bX=H(`<div class="mb-6"><p class="text-gray-700 text-base">Payment link expired. Please try again.</p> <p class="text-gray-500 text-sm mt-6">If you have already completed the payment, donâ€™t worry. You can verify the
						transaction details and get your voucher by <a class="text-indigo-600 underline cursor-pointer" href="https://buyhatke.com/gift-vouchers" target="_blank">clicking here</a>.</p></div>`),wX=H('<div class="mb-6 animate-pulse"><div class="flex items-center justify-between mb-4"><div class="h-6 w-24 bg-gray-200 rounded"></div> <div class="flex items-center gap-2"><div class="w-4 h-4 bg-gray-200 rounded-full"></div> <div class="h-4 w-12 bg-gray-200 rounded"></div></div></div> <div class="bg-gray-100 rounded-xl p-8 flex items-center justify-center mb-6 text-center"><div class="text-center"><div class="mx-auto mb-2 w-32 h-32 bg-gray-200 rounded-lg"></div> <div class="h-4 w-32 bg-gray-200 rounded mx-auto"></div></div></div></div> <button class="w-full bg-gray-200 text-gray-400 font-semibold py-4 px-6 rounded-xl cursor-not-allowed" disabled><span class="invisible">Pay Now</span></button>',1),kX=H('<h2 class="text-2xl font-bold text-gray-900 mb-6">Payment Options</h2> <!>',1),SX=H("<div><!></div>");function CX(t,e){Xe(e,!0);let r=le(300),n=Ne(()=>Math.floor(a(r)/60)),i=Ne(()=>a(r)%60),o=Ne(()=>`${a(n).toString().padStart(2,"0")}:${a(i).toString().padStart(2,"0")}`),s=R(e,"currentScreen",15),l=le(null),c=le(!1),d=le(""),u=le("");const f=async()=>{var k,P,z,T,M;try{g(c,!0);const{status:D,data:A,message:O,err:I}=await Fr({type:"createPaymentGiftVoucher",params:{orderId:(k=e.orderData)==null?void 0:k.orderId,callbackUrl:pX,callbackMethod:"get"}});D>0&&A?(g(d,ne(A.paymentLink)),a(d)?(g(u,ne(nc(a(d)).toDataURL({scale:4,padX:0,padY:0}))),await vt(mt.GiftVoucherPaymentLinkGeneratedSuccess,{orderId:((P=e.orderData)==null?void 0:P.orderId)||null}),g(l,ne(setInterval(()=>{Do(r,-1),a(r)<=0&&a(l)&&clearInterval(a(l))},1e3))),p(),m=setInterval(()=>{if(y++,y>=_){h();return}p()},3e3)):(await vt(mt.GiftVoucherPaymentLinkGeneratedFailed,{orderId:((z=e.orderData)==null?void 0:z.orderId)||null,status:D,message:O||I||"No payment link"}),_a({duration:2e3,description:O||I||"Something went wrong."}))):(await vt(mt.GiftVoucherPaymentLinkGeneratedFailed,{orderId:((T=e.orderData)==null?void 0:T.orderId)||null,status:D,message:O||I||"Something went wrong."}),_a({duration:2e3,description:O||I||"Something went wrong."}),h()),g(c,!1)}catch(D){await vt(mt.GiftVoucherPaymentLinkGeneratedFailed,{orderId:((M=e.orderData)==null?void 0:M.orderId)||null,error:D instanceof Error?D.message:"Unknown error"}),h()}};Zt(()=>(f(),()=>{a(l)&&clearInterval(a(l))}));const h=()=>{m&&(clearInterval(m),m=null)},p=async()=>{var k;try{const{status:P,data:z}=await Fr({type:"paymentStatusGiftVoucher",orderId:(k=e.orderData)==null?void 0:k.orderId});P>0&&z?((z==null?void 0:z.orderStatus)>=2||(z==null?void 0:z.orderStatus)===-1||(z==null?void 0:z.orderStatus)===-2)&&(h(),s("processing")):h()}catch{h()}};let m=null,y=0;const _=150;Zt(()=>()=>{h()}),Gn(()=>{h()});var S=SX(),w=v(S);{var C=k=>{var P=xX(),z=x(v(P),4);z.__click=[mX],b(k,P)},L=k=>{var P=kX(),z=x(de(P),2);{var T=D=>{var A=ke(),O=de(A);{var I=j=>{var V=_X(),F=de(V),N=v(F),q=x(v(N),2),G=v(q),Q=v(G),Z=x(N,2),E=v(Z),U=x(F,2);U.__click=[yX,e,s],ae(()=>{Y(Q,a(o)),pe(E,"src",a(u))}),b(j,V)},B=j=>{var V=bX();b(j,V)};W(O,j=>{a(r)?j(I):j(B,!1)})}b(D,A)},M=D=>{var A=wX();b(D,A)};W(z,D=>{a(d)?D(T):D(M,!1)})}b(k,P)};W(w,k=>{!a(c)&&!a(d)?k(C):k(L,!1)})}Rt(1,S,()=>jr,()=>({duration:300})),Rt(2,S,()=>jr,()=>({duration:200})),b(t,S),Ke()}Tt(["click"]);var AX=H(`<div class="mb-8"><h2 class="text-[20px] font-bold text-gray-900 mb-4">Payment Not Received</h2> <p class="text-gray-600 text-sm leading-relaxed mb-2">Don't worry! If you have completed the payment, please check the details in your
				dashboard and claim your voucher manually. You can also contact us for help.</p> <a href="https://buyhatke.com/contact-us" target="_blank" rel="noopener noreferrer" class="w-full inline-block text-center bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 transition duration-300">Contact Support</a> <a href="https://buyhatke.com/gift-vouchers" target="_blank" rel="noopener noreferrer" class="w-full mt-2 mb-4 inline-block text-center border border-indigo-600 text-indigo-600 font-bold py-1.5 px-4 rounded-lg hover:bg-indigo-100 transition duration-300">Dashboard</a></div>`),MX=H(`<div class="mb-8"><h2 class="text-[20px] font-bold text-gray-900 mb-4">Voucher Claim Failed</h2> <p class="text-gray-600 text-sm leading-relaxed mb-2">There was an issue claiming your voucher. Please claim your voucher manually. Click
				"Dashboard" below to access and claim your voucher.</p></div> <a href="https://buyhatke.com/contact-us" target="_blank" rel="noopener noreferrer" class="w-full inline-block text-center bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 transition duration-300">Contact Support</a> <a href="https://buyhatke.com/gift-vouchers" target="_blank" rel="noopener noreferrer" class="w-full mt-2 mb-4 inline-block text-center border border-indigo-600 text-indigo-600 font-bold py-1.5 px-4 rounded-lg hover:bg-indigo-100 transition duration-300">Dashboard</a>`,1),PX=H(`<div class="mb-8"><h2 class="text-[20px] font-bold text-gray-900 mb-4">Not able to get payment</h2> <p class="text-gray-600 text-sm leading-relaxed mb-2">An unexpected error occurred. Your amount is safe. Please check your transaction
				details in the dashboard.</p></div> <a href="https://buyhatke.com/contact-us" target="_blank" rel="noopener noreferrer" class="w-full inline-block text-center bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 transition duration-300">Contact Support</a> <a href="https://buyhatke.com/gift-vouchers" target="_blank" rel="noopener noreferrer" class="w-full mt-2 mb-4 inline-block text-center border border-indigo-600 text-indigo-600 font-bold py-1.5 px-4 rounded-lg hover:bg-indigo-100 transition duration-300">Dashboard</a>`,1),DX=H(`<div class="mb-8"><h2 class="text-[20px] font-bold text-gray-900 mb-4">Processing your payment</h2> <p class="text-gray-600 text-sm mb-2">We're securely processing your payment for the gift card.</p> <p class="text-gray-500 text-sm">Please wait while we confirm your payment status and prepare your Gift Card for
				checkout.</p></div> <div class="flex justify-center mb-6"><div class="animate-spin rounded-full h-20 w-20 border-b-2 border-indigo-600"></div></div>`,1),LX=H('<div class="px-6 pb-6 text-center"><!></div>');function EX(t,e){Xe(e,!0);let r=R(e,"currentScreen",15),n=le("processing");const i=()=>{s&&(clearInterval(s),s=null)},o=async()=>{var y,_,S,w,C,L;try{const{status:k,data:P}=await Fr({type:"paymentStatusGiftVoucher",orderId:(y=e.orderData)==null?void 0:y.orderId});k>0&&P?(d=0,+(P==null?void 0:P.orderStatus)==4?(i(),r("applying-voucher"),await vt(mt.GiftVoucherPaymentSuccess,{orderId:((_=e.orderData)==null?void 0:_.orderId)||null,orderStatus:P.orderStatus,pollingCount:l})):(P==null?void 0:P.orderStatus)==-3?(i(),g(n,"voucher-claim-failure"),await vt(mt.GiftVoucherClaimFailed,{orderId:((S=e.orderData)==null?void 0:S.orderId)||null,orderStatus:P.orderStatus,pollingCount:l})):(P==null?void 0:P.orderStatus)<=-1&&(i(),g(n,"something-went-wrong"),await vt(mt.GiftVoucherClaimFailed,{orderId:((w=e.orderData)==null?void 0:w.orderId)||null,orderStatus:P.orderStatus,pollingCount:l}))):(d++,d<u?await o():(i(),g(n,"payment-failure"),await vt(mt.GiftVoucherPaymentFailed,{orderId:((C=e.orderData)==null?void 0:C.orderId)||null,status:k,reason:"api_error",pollingCount:l,retryCount:d})))}catch(k){d++,d<u?await o():(i(),g(n,"payment-failure"),await vt(mt.GiftVoucherPaymentFailed,{orderId:((L=e.orderData)==null?void 0:L.orderId)||null,error:k instanceof Error?k.message:"Unknown error",reason:"exception",pollingCount:l,retryCount:d}))}};let s=null,l=0;const c=150;let d=0;const u=4;Zt(()=>{var y;return vt(mt.GiftVoucherPaymentStatusCheckInitiated,{orderId:((y=e.orderData)==null?void 0:y.orderId)||null,source:"processing_screen"}),o(),s=setInterval(()=>{if(l++,l>=c){i(),g(n,"payment-failure");return}d=0,o()},3e3),()=>{i()}}),Gn(()=>{i()});var f=LX(),h=v(f);{var p=y=>{var _=AX();b(y,_)},m=y=>{var _=ke(),S=de(_);{var w=L=>{var k=MX();b(L,k)},C=L=>{var k=ke(),P=de(k);{var z=M=>{var D=PX();b(M,D)},T=M=>{var D=DX();b(M,D)};W(P,M=>{a(n)==="something-went-wrong"?M(z):M(T,!1)},!0)}b(L,k)};W(S,L=>{a(n)==="voucher-claim-failure"?L(w):L(C,!1)},!0)}b(y,_)};W(h,y=>{a(n)==="payment-failure"?y(p):y(m,!1)})}Rt(1,f,()=>jr,()=>({duration:300})),Rt(2,f,()=>jr,()=>({duration:200})),b(t,f),Ke()}function IX(t,e){t.preventDefault(),t.stopPropagation(),e()()}var TX=(t,e)=>{e(t)},OX=H(`<div class="svelte-ml5e1p"><button style="
			background-color: transparent;
			display: flex;
			align-items: center;
			white-space: nowrap;
			border:none;
			width:100%;
			gap:4px;
			padding:10px 16px;
			font-size:12px;
			font-weight:500;
		"><img alt="buyhatke logo" height="16px" width="16px"> <span class="text-gray-900 font-semibold text-sm"> </span></button> <button aria-label="Close" style="all:unset; height:32px; width:32px; cursor:pointer;"><svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" fill="none"><path fill="#1E293B" d="M1.3.2a.7.7 0 1 0-1 1L2.8 4 .2 6.7a.7.7 0 1 0 1 1L4 5.2l2.7 2.7a.8.8 0 0 0 1-1L5.2 4l2.7-2.7a.8.8 0 0 0-1-1L4 2.8 1.3.2Z"></path></svg></button></div>`);function RX(t,e){Xe(e,!0);let r=R(e,"bestVoucherPrice",3,0),n=R(e,"voucherAmount",3,0),i=R(e,"onClick",3,()=>{}),o=R(e,"onClose",3,()=>{}),s=chrome.runtime.getURL(bc);async function l(m){m.preventDefault(),m.stopPropagation(),await vt(mt.GiftVoucherSaveInstantlyButtonClicked,{bestVoucherPrice:r(),voucherAmount:n()}),i()()}Zt(async()=>{await vt(mt.GiftVoucherSaveInstantlyButtonShown,{bestVoucherPrice:r(),voucherAmount:n()})});var c=OX(),d=v(c);d.__click=[TX,l];var u=v(d);pe(u,"src",s);var f=x(u,2),h=v(f),p=x(d,2);p.__click=[IX,o],ae(m=>{pe(c,"style",`background-color: ${(n()?"#FDE047 ":"#ffc568")??""};
			box-shadow: 0px 2px 4px -1px #0206170F;
			color: #020617;
			display: flex;
			align-items: center;
			justify-content: space-between;
			gap: 10px;
			width: 100%;
			border-radius: 30px;`),Y(h,m)},[()=>n()?"Save â‚¹"+r().toFixed(2)+" instantly":"Amount not found, refresh page"]),b(t,c),Ke()}Tt(["click"]);var NX=H('<div class="font-sora fixed z-50 w-56 rounded-md bg-amber-100 px-4 py-2 text-sm text-black shadow-md"> </div>');function zX(t,e){Xe(e,!0);let r=Ne(()=>e.checkoutGuide.selector),n=Ne(()=>e.checkoutGuide.placement),i=Ne(()=>e.checkoutGuide.text),o=Ne(()=>e.checkoutGuide.show),s=le(null);mr(()=>{if(a(o)&&a(r)){const u=document.querySelector(a(r));g(s,ne(u==null?void 0:u.getBoundingClientRect()))}else g(s,null)});var l=ke(),c=de(l);{var d=u=>{var f=NX(),h=v(f);ae(()=>{pe(f,"style",`
        left: ${a(s).left+a(s).width/2}px;
        top: ${(a(n)==="top"?a(s).top-50:a(s).bottom-100)??""}px;

      `),Y(h,a(i))}),Rt(1,f,()=>Hn,()=>({x:20,duration:300,delay:100})),Rt(2,f,()=>Hn,()=>({x:10,duration:200})),b(u,f)};W(c,u=>{a(o)&&a(s)&&u(d)})}b(t,l),Ke()}let xh={};function Ou(t,e,r=!1,n=""){var i;try{for(let o of e)try{if(r){const s=t.querySelectorAll(o);if(s&&s.length>0){if(n){Array.isArray(n)||(n=[n]);for(let l of s)try{for(let c of n)if(l&&typeof l.innerText=="string"&&((i=l.innerText.toLowerCase())!=null&&i.includes(c.toLowerCase())))return l}catch{}}return null}}else{const s=t.querySelector(o);if(s)return s}}catch{}return null}catch{return null}}const BX=(t,e)=>{try{if(!t)return null;if(!e)return parseFloat(t);if(e){const{regex:r,global:n=!1,index:i=1,join:o=!1}=e,s=new RegExp(r,n?"g":void 0),l=t.match(s);if(!l)return null;let c;return o&&n?c=l.join(""):c=l[i]||l[0],c.replace(/[^0-9.]/g,"")}return null}catch{return null}},Pa=t=>new Promise(e=>setTimeout(e,t)),xa=async(t,e=4,r=500)=>{Array.isArray(t)||(t=[t]);let n=!1,i="";e=4,typeof t[0]=="object"&&t[0].queryAll&&(n=t[0].queryAll||!1),typeof t[0]=="object"&&t[0].matchingText&&(i=t[0].matchingText||""),typeof t[0]=="object"&&t[0].maxAttempts&&(e=t[0].maxAttempts||4);let o=[];for(let s of t)typeof s=="object"&&s.selector?o.push(s.selector):o.push(s);t=o;for(let s=0;s<e;s++){let l=null;if(l=Ou(document,t,n,i),l)return l;await Pa(r)}return null};async function Py(t,e){t&&(t.dispatchEvent(new Event("compositionstart",{bubbles:!0})),t.value=e,t.dispatchEvent(new Event("input",{bubbles:!0})),t.dispatchEvent(new Event("change",{bubbles:!0})),t.dispatchEvent(new Event("compositionend",{bubbles:!0})))}function Jl(t,e=document){try{let r=e.querySelector(t.selector);if(r){if(t.attribute?r=r.getAttribute(t.attribute)||r[t.attribute]:r=r.innerText,r=(r==null?void 0:r.trim())||r,t.regex&&r){const{regex:n,global:i=!1,index:o=1,join:s=!1}=t.regex,l=new RegExp(n,i?"g":void 0),c=r.match(l);if(!c)return null;let d;s&&i?d=c.join(""):d=c[o]||c[0],r=d}r&&t.encode&&(r=encodeURIComponent(r))}return r}catch{return null}}function jX(t={},e={}){var r,n;try{let i=JSON.parse(JSON.stringify(t));const o=((r=e.keyPath)==null?void 0:r.split("."))||[];for(const l of o)if(i&&Object.prototype.hasOwnProperty.call(i,l))i=i[l];else return null;if(i&&typeof i=="object"&&!Array.isArray(i)&&Object.keys(i).length===0)return null;let s=(n=i==null?void 0:i.toString())==null?void 0:n.trim();if(!s)return null;if(e.regex&&s){const{regex:l,global:c=!1,index:d=1,join:u=!1}=e.regex,f=new RegExp(l,c?"g":void 0),h=s.match(f);if(!h)return null;let p;u&&c?p=h.join(""):p=h[d]||h[0],s=p}return e.encode&&(s=encodeURIComponent(s)),s}catch{return null}}async function FX(t,e){try{return await Fr({type:"giftVoucher-getCookie",data:{domain:t,name:e}})}catch{return null}}async function UX(t,e,r,n,i){var o,s,l;try{let c={voucherCode:t,voucherPin:e};for(let d of r.api){if(d.scrapFromDom)for(let h in d.scrapFromDom)c[h]=Jl(d.scrapFromDom[h]);if(d.scrapFromCookie)for(let h in d.scrapFromCookie){let p=await FX(d.scrapFromCookie[h].domain,d.scrapFromCookie[h].name);c[h]=p||""}let u=JSON.stringify(d.options);for(let h in c)d.url=d.url.replaceAll(`PLACEHOLDER_${h}`,c[h]),u=u.replaceAll(`PLACEHOLDER_${h}`,c[h]);u=JSON.parse(u),d.encodeBody&&(u.body=encodeURIComponent(u.body));let f;if(d.callFromBg?f=await Fr({type:"giftVoucher-apiCall",data:{url:d.url,options:u,responseType:d.responseType}}):(f=await fetch(d.url,u),f.status>=200&&f.status<400?d.responseType=="json"?f=await f.json():d.responseType=="html"&&(f=await f.text()):f=null),!f)return!1;if(d.responseType=="html"&&(f=new DOMParser().parseFromString(f,"text/html")),d.scrapFromApi)for(let h in d.scrapFromApi)d.responseType=="html"?c[h]=Jl(d.scrapFromApi[h],f):d.responseType=="json"&&(c[h]=jX(f,d.scrapFromApi[h]));if(d.error&&c.error)if((o=d.error)!=null&&o.textIncl){for(let h of(s=d.error)==null?void 0:s.textIncl)if((l=c.error)!=null&&l.includes(h))return!1}else return!1;await Pa(1e3)}return!0}catch{return!1}}function Bo(t){t&&(t.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window})),t.click())}async function yh(t={}){try{for(let e of t.selectors||[]){let r=await xa(e);if(r){let n=r.innerText;if(t.attribute&&(n=r.getAttribute(t.attribute)),t.textIncl){for(let i of t.textIncl)if(n.includes(i))return!0}else if(!t.textIncl)return!0}}return!1}catch{return!1}}const VX=async({voucherCode:t,voucherPin:e,voucherSelectors:r},n,i,o,s)=>{var l,c,d,u,f,h,p,m,y,_,S,w,C,L,k,P,z,T,M,D,A,O,I,B,j,V,F,N,q,G,Q,Z,E,U,$,ee,se,oe;try{if(r!=null&&r.isApi)return await UX(t,e,r,n,i);r.reload&&sessionStorage.setItem(`bh-gft-${i}`,JSON.stringify(n));let K=!1;if(r!=null&&r.open&&!Array.isArray(r==null?void 0:r.open)&&(r.open=[r.open]),r!=null&&r.open)for(let J of r.open){const te=await xa(J);te&&(Bo(te),await Pa(1e3))}if((l=r==null?void 0:r.apply)!=null&&l.voucher&&typeof((c=r==null?void 0:r.apply)==null?void 0:c.voucher)!="object"&&(r.apply.voucher={input:r.apply.voucher}),(d=r==null?void 0:r.apply)!=null&&d.voucher){if((f=(u=r==null?void 0:r.apply)==null?void 0:u.voucher)!=null&&f.open){Array.isArray((p=(h=r==null?void 0:r.apply)==null?void 0:h.voucher)==null?void 0:p.open)||(r.apply.voucher.open=[(y=(m=r==null?void 0:r.apply)==null?void 0:m.voucher)==null?void 0:y.open]);for(let J of r.apply.voucher.open){const te=await xa(J);te&&(Bo(te),await Pa(1e3))}}if((S=(_=r==null?void 0:r.apply)==null?void 0:_.voucher)!=null&&S.input){const J=await xa((C=(w=r==null?void 0:r.apply)==null?void 0:w.voucher)==null?void 0:C.input);await Py(J,t),await Pa(1e3)}if((k=(L=r==null?void 0:r.apply)==null?void 0:L.voucher)!=null&&k.submit){Array.isArray((z=(P=r==null?void 0:r.apply)==null?void 0:P.voucher)==null?void 0:z.submit)||(r.apply.voucher.submit=[(M=(T=r==null?void 0:r.apply)==null?void 0:T.voucher)==null?void 0:M.submit]);for(let J of r.apply.voucher.submit){const te=await xa(J);if(te&&(te.click(),await Pa(2e3),r.apply.voucher.error&&(K=await yh(r.apply.voucher.error),K)))return!1}}}if((D=r==null?void 0:r.apply)!=null&&D.pin&&typeof((A=r==null?void 0:r.apply)==null?void 0:A.pin)!="object"&&(r.apply.pin={input:r.apply.pin}),(O=r==null?void 0:r.apply)!=null&&O.pin){if((B=(I=r==null?void 0:r.apply)==null?void 0:I.pin)!=null&&B.open){Array.isArray((V=(j=r==null?void 0:r.apply)==null?void 0:j.pin)==null?void 0:V.open)||(r.apply.pin.open=[(N=(F=r==null?void 0:r.apply)==null?void 0:F.pin)==null?void 0:N.open]);for(let J of r.apply.pin.open){const te=await xa(J);te&&(Bo(te),await Pa(1e3))}}if((G=(q=r==null?void 0:r.apply)==null?void 0:q.pin)!=null&&G.input){const J=await xa((Z=(Q=r==null?void 0:r.apply)==null?void 0:Q.pin)==null?void 0:Z.input);await Py(J,e),await Pa(1e3)}if((U=(E=r==null?void 0:r.apply)==null?void 0:E.pin)!=null&&U.submit){Array.isArray((ee=($=r==null?void 0:r.apply)==null?void 0:$.pin)==null?void 0:ee.submit)||(r.apply.pin.submit=[(oe=(se=r==null?void 0:r.apply)==null?void 0:se.pin)==null?void 0:oe.submit]);for(let J of r.apply.pin.submit){const te=await xa(J);if(te&&(te.click(),await Pa(2e3),r.apply.pin.error&&(K=await yh(r.apply.pin.error),K)))return!1}}}if(r.submit&&!Array.isArray(r.submit)&&(r.submit=[r.submit]),r.submit)for(let J of r.submit){const te=await xa(J);te&&(Bo(te),await Pa(2e3))}return K=await yh(r.error),!K}catch{return!1}};async function WX(t,e){try{if((await Hl()).val>0&&(t&&!Array.isArray(t)&&(t=[t]),t))for(let n of t){const i=await xa(n);i&&(Bo(i),await Pa(1e3))}}catch{}}async function HX(t,e){var r,n,i;try{if((r=window==null?void 0:window.sessionStorage)==null||r.removeItem("bh-gft-orderId"),(n=window==null?void 0:window.sessionStorage)==null||n.removeItem(`bh-gft-${e}`),(i=window==null?void 0:window.sessionStorage)==null||i.removeItem(`bh-gft-alreadyApplied-${e}`),t&&!Array.isArray(t)&&(t=[t]),t){sessionStorage.setItem(`bh-gft-checkout-${e}`,JSON.stringify({checkout:!0}));for(let o of t){const s=await xa(o,8);s&&(Bo(s),await Pa(1e3))}}}catch{}}const jo=async()=>{var t;try{let e=await ns(),r;xh[e]?r=xh[e]:(r=await Fr({type:"giftVoucher-getConfig",data:{pos:e}}),xh[e]=r);let n=null;for(let i=0;i<r.length;i++){let o=window.location.href;for(let s of r[i].matchPattern)if(new RegExp(s).test(o)){n=r[i];break}if(n)break}if(n&&n.checkApplicableDom&&n.checkApplicableDom.selector){let i=0;for(let o of n.checkApplicableDom.selector){let s=await xa(o);if(s){let l=null;if(n.checkApplicableDom.attribute?l=s.getAttribute(n.checkApplicableDom.attribute)||s[n.checkApplicableDom.attribute]:l=s.innerText,(t=n.checkApplicableDom)!=null&&t.textMatch&&s&&l){for(let c of n.checkApplicableDom.textMatch)if(l!=null&&l.includes(c)){i=1;break}if(i==1)break}else s&&(i=1)}}if(i==0)return null}if(n&&n.checkApplicable){let i=null;if(n.checkApplicable.api){let o={};for(let s of n.checkApplicable.api){if(s.scrapFromDom)for(let l in s.scrapFromDom)o[l]=Jl(s.scrapFromDom[l]);for(let l in o)s.url=s.url.replaceAll(`PLACEHOLDER_${l}`,o[l]),s.options=s.options.replaceAll(`PLACEHOLDER_${l}`,o[l]);if(i=await fetch(s.url,s.options),s.responseType=="json"?i=await i.json():s.responseType=="html"&&(i=await i.text(),i=new DOMParser().parseFromString(i,"text/html")),s.scrapFromApi){for(let l in s.scrapFromApi)if(o[l]=Jl(s.scrapFromApi[l],i),s.scrapFromApi[l].textMatch&&!o[l].includes(s.scrapFromApi[l].textMatch))return null}}}if(n.checkApplicable.dom)for(let o in n.checkApplicable.dom){let s=Jl(n.checkApplicable.dom[o],i);if(n.checkApplicable.dom[o].textMatch&&!s[o].includes(n.checkApplicable.dom[o].textMatch))return null}}return n}catch{return null}};function qX(t){try{let e=null;if(t.textIncl?e=Ou(document,t.amountSelector,!0,t.textIncl):e=Ou(document,t.amountSelector),t.subSelector)for(let n of t.subSelector)e=e.querySelector(t.subSelector);let r=0;if(e){const n=e.innerText;if(t.amountRegex){const{regex:i,global:o=!1,index:s=0,join:l=!1}=t.amountRegex,c=new RegExp(i,o?"g":void 0),d=n.match(c);if(!d)return null;let u;l&&o?u=d.join(""):u=d[s]||d[0],r=u.replace(/[^0-9.]/g,"")}else r=parseFloat(n)}return r}catch{return 0}}const Hl=async()=>{const t=await jo();if(!t)return;const e=await xa(t.cartSelectors);let r=0;if(e){const n=e.innerText;r=BX(n,t.cartSelectorRegex)||0}return{ele:e||null,val:+r||0}},Bw=async(t,e={},r=!1)=>{var n,i;try{let o=[],s=[],l=!1;Object.keys(e).length>0&&(o=e.appliedVouchers,s=e.notAppliedVouchers,l=!0,r=!!e.isLower);let c=await ns(),d=sessionStorage.removeItem(`bh-gft-${c}`);sessionStorage.removeItem(`bh-gft-alreadyApplied-${c}`);const u=await jo();if(!l)for(const f of t){let h=u.applyTrials||1,p=!1;for(let m=0;m<h&&(p=await VX({voucherCode:f.code,voucherPin:f.pin,voucherTitle:f.name,voucherSelectors:u.voucherSelectors[f.name]},t,c,l,r),!p);m++)if(u.voucherSelectors[f.name].clear){Array.isArray(u.voucherSelectors[f.name].clear)||(u.voucherSelectors[f.name].clear=[u.voucherSelectors[f.name].clear]);for(let y of u.voucherSelectors[f.name].clear){const _=await xa(y);_&&(Bo(_),await Pa(1e3))}}p?o.push(f):s.push(f)}if((n=u.voucherSelectors[t[0].name])!=null&&n.reload&&((i=u.voucherSelectors[t[0].name])!=null&&i.isApi)&&!l){sessionStorage.setItem(`bh-gft-${c}`,JSON.stringify(t)),sessionStorage.setItem(`bh-gft-alreadyApplied-${c}`,JSON.stringify({voucherDetails:t,notAppliedVouchers:s,appliedVouchers:o,isLower:r})),window.location.reload();return}return o.length==t.length?await vt(mt.GiftVoucherSuccessVouchersApplied||"GiftVoucherSuccessVouchersApplied",{sitePos:c,voucherCount:t.length}):await vt(mt.GiftVoucherFailVouchersApplied||"GiftVoucherFailVouchersApplied",{sitePos:c,voucherCount:t.length}),u.checkout&&o.length==t.length&&!r&&(u.preCheckout&&c&&await WX(u.preCheckout,c),await HX(u.checkout,c)),{appliedVouchers:o,notAppliedVouchers:s}}catch{}},GX=async t=>{try{const e=await jo();if(!e)return;const r=Ou(document,e.cartSelectors);if(!t||t.status===0||Object.keys(t).length===0)return;let n=[];return e.giftCardCash&&(n=Array.isArray(t)?t.map(i=>qX(e.giftCardCash[i.title])):[]),n}catch{return[0]}},jw="/assets/copy-Daoa1q0j.svg";var $X=(t,e,r)=>{var n;e((n=a(r))==null?void 0:n.code)},YX=H('<span class="text-green-600 flex items-center ml-auto"><svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg></span>'),XX=H('<span class="text-red-500 flex items-center ml-auto"><svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></span>'),KX=(t,e,r)=>{var n;e((n=a(r))==null?void 0:n.pin)},QX=H('<li class="rounded border border-dashed px-4 bg-indigo-50 py-2 border-indigo-600"><div class="flex gap-2 items-center"><button class="h-6 w-6 flex-shrink-0"><img alt="copy icon" class="w-5 h-5"></button> <span class="font-mono text-base text-gray-800"> </span> <!></div> <div class="flex gap-2 items-center"><button class="h-4 w-4 flex-shrink-0 pl-1"><img alt="copy icon" class="w-3 h-3"></button> <span class="font-mono text-sm text-gray-800 pl-2"> </span></div></li>'),JX=H('<h2 class="text-xl font-bold text-gray-900 mb-4">Gift Card Ready</h2> <p class="text-xs text-slate-500 mb-2"> </p> <ul class="space-y-3"></ul> <div class="mt-4 text-center"><p class="text-sm text-gray-500">You can also check your vouchers in the&nbsp; <a href="https://buyhatke.com/gift-vouchers" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:text-indigo-800 underline">Buyhatke website</a> .</p></div>',1),ZX=H('<p class="text-gray-600">No vouchers found.</p>'),eK=H(`<div class="mb-8"><h2 class="text-2xl font-bold text-gray-900 mb-4">Hang tight...</h2> <p class="text-gray-600 text-lg leading-relaxed">Creating your Gift Card and applying it to checkout.<br> Please don't close, refresh, or take any action until this is done.</p></div> <div class="mb-8"><div class="w-full bg-gray-200 rounded-full h-2 overflow-hidden"><div class="h-full bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full animate-pulse"><div class="h-full bg-gradient-to-r from-indigo-600 to-purple-700 rounded-full animate-bounce"></div></div></div></div>`,1),tK=H('<div class="py-6 mb-4 text-center"><!></div>');function rK(t,e){Xe(e,!0);let r=le(!1),n=le(ne([])),i=le(ne([])),o=le(ne([])),s=chrome.runtime.getURL(jw);const l=async m=>{try{await navigator.clipboard.writeText(m),_a({description:"Voucher copied Successfully",duration:2e3}),await vt(mt.GiftVoucherCodeCopied,{source:"withoutOrder",sitePos:e.site_pos})}catch{}},c=async m=>{await vt(mt.GiftVoucherApplyingStarted,{source:"withoutOrder",voucherCount:m.length,sitePos:e.site_pos});try{const y=sessionStorage==null?void 0:sessionStorage.getItem(`bh-gft-alreadyApplied-${e.site_pos}`),_=JSON.parse(y||"[]");sessionStorage==null||sessionStorage.removeItem(`bh-gft-alreadyApplied-${e.site_pos}`);const S=e.selectedDenominationChoicesType==="lower",{appliedVouchers:w,notAppliedVouchers:C}=await Bw(m,_,S)||{appliedVouchers:[],notAppliedVouchers:[]};g(r,!0),g(i,ne(w||[])),g(o,ne(C||[]));const L=(w==null?void 0:w.length)||0,k=(C==null?void 0:C.length)||0;L===m.length?await vt(mt.GiftVoucherApplyingSuccess,{source:"withoutOrder",totalVouchers:m.length,appliedCount:L,notAppliedCount:0,sitePos:e.site_pos}):L>0&&k>0?await vt(mt.GiftVoucherApplyingPartialSuccess,{source:"withoutOrder",totalVouchers:m.length,appliedCount:L,notAppliedCount:k,sitePos:e.site_pos}):k===m.length&&await vt(mt.GiftVoucherApplyingFailed,{source:"withoutOrder",totalVouchers:m.length,appliedCount:0,notAppliedCount:k,sitePos:e.site_pos})}catch(y){g(r,!1),g(i,ne([])),g(o,ne([])),await vt(mt.GiftVoucherApplyingFailed,{source:"withoutOrder",error:y instanceof Error?y.message:"Unknown error",totalVouchers:m.length,sitePos:e.site_pos}),_a({description:"Failed to apply vouchers. Please try again.",duration:2e3})}},d=async()=>{try{const m=sessionStorage==null?void 0:sessionStorage.getItem(`bh-gft-${e.site_pos}`);g(n,ne(JSON.parse(m||"[]"))),a(n).length>0?(await vt(mt.GiftVoucherValidVouchersListLoadedSuccess,{source:"sessionStorage",voucherCount:a(n).length,sitePos:e.site_pos}),await c(a(n)),g(r,!0)):await vt(mt.GiftVoucherValidVouchersListLoadedFailed,{source:"sessionStorage",reason:"no_vouchers",sitePos:e.site_pos})}catch(m){g(n,ne([])),g(r,!1),g(i,ne([])),g(o,ne([])),await vt(mt.GiftVoucherValidVouchersListLoadedFailed,{source:"sessionStorage",error:m instanceof Error?m.message:"Unknown error",sitePos:e.site_pos}),_a({description:"Failed to load vouchers. Please try again.",duration:2e3})}};Zt(async()=>{await d()}),Gn(()=>{window.location.reload()});var u=tK(),f=v(u);{var h=m=>{var y=ke(),_=de(y);{var S=C=>{var L=JX(),k=x(de(L),2),P=v(k),z=x(k,2);St(z,21,()=>a(n),zt,(T,M)=>{var D=QX(),A=v(D),O=v(A);O.__click=[$X,l,M];var I=v(O);pe(I,"src",s);var B=x(O,2),j=v(B),V=x(B,2);{var F=U=>{var $=YX();b(U,$)},N=U=>{var $=ke(),ee=de($);{var se=oe=>{var K=XX();b(oe,K)};W(ee,oe=>{a(o)&&a(o).find(K=>K.code===a(M).code)&&oe(se)},!0)}b(U,$)};W(V,U=>{a(i)&&a(i).find($=>$.code===a(M).code)?U(F):U(N,!1)})}var q=x(A,2),G=v(q);G.__click=[KX,l,M];var Q=v(G);pe(Q,"src",s);var Z=x(G,2),E=v(Z);ae(()=>{Y(j,a(M).code),Y(E,`PIN :${a(M).pin??""}`)}),b(T,D)}),ae(()=>{var T;return Y(P,`Copy these code and paste it on ${((T=e.storeDetails)==null?void 0:T.name)??""}`)}),b(C,L)},w=C=>{var L=ZX();b(C,L)};W(_,C=>{a(n)&&a(n).length>0?C(S):C(w,!1)})}b(m,y)},p=m=>{var y=eK();b(m,y)};W(f,m=>{a(r)?m(h):m(p,!1)})}Rt(1,u,()=>Hn,()=>({y:20,duration:300})),Rt(2,u,()=>es,()=>({duration:200})),b(t,u),Ke()}Tt(["click"]);const nK=async()=>{try{const t=window.location.href,{status:e,url:r}=await Fr({type:"handleLogin"});if(e){const n=new URL(r);n.searchParams.append("state",t),window.open(n,"_blank")}}catch(t){console.log("error in handleGoogleLogin",t)}},aK=(t,e,r,n)=>{g(e,ne(t.target.value)),g(r,ne(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a(e)))),a(r)&&g(n,"")},iK=(t,e,r,n,i)=>{if(t.key==="Enter"){t.preventDefault();const o=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a(e));g(r,ne(o)),o?(g(n,""),i()):g(n,"Please enter a valid email")}};var oK=H('<div class="flex flex-col gap-6"><div><p class="text-base font-bold text-[#111827]"> </p></div> <div class="flex flex-col gap-4"><div class="flex justify-between py-1 items-center"><div class="font-medium text-[#111827] flex gap-2 items-center"><span class="w-8 h-8 p-1 border rounded-full text-primary-600"><!></span></div></div></div></div>'),sK=H('<p class="text-danger-500 text-xs -my-2"> </p>'),lK=H('<div class="flex flex-col gap-4"><div class="flex flex-col gap-2"><p class="text-base text-[#111827] text-surface-950 font-bold">Login with your email to continue</p> <p class="text-xs text-[#6B7280] text-surface-500">We will send you a verification link to your email address.</p></div> <input name="email" type="email" autocomplete="email" class="border border-[#D1D5DB] rounded p-3 px-4"> <!> <button class="bg-primary-600 text-[white] px-4 py-3 rounded-md w-full font-bold"> </button> <p class="text-xs text-surface-500 text-center"> </p> <button class="text-primary-600 px-4 py-3 rounded-md w-full font-bold flex gap-1 items-center justify-center border border-primary-600 hover:border-primary-800 hover:text-primary-800 max-h-12"><!> <span class="flex-grow"> </span></button></div>'),cK=H('<div class="w-full h-full flex flex-col gap-4 justify-center items-center"><p> </p> <p> </p></div>'),dK=(t,e)=>{e()},uK=H('<div class="flex flex-col gap-4"><p>After verifying your email, click the button below.</p> <button class="bg-primary-600 text-[white] px-4 py-3 rounded-md w-full font-bold">Refresh</button></div>');function fK(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(tr,"$LL",r);let o=R(e,"connectMethod",3,"1"),s=le(""),l=le(!1),c=le(""),d=le(0),u=le(null);const f=()=>{a(u)&&(clearInterval(a(u)),g(u,null))},h=async()=>{a(l)?(Hy(a(s)),g(d,2),setTimeout(()=>{g(u,ne(setInterval(async()=>{await Tu().then(async w=>{w&&(f(),e.closeModal())})},4e3)))},2e3)):g(c,"Please enter a valid email")},p=()=>{a(l)||g(c,"Please enter a valid email")},m=async()=>{await Tu().then(async w=>{w?(f(),e.closeModal()):_a({duration:5e3,description:"Your email is not verified yet. Please verify your email to continue."})})};mr(()=>{e.isVisible||f()}),Zt(async()=>{g(d,1)});var y=ke(),_=de(y);{var S=w=>{var C=ke(),L=de(C);{var k=z=>{var T=oK(),M=v(T),D=v(M),A=v(D),O=x(M,2),I=v(O),B=v(I),j=v(B),V=v(j);Xt(V,()=>fp),ae(F=>Y(A,F),[()=>i()("priceHistory.priceAlertComponent.choseAlertMethod")]),b(z,T)},P=z=>{var T=ke(),M=de(T);{var D=O=>{var I=ke(),B=de(I);{var j=F=>{var N=lK(),q=x(v(N),2);q.__input=[aK,s,l,c],q.__keydown=[iK,s,l,c,h];var G=x(q,2);{var Q=J=>{var te=sK(),X=v(te);ae(()=>Y(X,a(c))),b(J,te)};W(G,J=>{a(c)&&J(Q)})}var Z=x(G,2);Z.__click=h;var E=v(Z),U=x(Z,2),$=v(U),ee=x(U,2);ee.__click=[nK];var se=v(ee);Ur(se,{src:T_,alt:"google login",cls:"w-6 h-6"});var oe=x(se,2),K=v(oe);ae((J,te,X,re)=>{ri(q,a(s)),pe(q,"placeholder",J),Y(E,te),Y($,X),Y(K,re)},[()=>i()("priceHistory.priceAlertComponent.loginModal.emailPlaceholder"),()=>i()("priceHistory.priceAlertComponent.loginModal.verify"),()=>i()("common.or"),()=>i()("common.loginWithGoogle")]),tt("blur",q,p),b(F,N)},V=F=>{var N=cK(),q=v(N),G=v(q),Q=x(q,2),Z=v(Q);ae((E,U)=>{Y(G,E),Y(Z,U)},[()=>i()("common.uhoh"),()=>i()("common.cantFindPage")]),b(F,N)};W(B,F=>{o()==="1"?F(j):F(V,!1)})}b(O,I)},A=O=>{var I=ke(),B=de(I);{var j=V=>{var F=uK(),N=x(v(F),2);N.__click=[dK,m],b(V,F)};W(B,V=>{a(d)===2&&V(j)},!0)}b(O,I)};W(M,O=>{a(d)===1?O(D):O(A,!1)},!0)}b(z,T)};W(L,z=>{a(d)===0?z(k):z(P,!1)})}b(w,C)};W(_,w=>{e.isVisible&&w(S)})}b(t,y),Ke(),n()}Tt(["input","keydown","click"]);const vK="/assets/voucherBg-CsZhHLJR.png";var hK=(t,e,r)=>{var n;e((n=a(r))==null?void 0:n.code)},pK=H('<span class="text-green-600 flex items-center ml-auto"><svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg></span>'),gK=H('<span class="text-red-500 flex items-center ml-auto"><svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></span>'),mK=(t,e,r)=>{var n;e((n=a(r))==null?void 0:n.pin)},xK=H('<li class="rounded border border-dashed px-4 bg-indigo-50 py-2 border-indigo-600"><div class="flex gap-2 items-center"><button class="h-6 w-6 flex-shrink-0"><img alt="copy icon" class="w-5 h-5"></button> <span class="font-mono text-base text-gray-800"> </span> <!></div> <div class="flex gap-2 items-center"><button class="h-4 w-4 flex-shrink-0 pl-1"><img alt="copy icon" class="w-3 h-3"></button> <span class="font-mono text-sm text-gray-800 pl-2"> </span></div></li>'),yK=H('<h2 class="text-xl font-bold text-gray-900 mb-4">Gift Card Ready</h2> <p class="text-xs text-slate-500 mb-2"> </p> <ul class="space-y-3"></ul> <div class="mt-4 text-center"><p class="text-sm text-gray-500">You can also check your vouchers in the&nbsp; <a href="https://buyhatke.com/gift-vouchers" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:text-indigo-800 underline">Buyhatke website</a> .</p></div>',1),_K=H('<p class="text-gray-600">No vouchers found.</p>'),bK=H('<div class="mb-8"><h2 class="text-2xl font-bold text-gray-900 mb-4">Hang tight...</h2> <p class="text-gray-600 text-lg leading-relaxed">Creating your Gift Card and<br>applying it to checkout</p></div> <div class="mb-8"><div class="w-full bg-gray-200 rounded-full h-2 overflow-hidden"><div class="h-full bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full animate-pulse"><div class="h-full bg-gradient-to-r from-indigo-600 to-purple-700 rounded-full animate-bounce"></div></div></div></div>',1),wK=H('<div class="py-6 mb-4 text-center"><!></div>');function kK(t,e){Xe(e,!0);let r=le(ne([])),n=le(!1),i=le(ne([])),o=le(ne([])),s=chrome.runtime.getURL(jw);const l=async y=>{var _;try{await navigator.clipboard.writeText(y),_a({description:"Voucher copied Successfully",duration:2e3}),await vt(mt.GiftVoucherCodeCopied,{orderId:((_=e.orderData)==null?void 0:_.orderId)||null}),sessionStorage.removeItem("bh-gft-orderId")}catch{}},c=async y=>{var _,S,w,C,L;await vt(mt.GiftVoucherApplyingStarted,{orderId:((_=e.orderData)==null?void 0:_.orderId)||null,voucherCount:y.length});try{const k=e.selectedDenominationChoicesType==="lower",{appliedVouchers:P,notAppliedVouchers:z}=await Bw(y,{},k)||{appliedVouchers:[],notAppliedVouchers:[]};g(i,ne(P||[])),g(o,ne(z||[]));const T=(P==null?void 0:P.length)||0,M=(z==null?void 0:z.length)||0;T===y.length?await vt(mt.GiftVoucherApplyingSuccess,{orderId:((S=e.orderData)==null?void 0:S.orderId)||null,totalVouchers:y.length,appliedCount:T,notAppliedCount:0}):T>0&&M>0?await vt(mt.GiftVoucherApplyingPartialSuccess,{orderId:((w=e.orderData)==null?void 0:w.orderId)||null,totalVouchers:y.length,appliedCount:T,notAppliedCount:M}):M===y.length&&await vt(mt.GiftVoucherApplyingFailed,{orderId:((C=e.orderData)==null?void 0:C.orderId)||null,totalVouchers:y.length,appliedCount:0,notAppliedCount:M})}catch(k){await vt(mt.GiftVoucherApplyingFailed,{orderId:((L=e.orderData)==null?void 0:L.orderId)||null,error:k instanceof Error?k.message:"Unknown error",totalVouchers:y.length})}};let d=le(null);const u=async()=>{var y,_,S,w,C;try{const{status:L,data:k}=await Fr({type:"getValidGiftVouchersList",orderId:(y=e.orderData)==null?void 0:y.orderId});if(L>0&&k&&(k!=null&&k.voucherList)){g(r,ne(k==null?void 0:k.voucherList)),await vt(mt.GiftVoucherValidVouchersListLoadedSuccess,{orderId:((_=e.orderData)==null?void 0:_.orderId)||null,voucherCount:((S=k.voucherList)==null?void 0:S.length)||0}),g(d,ne(sessionStorage.getItem("bh-gft-orderId")));const P=sessionStorage.getItem("bh-gft-starting-screen");if(a(d)&&P==="processing"){g(n,!0);return}await c(a(r)),g(n,!0)}else sessionStorage.removeItem("bh-gft-orderId"),await vt(mt.GiftVoucherValidVouchersListLoadedFailed,{orderId:((w=e.orderData)==null?void 0:w.orderId)||null,status:L})}catch(L){sessionStorage.removeItem("bh-gft-orderId"),await vt(mt.GiftVoucherValidVouchersListLoadedFailed,{orderId:((C=e.orderData)==null?void 0:C.orderId)||null,error:L instanceof Error?L.message:"Unknown error"})}};Zt(async()=>{await u()}),Gn(()=>{window.location.reload()});var f=wK(),h=v(f);{var p=y=>{var _=ke(),S=de(_);{var w=L=>{var k=yK(),P=x(de(k),2),z=v(P),T=x(P,2);St(T,21,()=>a(r),zt,(M,D)=>{var A=xK(),O=v(A),I=v(O);I.__click=[hK,l,D];var B=v(I);pe(B,"src",s);var j=x(I,2),V=v(j),F=x(j,2);Vu(F,()=>a(i)||a(o),E=>{var U=ke(),$=de(U);{var ee=oe=>{var K=pK();b(oe,K)},se=oe=>{var K=ke(),J=de(K);{var te=X=>{var re=gK();b(X,re)};W(J,X=>{a(o)&&a(o).find(re=>re.code===a(D).code)&&X(te)},!0)}b(oe,K)};W($,oe=>{a(i)&&a(i).find(K=>K.code===a(D).code)?oe(ee):oe(se,!1)})}b(E,U)});var N=x(O,2),q=v(N);q.__click=[mK,l,D];var G=v(q);pe(G,"src",s);var Q=x(q,2),Z=v(Q);ae(()=>{Y(V,a(D).code),Y(Z,`PIN :${a(D).pin??""}`)}),b(M,A)}),ae(()=>{var M;return Y(z,`Copy these code and paste it on ${((M=e.storeDetails)==null?void 0:M.name)??""}`)}),b(L,k)},C=L=>{var k=_K();b(L,k)};W(S,L=>{a(r)&&a(r).length>0?L(w):L(C,!1)})}b(y,_)},m=y=>{var _=bK();b(y,_)};W(h,y=>{a(n)?y(p):y(m,!1)})}Rt(1,f,()=>Hn,()=>({y:20,duration:300})),Rt(2,f,()=>es,()=>({duration:200})),b(t,f),Ke()}Tt(["click"]);var SK=(t,e,r,n)=>{a(e)||a(r)==="processing"||a(r)==="payment-options"||a(r)==="applying-voucher"||n(t)},CK=()=>{sessionStorage&&(sessionStorage.removeItem("bh-gft-starting-screen"),sessionStorage.removeItem("bh-gft-orderId"))},AK=H('<!> You can always access this voucher from your <a href="https://buyhatke.com/gift-vouchers" target="_blank" rel="noopener noreferrer" class="text-white underline font-bold">Gift Vouchers Dashboard</a>. Click "Close" or copy your voucher details for future use.',1),MK=H('<p class="text-white text-opacity-90 text-center font-semibold text-base py-2 max-w-[500px] mx-auto md:block hidden"><!></p>'),PK=(t,e,r,n)=>{e[a(r)]?g(r,ne(e[a(r)])):g(r,"select-voucher"),(a(r)==="select-voucher"||a(r)==="initial")&&n()},DK=H('<button class="mr-2"><img alt="long arrow" class="w-4 h-4 transform rotate-180"></button>'),LK=(t,e,r,n)=>{var i,o,s;try{g(e,ne([])),(i=window==null?void 0:window.sessionStorage)==null||i.removeItem("bh-gft-orderId"),(o=window==null?void 0:window.sessionStorage)==null||o.removeItem(`bh-gft-${a(r)}`),(s=window==null?void 0:window.sessionStorage)==null||s.removeItem(`bh-gft-alreadyApplied-${a(r)}`)}catch{}n()},EK=H('<div class="flex justify-center items-center my-32"><div class="animate-spin rounded-full h-20 w-20 border-b-2 border-indigo-600"></div></div>'),IK=H('<div class=" inline-flex items-center gap-1 bg-white rounded-full px-2 py-1 mb-5"><img height="20px" width="20px" alt="store image" class="rounded-full border border-slate-200"> <p class="text-xs font-medium text-slate-950"> </p></div>'),TK=H('<span> </span> <span class="text-slate-950 text-2xl font-bold"> </span>',1),OK=H('<span class="text-slate-950 text-2xl font-bold"> </span>'),RK=H('<div><p class="mb-2 text-xs font-medium text-slate-800">Voucher Value</p> <p class="text-slate-950 text-3xl font-bold flex flex-wrap gap-x-2 gap-y-1 items-center"><!></p></div>'),NK=H('<div class="relative rounded overflow-hidden p-3 mb-6"><!> <!></div>'),zK=H('<div class="grid gap-2"><!></div>'),BK=H('<label class="flex items-center gap-2 px-2 mb-1"><input type="checkbox" class="accent-indigo-600 w-3 h-3"> <span class="text-xs text-slate-800 select-none">Use my existing balance</span></label>'),jK=H('<div class="relative group transition-all duration-200 border border-slate-200 rounded-xl bg-white hover:shadow-lg px-2 py-1.5 flex flex-col gap-1"><label class="flex items-center gap-3 cursor-pointer w-full"><input type="radio" name="voucher-select" class="accent-indigo-600 w-5 h-5 transition-all"> <div class="flex flex-col flex-1 min-w-0"><p class="font-semibold truncate text-slate-800"> </p> <span class="text-xs text-indigo-600 font-medium"> <span class="font-semibold"> </span></span></div> <div class="ml-auto flex flex-col items-end"><span class="text-xs text-slate-500">You Save</span> <span class="font-bold text-green-600 text-base"><!></span></div></label> <!></div>'),FK=async(t,e,r)=>{a(e)!==null&&await r(a(e))},UK=H('<div class="mt-2 text-red-600 text-sm font-medium flex items-center gap-2"><span>Amount is not sufficient for making voucher.</span></div>'),VK=H('<div class="grid gap-2"><!> <button class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-xl py-3 transition-colors duration-200 mt-4 disabled:bg-gray-400 disabled:cursor-not-allowed shadow">Continue</button> <!></div>'),WK=H('<input type="checkbox" class="accent-indigo-600 w-5 h-5 mt-1 transition-all my-auto">'),HK=H('<div class="text-yellow-900 bg-yellow-100 px-1.5 rounded-full text-[10px] font-medium">Recommended</div>'),qK=H('<label><div class=" text-sm p-3 rounded-xl border border-slate-200 mb-2"><div class="flex"><!> <div class="text-slate-950 text-xs font-medium"><!></div> <div class="text-slate-950 text-xs font-medium ml-auto"> </div></div> <div class="flex items-center mt-2"><!> <div class="text-slate-600 text-xs ml-auto"> </div></div></div></label>'),GK=async(t,e,r)=>{a(e)!==null&&await r(a(e))},$K=H('<div class="grid gap-2"><p class="text-xl font-bold text-center text-slate-700 mt-5">Choose a Gift Card Amount</p> <p class="text-sm font-medium text-slate-600 mb-5 text-center">Exact amount isnâ€™t supported. Pick the closest valid option</p> <div><p class="text-slate-600 text-xs mb-2 pl-1">Here are the nearest valid amounts</p> <!></div> <button class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-xl py-3 transition-colors duration-200 disabled:bg-gray-400 disabled:cursor-not-allowed shadow">Continue</button></div>'),YK=H(`<div class="flex flex-col items-center justify-center mt-8 px-4 text-center"><p class="text-slate-500 text-base mb-2 font-semibold">Sorry, we are not able to get a valid amount for creating a voucher at the
						moment.</p> <p class="text-slate-400 text-sm mb-2">This might happen if your order value doesn't match any available voucher,
						or there is a temporary issue fetching vouchers.</p> <p class="text-slate-400 text-sm">You can try a different amount, refresh the page, or contact our support
						team if the issue persists.</p></div>`),XK=H("<!> <!>",1),KK=H('<div><button class="absolute inset-0 bg-black bg-opacity-50" style="backdrop-filter: brightness(0.5);" aria-label="close button in gift voucher modal"><!></button> <div style="z-index: 10;"><div class="flex items-center justify-between pb-0 leading-none mb-2"><div class="flex items-center gap-1"><!> <span class="text-slate-950 font-bold text-sm">HatkePay</span> <span class="text-[8px] text-slate-950 font-medium">by</span><img alt="HatkePay by buyhatke" class="h-3"></div> <button class="p-1"><img alt="close" class="w-4 h-4"></button></div> <!> <div class="mt-4"><!> <div class="flex items-center justify-center gap-3 text-xs pt-2 px-5 rounded-b-md bg-slate-100 mx-[-17px] mb-[-17px] pb-3 mt-4"><a href="https://buyhatke.com/gift-vouchers" target="_blank" rel="noopener noreferrer" class="text-indigo-600 font-bold hover:text-indigo-700 transition flex items-center gap-1"><span class="inline-block w-5 h-5 text-indigo-800"><!></span> My Vouchers</a> <span class="text-slate-400 mx-1">|</span> <a href="https://buyhatke.com/contact-us" target="_blank" rel="noopener noreferrer" class="text-indigo-600 font-bold hover:text-indigo-700 transition flex items-center gap-1"><span class="inline-block w-4 h-4 text-indigo-800"><!></span> Need assistance?</a></div></div></div></div> <!>',1);function QK(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(r_,"$toastData",r);let o=R(e,"isOpen",15,!1),s=R(e,"onClose",3,()=>{}),l=chrome.runtime.getURL(Z0),c=chrome.runtime.getURL(Iu),d=chrome.runtime.getURL(vK),u=chrome.runtime.getURL(Ds),f=le(!0),h=le("select-voucher"),p=le(ne([])),m=le(ne([])),y=le(null),_=le(ne({type:"",targetAmount:"0",vouchers:[{voucherAmount:"0",quantity:0,totalAmount:0}],totalAmount:"0",payableAmount:"0"})),S=le(0),w=le(null),C=le(ne({name:"",logo:""})),L=le(null),k=le(ne([])),P=le(null),z=le(!1),T=le(!1),M=le(""),D,A=le(0),O=le(null),I="â‚¹",B=le(null);Zt(async()=>{var Pe,We,He;g(M,ne(await ns()));try{a(M)&&(g(k,ne(JSON.parse(((Pe=window.sessionStorage)==null?void 0:Pe.getItem(`bh-gft-${a(M)}`))||"[]")||[])),a(k)&&((We=a(k))==null?void 0:We.length)>0&&(o(!0),+a(M)==7907&&(await V(),Q()),await vt(mt.GiftVoucherModalOpened,{source:"localVouchers",localVouchersCount:a(k).length,sitePos:a(M)}))),a(k)&&((He=window.sessionStorage)==null||He.removeItem(`bh-gft-${a(M)}`))}catch{g(k,ne([])),o(!1)}await V(),await G()}),mr(()=>{}),Zt(()=>{Tu().then(async He=>{He?(g(z,!0),g(T,!1)):g(z,!1)});let Pe="";const We=new MutationObserver(async()=>{const He=await jo();He&&Pe!==(He==null?void 0:He.elePosition)&&(He!=null&&He.elePosition)&&(Pe=(He==null?void 0:He.elePosition)||"",V())});return We.observe(document,{subtree:!0,childList:!0}),()=>We.disconnect()});let j=le(ne([]));const V=async()=>{try{const{val:Pe,ele:We}=await Hl()||{val:0,ele:null};g(A,ne(Pe)),g(S,ne(Pe));try{let{toastSelector:He}=await jo();if(He){for(const nt of He)if(document.querySelector(nt.selector)){g(j,ne(nt));break}}}catch{}if((a(A)||a(k).length>0)&&await F(),We&&!Pe&&await vt(mt.GiftVoucherCartAmountZero,{sitePos:a(M)}),!We)return}catch{}},F=async()=>{var Pe,We,He;try{const{status:nt,data:Qe}=await Fr({type:"getVoucherChoices",pos:a(M)});try{const{status:rt,data:ot}=await Fr({type:"getSiteLogo",pos:a(M)});rt>0&&ot&&ot.image&&ot.name&&g(C,ne({name:ot.name,logo:ot.image}))}catch{}if(nt>0&&Qe.voucherChoices&&Qe.voucherChoices.length>0){let rt=((Pe=Qe.voucherChoices[0])==null?void 0:Pe.brandDiscount)||0,ot=0;for(let dt=0;dt<Qe.voucherChoices.length;dt++)((We=Qe.voucherChoices[dt])==null?void 0:We.brandDiscount)>rt&&(rt=(He=Qe.voucherChoices[dt])==null?void 0:He.brandDiscount,ot=dt);g($,a(A)*rt/100);const Lt=Qe.voucherChoices,Et=await GX(Lt);g(p,ne(Lt.map((dt,wt)=>({...dt,balance:Et[wt]})))),g(w,ne(ot)),await vt(mt.GiftVoucherVoucherChoicesLoadedSuccess,{voucherChoicesCount:Qe.voucherChoices.length,bestDiscount:rt,bestVoucherPrice:a($),voucherAmount:a(A),sitePos:a(M)}),await q();try{Qe.voucherChoices.length===1&&+Et[0]==0&&ee(0)}catch{}}else await vt(mt.GiftVoucherVoucherChoicesLoadedFailed,{status:nt,sitePos:a(M),voucherAmount:a(A)})}catch(nt){await vt(mt.GiftVoucherVoucherChoicesLoadedFailed,{error:nt instanceof Error?nt.message:"Unknown error",sitePos:a(M),voucherAmount:a(A)})}g(f,!1)};let N=le(!1);const q=async()=>{var Pe,We;try{const He=(We=(Pe=a(p))==null?void 0:Pe.find(nt=>nt.providerId))==null?void 0:We.providerId;if(He&&a(M)){const{status:nt,data:Qe}=await Fr({type:"checkIsAllowedGiftVoucher",params:{pos:a(M),providerId:He,amount:a(A)}});nt>0?g(N,ne(Qe.isAllowed)):g(N,!1)}}catch{g(N,!1)}},G=async()=>{try{const{ele:Pe}=await Hl()||{ele:null,val:0};if(!Pe)return;let We=Pe==null?void 0:Pe.innerText,He=null;const nt=new MutationObserver(async()=>{try{const Qe=Pe.innerText;if(Qe!==We){We=Qe;const{val:rt,ele:ot}=await Hl()||{val:0,ele:null};ot&&a(A)!==rt&&(g(A,ne(rt)),rt?(He&&clearTimeout(He),He=setTimeout(async()=>{await F(),await Z()},500)):await vt(mt.GiftVoucherCartAmountZero,{sitePos:a(M)}))}}catch{}});return Pe&&nt.observe(Pe,{characterData:!0,subtree:!0,childList:!0}),()=>{He&&clearTimeout(He),nt.disconnect()}}catch{return()=>{}}},Q=async(Pe=!1)=>{var We,He;try{if(a(P)&&+a(M)==7907){let nt=await jo();if(!nt.elePosition)return;const Qe=document.createElement("div"),rt=document.createElement("style");rt.textContent=Ty,a(P).appendChild(rt),Qe.appendChild(a(P)),Qe.id=`gift-voucher-modal-content-child-main-${a(M)}`;const ot=(We=document.querySelector(nt.elePosition))==null?void 0:We.nextElementSibling;Pe?((He=document.getElementById(`gift-voucher-modal-content-child-main-${a(M)}`))==null||He.remove(),document.getElementById(Il)&&(document.querySelector(nt.elePosition).style.display="block")):ot&&(ot.insertBefore(a(P),ot.firstChild),document.getElementById(Il)&&(document.querySelector(nt.elePosition).style.display="none"))}}catch{}},Z=()=>{setTimeout(async()=>{try{let Pe=await jo();if(!Pe.elePosition)return;const We=document.querySelector(Pe.elePosition);if(We){const He=document.getElementById(Il);He&&He.remove(),D=document.createElement("div"),D.id=Il,D.style.cssText=`
										margin: 12px 0;
										display: flex;
										justify-content: center;
										position: relative;
									`,We.appendChild(D),Yw(RX,{target:D,props:{bestVoucherPrice:a($),voucherAmount:a(A),onClick:async()=>{o(!0),V(),Q(),await vt(mt.GiftVoucherModalOpened,{source:"saveInstantlyButton",bestVoucherPrice:a($),voucherAmount:a(A),sitePos:a(M)})},onClose:()=>{D&&(D.style.display="none")}}})}}catch{}},1e3)},E=()=>{const Pe=document.getElementById(Il);Pe&&Pe.remove()};mr(()=>{a(N)?Z():E()}),mr(()=>{var Pe;a(w)!==null&&((Pe=a(p))==null?void 0:Pe.length)>0?g(L,ne(a(p)[a(w)])):g(L,null)});async function U(Pe){try{const{val:We}=await Hl()||{val:0};g(A,ne(We)),g(S,ne(We)),await vt(mt.GiftVoucherModalClosed,{currentScreen:a(h),selectedVoucher:a(w)!==null?a(w):null,hasOrderData:a(O)!==null}),o(!1),g(h,"select-voucher"),g(w,null),g(_,ne({type:"",targetAmount:"0",vouchers:[{voucherAmount:"0",quantity:0,totalAmount:0}],totalAmount:"0",payableAmount:"0"})),g(p,ne([])),g(m,ne([])),g(y,null),g(C,ne({name:"",logo:""})),g(A,ne(We)),g(S,ne(We)),g(B,null),g(O,null),g(f,!0),Q(!0),s()(),g(T,!1),Pe&&(Pe.preventDefault(),Pe.stopPropagation())}catch{o(!1),g(T,!1)}}let $=le(0);const ee=async(Pe=0)=>{var We,He,nt,Qe,rt,ot,Lt,Et;if(Pe!==null)try{const dt=a(A)-(a(B)!==null?+a(p)[a(B)].balance:0),{status:wt,data:it}=await Fr({type:"getVoucherDenominationChoices",pos:a(M),amount:dt,voucherChoice:Pe});if((!((We=a(C))!=null&&We.logo)||!((He=a(C))!=null&&He.name))&&g(C,ne({name:((nt=a(C))==null?void 0:nt.name)||G3(+a(M)),logo:((Qe=a(C))==null?void 0:Qe.logo)||""})),wt>0&&it&&Array.isArray(it.voucherDenominationChoices)&&it.voucherDenominationChoices.length>0){await vt(mt.GiftVoucherSelected,{voucherIndex:Pe,voucherTitle:((rt=a(p)[Pe])==null?void 0:rt.title)||"",voucherDiscount:((ot=a(p)[Pe])==null?void 0:ot.brandDiscount)||0,voucherAmount:dt,useBalance:a(B)!==null,sitePos:a(M)}),await vt(mt.GiftVoucherDenominationChoicesLoadedSuccess,{voucherIndex:Pe,denominationChoicesCount:it.voucherDenominationChoices.length,voucherAmount:dt,sitePos:a(M)}),g(A,dt),g(L,ne(a(p)[Pe])),g(m,ne(it.voucherDenominationChoices));const ht=a(m).length===1&&a(m)[0].type==="exact";((Lt=a(m))==null?void 0:Lt.length)===1&&ht&&(g(_,ne(it.voucherDenominationChoices[0])),g(h,"initial"),se()),(((Et=a(m))==null?void 0:Et.length)>1||!ht)&&(g(y,0),g(h,"select-voucher-denomination"))}else await vt(mt.GiftVoucherDenominationChoicesLoadedFailed,{voucherIndex:Pe,status:wt,voucherAmount:dt,sitePos:a(M)})}catch(dt){await vt(mt.GiftVoucherDenominationChoicesLoadedFailed,{voucherIndex:Pe,error:dt instanceof Error?dt.message:"Unknown error",voucherAmount:a(A),sitePos:a(M)})}},se=async(Pe=0)=>{try{g(y,0),g(_,ne(a(m)[Pe])),await vt(mt.GiftVoucherDenominationSelected,{denominationIndex:Pe,voucherType:a(_).type||"",targetAmount:a(_).targetAmount||"0",payableAmount:a(_).payableAmount||"0",totalAmount:a(_).totalAmount||"0",sitePos:a(M)}),g(A,+a(_).totalAmount),g(S,+a(_).totalAmount),g(h,"initial")}catch{}},oe=async()=>{g(T,!0),await vt(mt.GiftVoucherLoginRequired,{sitePos:a(M),voucherAmount:a(A),source:"giftVoucherModal"})},K=async()=>{try{await Tu().then(async Pe=>{Pe?(g(z,!0),g(T,!1),V()):(g(z,!1),await vt(mt.GiftVoucherLoginRequired,{sitePos:a(M),voucherAmount:a(A)}))})}catch(Pe){g(z,!1),await vt(mt.GiftVoucherLoginRequired,{sitePos:a(M),voucherAmount:a(A),error:Pe instanceof Error?Pe.message:"Unknown error"})}finally{g(T,!1)}};let J=Ne(()=>{var Pe,We;return a(p)&&a(B)!==null&&((We=(Pe=a(p))==null?void 0:Pe[a(B)])==null?void 0:We.balance)||0}),te=Ne(()=>{var Pe;return(a(S)-(+a(J)||0))*((Pe=a(p)[a(w)??0])==null?void 0:Pe.brandDiscount)/100||0}),X=Ne(()=>a(S)-(+a(J)||0)-a(te)||0);const re={initial:"select-voucher","payment-summary":"initial","select-voucher-denomination":"select-voucher"};mr(()=>{var Pe,We,He;try{(Pe=a(O))!=null&&Pe.orderId&&+((We=a(O))==null?void 0:We.orderId)>0&&sessionStorage.setItem("bh-gft-orderId",(He=a(O))==null?void 0:He.orderId.toString())}catch{}});let fe=le(null);mr(()=>{try{o(),g(fe,ne(sessionStorage.getItem("bh-gft-orderId")||null)),a(fe)&&o()&&(g(O,ne({orderId:parseInt(a(fe)),orderStatus:0})),o(!0),g(h,"processing"),sessionStorage.setItem("bh-gft-starting-screen","processing"))}catch{}});let ue=le("");mr(()=>{var Pe,We;try{((Pe=a(m))==null?void 0:Pe.length)>0&&g(ue,ne((We=a(m)[a(y)??0])==null?void 0:We.type))}catch{}}),Zt(()=>{sessionStorage.removeItem("bh-gft-starting-screen")});var xe=KK(),we=de(xe),me=v(we);me.__click=[SK,fe,h,U];var ce=v(me);{var ye=Pe=>{var We=MK(),He=v(We);{var nt=rt=>{var ot=AK(),Lt=de(ot);{var Et=it=>{var ht=Wt(`We're securely processing your payment for the gift card. Please wait while
						we confirm your payment status.`);b(it,ht)},dt=it=>{var ht=Wt("Your voucher has been created! Apply it manually to complete your checkout.");b(it,ht)};W(Lt,it=>{a(h)==="processing"||a(h)==="payment-options"?it(Et):it(dt,!1)})}var wt=x(Lt,2);wt.__click=[CK],b(rt,ot)},Qe=rt=>{var ot=Wt("Please do not close or navigate away during checkout.");b(rt,ot)};W(He,rt=>{a(fe)?rt(nt):rt(Qe,!1)})}b(Pe,We)};W(ce,Pe=>{(a(h)==="processing"||a(h)==="payment-options"||a(h)==="applying-voucher")&&Pe(ye)})}var be=x(me,2),ve=v(be),Se=v(ve),Ee=v(Se);{var Be=Pe=>{var We=DK();We.__click=[PK,re,h,V];var He=v(We);pe(He,"src",u),b(Pe,We)};W(Ee,Pe=>{re[a(h)]&&Pe(Be)})}var Ae=x(Ee,5);pe(Ae,"src",l);var Ce=x(Se,2);Ce.__click=[LK,k,M,U];var _e=v(Ce);pe(_e,"src",c);var ge=x(ve,2);{var Oe=Pe=>{var We=EK();b(Pe,We)},Le=Pe=>{var We=XK(),He=de(We);{var nt=Lt=>{var Et=NK();pe(Et,"style",`background-image: url(${d??""}); background-size: cover; background-position: center;`);var dt=v(Et);{var wt=at=>{var gt=IK(),Gt=v(gt),Kt=x(Gt,2),sr=v(Kt);ae(()=>{var wr,ft;pe(Gt,"src",(wr=a(C))==null?void 0:wr.logo),Y(sr,(ft=a(C))==null?void 0:ft.name)}),b(at,gt)};W(dt,at=>{var gt,Gt;(gt=a(C))!=null&&gt.logo&&((Gt=a(C))!=null&&Gt.name)&&at(wt)})}var it=x(dt,2);{var ht=at=>{var gt=RK(),Gt=x(v(gt),2),Kt=v(Gt);{var sr=ft=>{var Mt=TK(),yt=de(Mt);$e(yt,"line-through");var Bt=v(yt),jt=x(yt,2),gr=v(jt);ae((xr,rr)=>{Y(Bt,`${I}${xr??""}`),Y(gr,`${I}${rr??""}`)},[()=>ai(a(S)),()=>ai(a(S)-(+a(J)||0)-a(te))]),b(ft,Mt)},wr=ft=>{var Mt=ke(),yt=de(Mt);{var Bt=jt=>{var gr=OK(),xr=v(gr);ae(rr=>Y(xr,`${I}${rr??""}`),[()=>{var rr;return ai(+((rr=a(_))==null?void 0:rr.totalAmount)||0)}]),b(jt,gr)};W(yt,jt=>{var gr;+((gr=a(_))==null?void 0:gr.totalAmount)&&jt(Bt)},!0)}b(ft,Mt)};W(Kt,ft=>{a(h)==="select-voucher"?ft(sr):ft(wr,!1)})}b(at,gt)};W(it,at=>{a(X)&&at(ht)})}Rt(1,Et,()=>jr,()=>({duration:300})),Rt(2,Et,()=>jr,()=>({duration:200})),b(Lt,Et)};W(He,Lt=>{a(h)!=="select-voucher-denomination"&&!a(fe)&&Lt(nt)})}var Qe=x(He,2);{var rt=Lt=>{var Et=zK(),dt=v(Et);fK(dt,{get isVisible(){return a(T)},closeModal:K}),Rt(1,Et,()=>jr,()=>({duration:200})),Rt(2,Et,()=>jr,()=>({duration:200})),b(Lt,Et)},ot=Lt=>{var Et=ke(),dt=de(Et);{var wt=ht=>{rK(ht,{get storeDetails(){return a(C)},get site_pos(){return a(M)},get selectedDenominationChoicesType(){return a(ue)}})},it=ht=>{var at=ke(),gt=de(at);{var Gt=sr=>{var wr=ke(),ft=de(wr);{var Mt=Bt=>{var jt=VK(),gr=v(jt);St(gr,17,()=>a(p),zt,(xt,Pr,Dr)=>{let je=()=>a(Pr).title,st=()=>a(Pr).brandDiscount,Ue=()=>a(Pr).balance;var Ut=jK();const _t=Ne(()=>(a(A)-(a(w)===Dr?+a(J):0))*st()/100);var Dt=v(Ut),lt=v(Dt);lt.__change=lr=>{lr.currentTarget.checked?g(w,ne(Dr)):g(w,null),g(B,null)};var Vt=x(lt,2),Ht=v(Vt),vr=v(Ht),kr=x(Ht,2),yr=v(kr);yr.nodeValue=`Balance: ${I}`;var Sr=x(yr),Ir=v(Sr),Tr=x(Vt,2),Gr=x(v(Tr),2),rn=v(Gr);{var nr=lr=>{var cr=Wt("-");b(lr,cr)},ir=lr=>{var cr=Wt();ae(Qt=>Y(cr,`${I}${Qt??""}`),[()=>ai(a(_t))]),b(lr,cr)};W(rn,lr=>{a(_t)<=0?lr(nr):lr(ir,!1)})}var Cr=x(Dt,2);{var Rr=lr=>{var cr=BK(),Qt=v(cr);Qt.__change=async Pt=>{var Yt;const qt=Pt.currentTarget.checked;qt?g(B,ne(Dr)):g(B,null),await vt(mt.GiftVoucherUseBalanceToggled,{enabled:qt,voucherIndex:Dr,balance:((Yt=a(p)[Dr])==null?void 0:Yt.balance)||0,voucherAmount:a(A),sitePos:a(M)})},ae(()=>vi(Qt,a(B)===Dr)),Rt(1,cr,()=>jr,()=>({duration:300})),Rt(2,cr,()=>jr,()=>({duration:200})),b(lr,cr)};W(Cr,lr=>{a(w)===Dr&&+Ue()>0&&lr(Rr)})}ae(()=>{vi(lt,a(w)===Dr),Y(vr,je()),Y(Ir,Ue()||0)}),b(xt,Ut)});var xr=x(gr,2);xr.__click=[FK,w,ee];var rr=x(xr,2);{var fr=xt=>{var Pr=UK();b(xt,Pr)};W(rr,xt=>{a(A)<=0&&xt(fr)})}ae(()=>xr.disabled=a(w)===null||a(A)<=0||+a(X)<=0),Rt(1,jt,()=>jr,()=>({duration:200})),Rt(2,jt,()=>jr,()=>({duration:200})),b(Bt,jt)},yt=Bt=>{var jt=ke(),gr=de(jt);{var xr=fr=>{var xt=$K(),Pr=x(v(xt),4),Dr=x(v(Pr),2);St(Dr,17,()=>a(m),zt,(st,Ue,Ut)=>{let _t=()=>a(Ue).type,Dt=()=>a(Ue).payableAmount,lt=()=>a(Ue).totalAmount;var Vt=qK(),Ht=v(Vt),vr=v(Ht),kr=v(vr);{var yr=Qt=>{var Pt=WK();Pt.__change=()=>{g(y,ne(Ut))},ae(()=>vi(Pt,a(y)===Ut)),b(Qt,Pt)};W(kr,Qt=>{a(m).length>1&&Qt(yr)})}var Sr=x(kr,2),Ir=v(Sr);{var Tr=Qt=>{var Pt=Wt("Higher Value");b(Qt,Pt)},Gr=Qt=>{var Pt=ke(),qt=de(Pt);{var Yt=or=>{var dr=Wt("Lower Value");b(or,dr)};W(qt,or=>{_t()==="lower"&&or(Yt)},!0)}b(Qt,Pt)};W(Ir,Qt=>{_t()==="upper"?Qt(Tr):Qt(Gr,!1)})}var rn=x(Sr,2),nr=v(rn),ir=x(vr,2),Cr=v(ir);{var Rr=Qt=>{var Pt=HK();b(Qt,Pt)};W(Cr,Qt=>{(_t()==="upper"||a(m).length===1)&&Qt(Rr)})}var lr=x(Cr,2),cr=v(lr);ae((Qt,Pt)=>{Y(nr,`${I}${Qt??""}`),Y(cr,`Payable Amount : ${I}${Pt??""}`)},[()=>ai(+lt()),()=>ai(+Dt())]),b(st,Vt)});var je=x(Pr,2);je.__click=[GK,y,se],ae(()=>je.disabled=a(y)===null),Rt(1,xt,()=>jr,()=>({duration:300})),Rt(2,xt,()=>jr,()=>({duration:200})),b(fr,xt)},rr=fr=>{var xt=ke(),Pr=de(xt);{var Dr=st=>{hX(st,{get storeDetails(){return a(C)},get voucher(){return a(L)},get selectedVoucherDetails(){return a(_)},get voucherAmount(){return a(A)},get useBalance(){return a(J)},closeModal:U,handleLogin:oe,get currentScreen(){return a(h)},set currentScreen(Ue){g(h,ne(Ue))},get orderData(){return a(O)},set orderData(Ue){g(O,ne(Ue))},get selectedVoucher(){return a(w)},set selectedVoucher(Ue){g(w,ne(Ue))},get loggedIn(){return a(z)},set loggedIn(Ue){g(z,ne(Ue))}})},je=st=>{var Ue=ke(),Ut=de(Ue);{var _t=Dt=>{CX(Dt,{get orderData(){return a(O)},get currentScreen(){return a(h)},set currentScreen(lt){g(h,ne(lt))}})};W(Ut,Dt=>{var lt;a(h)==="payment-options"&&((lt=a(O))!=null&&lt.orderId)&&Dt(_t)},!0)}b(st,Ue)};W(Pr,st=>{(a(h)==="initial"||a(h)==="payment-summary"||a(h)==="create-voucher")&&a(w)!==null&&a(y)!==null&&a(L)!==null?st(Dr):st(je,!1)},!0)}b(fr,xt)};W(gr,fr=>{a(h)==="select-voucher-denomination"?fr(xr):fr(rr,!1)},!0)}b(Bt,jt)};W(ft,Bt=>{a(h)==="select-voucher"?Bt(Mt):Bt(yt,!1)})}b(sr,wr)},Kt=sr=>{var wr=ke(),ft=de(wr);{var Mt=Bt=>{EX(Bt,{get orderData(){return a(O)},get currentScreen(){return a(h)},set currentScreen(jt){g(h,ne(jt))}})},yt=Bt=>{var jt=ke(),gr=de(jt);{var xr=fr=>{kK(fr,{get orderData(){return a(O)},get storeDetails(){return a(C)},get selectedDenominationChoicesType(){return a(ue)},get currentScreen(){return a(h)},set currentScreen(xt){g(h,ne(xt))}})},rr=fr=>{var xt=ke(),Pr=de(xt);{var Dr=je=>{var st=YK();b(je,st)};W(Pr,je=>{(a(h)==="select-voucher"||a(h)==="select-voucher-denomination")&&je(Dr)},!0)}b(fr,xt)};W(gr,fr=>{a(h)==="applying-voucher"?fr(xr):fr(rr,!1)},!0)}b(Bt,jt)};W(ft,Bt=>{var jt;a(h)==="processing"&&((jt=a(O))!=null&&jt.orderId)?Bt(Mt):Bt(yt,!1)},!0)}b(sr,wr)};W(gt,sr=>{a(A)>0&&a(h)!=="applying-voucher"&&a(h)!=="processing"?sr(Gt):sr(Kt,!1)},!0)}b(ht,at)};W(dt,ht=>{var at;a(k)&&((at=a(k))==null?void 0:at.length)>0?ht(wt):ht(it,!1)},!0)}b(Lt,Et)};W(Qe,Lt=>{a(T)?Lt(rt):Lt(ot,!1)})}b(Pe,We)};W(ge,Pe=>{a(f)?Pe(Oe):Pe(Le,!1)})}var Re=x(ge,2),Me=v(Re);QY(Me,{get showToast(){return i().show},get description(){return i().description}});var Te=x(Me,2),ze=v(Te),Fe=v(ze),Ye=v(Fe);Xt(Ye,()=>Nw);var Je=x(ze,4),et=v(Je),Ze=v(et);Xt(Ze,()=>JY),Ar(be,Pe=>g(P,Pe),()=>a(P));var Ge=x(we,2);zX(Ge,{get checkoutGuide(){return a(j)}}),ae(()=>{$e(we,`fixed inset-0 z-[999999] flex items-center justify-end pr-[40px] ${(o()&&a(N)&&+a(M)!=7907?"block":"hidden")??""}`),pe(be,"id",`gift-voucher-modal-content-${a(M)??""}`),$e(be,` ${(+a(M)!=7907?"shadow-xl mx-4 p-4 rounded-2xl max-w-[306px]":"shadow-sm p-4 bg-slate-100")??""} bg-white w-full overflow-hidden`)}),Rt(1,be,()=>Hn,()=>({y:20,duration:300})),Rt(2,be,()=>es,()=>({duration:200})),b(t,xe),Ke(),n()}Tt(["click","change"]);const JK=(t,e)=>{g(e,!0),un({selectedOption:"coupon"})},ZK=(t,e)=>{t.stopPropagation(),g(e,!0)};var eQ=H('<button class="w-[271px] justify-center flex gap-2 items-center bg-yellow-300 fixed bottom-28 p-2 px-3 rounded-full left-1/2 -translate-x-1/2 z-[1000000] overflow-hidden cursor-pointer"><div><img alt="site_logo" class="w-4 h-4"></div> <div class="text-primary-950 text-sm font-medium"> </div> <img alt="close" class="cursor-pointer w-4 h-4"></button>');function tQ(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(tr,"$LL",r);let o=chrome.runtime.getURL(Hi),s=chrome.runtime.getURL(bc),l=le(!1);var c=ke(),d=de(c);{var u=f=>{var h=eQ();h.__click=[JK,l];var p=v(h),m=v(p);pe(m,"src",s);var y=x(p,2),_=v(y),S=x(y,2);pe(S,"src",o),S.__click=[ZK,l],ae(w=>Y(_,w),[()=>i()("socialProof.autoCoupons.tapToCheckForHiddenDeals")]),b(f,h)};W(d,f=>{a(l)||f(u)})}b(t,c),Ke(),n()}Tt(["click"]);var rQ=H('<main class="font-sans"><!> <!> <!> <!> <!> <!> <!> <!></main> <!>',1);function fQ(t,e){Xe(e,!0);const[r,n]=ct(),i=()=>ie(Yi,"$autoCouponStore",r),o=()=>ie(fn,"$nonPersistAppStore",r),s=()=>ie(Hc,"$autoCouponBridgeStore",r),l=()=>ie(ts,"$spendScreenStatus",r),c=()=>ie(Nd,"$blockedPages",r);let d=`<style>${Ty}</style>`,u=Ne(()=>i().showAutoCoupon),f=le(!1),h=le(!1),p=Ne(()=>o().showComparisonBar),m=Ne(()=>i().isAutoCouponClosed),y=le(!1),_=Ne(()=>o().selectedOption),S=le(!1),w=Ne(()=>i().autoCouponReadyToShow),C=le(ne({}));const L=Q0();let k=le(0),P=Ne(()=>s().isActive&&a(k)>0);mr(()=>{if(!L){const I=()=>{g(k,ne(n_().length))};I();const B=setInterval(I,500),j=new MutationObserver(()=>{I()});return document.body&&j.observe(document.body,{childList:!0,subtree:!0}),()=>{clearInterval(B),j.disconnect()}}});const z=()=>{try{chrome.runtime.onMessage.addListener((I,B,j)=>{if(I.type==="LANGUAGE_CHANGED"){const V=I.language;Fi.set(V)}return!0})}catch{}},T=async()=>{await M();const I=await an("minimiseSideBar");if(I&&typeof I=="object"){const B=window.location.href.split("&")[0],j=new URL(B).origin,V=I[B]||I[j];if(V&&(V.expiry===null||V.expiry>Date.now())){const F=V.expiry-Date.now(),N=24*60*60*1e3,q=7*24*60*60*1e3;F<=N?da("1day"):F<=q?da("7days"):da("7days")}else da("never")}else da("never")};Zt(async()=>{await new Promise(I=>{Fi.subscribe(B=>{B&&(g(y,!0),I())})}),z(),await Promise.all([b5(),T()]);try{const{featuresArray:I}=await chrome.storage.local.get(["featuresArray"]),B=JSON.parse(I);g(C,ne(B.reduce((j,V)=>(j[V.transKey]=Number(V.value),j),{})))}catch{}});const M=async()=>{try{if(await an("blockListMigrationDone"))return;const B=await an("blockList");if(B&&B.trim()!==""&&B!=="[]"&&B!=="null"){const j=JSON.parse(B),F={...await an("minimiseSideBar")||{}};j.forEach(N=>{if(N&&N.trim()!==""){const q=Date.now()+6048e5;F[N]={expiry:q}}}),await Xr("minimiseSideBar",F),await Xr("blockListMigrationDone",!0),await ep("blockList")}else await Xr("blockListMigrationDone",!0)}catch(I){console.error("Error migrating blockList to Chrome storage:",I)}};mr(()=>{g(f,ne(i().showAutoCouponPopup)),g(h,ne(o().showSideBar)),g(S,ne(l().showFloatingWidget))}),mr(()=>{a(u)&&!a(w)&&(async()=>{const I=await an("dontShowAutoCoupon"),B=await ns()||await Uu();if(B&&tp(String(B))){Ho(!1),tc(!0);return}I&&B&&I[B]&&I[B]>Date.now()&&!Nt()?(Ho(!1),tc(!0)):(By(!0),B&&Xr("dontShowAutoCoupon",{...I||{},[B]:Date.now()+432e5}))})()});var D=ke(),A=de(D);{var O=I=>{var B=rQ(),j=de(B),V=v(j);Xt(V,()=>d);var F=x(V,2);{var N=X=>{U$(X,{})};W(F,X=>{(L||!a(P))&&(a(h)||a(u)||a(f)||a(m))&&X(N)})}var q=x(F,2);{var G=X=>{hY(X,{})};W(q,X=>{!L&&a(u)&&!a(m)&&a(w)&&!Nt()&&X(G)})}var Q=x(q,2);{var Z=X=>{RY(X,{})};W(Q,X=>{!L&&a(f)&&!Nt()&&X(Z)})}var E=x(Q,2);{var U=X=>{lY(X,{})};W(E,X=>{a(C).priceComparison!==0&&a(p)&&(o().untrustedComparisonBar||a(h))&&!Nt()&&X(U)})}var $=x(E,2);{var ee=X=>{tQ(X,{})};W($,X=>{a(u)&&!a(m)&&Nt()&&!a(_)&&X(ee)})}var se=x($,2);{var oe=X=>{BY(X,{})};W(se,X=>{a(S)&&X(oe)})}var K=x(se,2);{var J=X=>{YY(X,{})};W(K,X=>{c().show&&X(J)})}var te=x(j,2);QK(te,{}),b(I,B)};W(A,I=>{a(y)&&I(O)})}b(t,D),Ke(),n()}function vQ(t){try{G0.subscribe(e=>{for(const[r,n]of Object.entries(e.colors))t.host.style.setProperty(r,n)})}catch(e){console.log("error in bindThemeToShadows",e)}}export{fQ as C,vQ as b,uQ as r,dQ as s};
