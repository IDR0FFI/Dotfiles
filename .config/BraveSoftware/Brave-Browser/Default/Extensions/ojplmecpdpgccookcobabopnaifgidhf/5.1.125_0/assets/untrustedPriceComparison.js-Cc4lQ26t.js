import{c as s,w as l}from"./utility_all2-0mYDd1Oa.js";async function p(t){try{let r=t.split("redirect=");r.length>1&&(t=r[1]),t=t.split("?source=")[0],t=t.split("&source=")[0],t=t.split("?utm_source=google")[0],t=t.split("&utm_source=google")[0];let[e,o]=t.split("?");if(!o)return e=e.split("&")[0],e;const i=o.split("&").filter(a=>{let[c]=a.split("=");return/(sku|variant|modal-code|modelCode|gid|pid|PID)/i.test(c.toLowerCase())}).join("&");return t=t.split("&")[0],i?`${e}?${i}`:e}catch{return t}}async function n(){try{let t=window.location.href;if(!await s({type:"checkToCallPriceComparisonFunction",url:window.location.href}))return;await s({type:"fireEvent",eventName:"untrustedSiteCalled",params:{hostName:window.location.hostname}});let e=await p(t),o=await s({type:"getPriceComparison",pid:e,pos:-1e3});const i=JSON.stringify(o);l(i)}catch{}}n();
